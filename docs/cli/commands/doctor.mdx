---
title: 'orphelix doctor'
description: 'Run health checks and diagnostics'
---

# orphelix doctor

Run comprehensive health checks to diagnose issues with Orphelix installation.

## Usage

```bash
orphelix doctor
```

## Example Output

### All Checks Pass

```bash
$ orphelix doctor

ðŸ¥ Running health checks...

âœ… Node.js version: v24.1.0 (required: >= 24.0.0)
âœ… kubectl installed and accessible
âœ… Kubernetes cluster reachable (context: minikube)
âœ… Dependencies installed (node_modules exists)
âœ… Standalone build exists
âœ… Database accessible (orphelix.db)
âœ… Port 3000 available
âœ… pm2 process manager available

ðŸŽ‰ All checks passed! Orphelix is healthy.
```

### Issues Detected

```bash
$ orphelix doctor

ðŸ¥ Running health checks...

âœ… Node.js version: v24.1.0
âŒ kubectl not found in PATH
âš ï¸  Kubernetes cluster not reachable
âœ… Dependencies installed
âœ… Database accessible
âŒ Port 3000 already in use (PID: 54321)
âœ… pm2 available

âŒ Found 2 errors and 1 warning

Errors:
  1. kubectl is not installed
     Fix: brew install kubectl (macOS) or see https://kubernetes.io/docs/tasks/tools/

  2. Port 3000 is in use by another process
     Fix: orphelix start --port 8080
        or kill process: lsof -ti:3000 | xargs kill

Warnings:
  1. Kubernetes cluster not reachable
     This may be expected if cluster is offline
```

## Health Checks Performed

### System Requirements
- **Node.js version** - Checks for >= 24.0.0
- **kubectl** - Verifies kubectl is installed and in PATH
- **pm2** - Checks pm2 process manager availability

### Dependencies
- **node_modules** - Verifies npm packages are installed
- **Standalone build** - Checks if Next.js build exists

### Kubernetes
- **Cluster connection** - Tests kubectl connection to cluster
- **Current context** - Shows active kubectl context
- **API server** - Verifies API server is reachable

### Application
- **Database** - Checks orphelix.db exists and is readable
- **Port availability** - Tests if configured port is free
- **Process status** - Verifies pm2 process health

### Workers
- **Notification worker** - Checks background worker status

## Exit Codes

- `0` - All checks passed
- `1` - One or more checks failed

## When to Run Doctor

Run `orphelix doctor` when:

- Installation completes but app won't start
- Experiencing connection issues
- After system updates or changes
- Before reporting bugs
- Troubleshooting performance issues

## Automated Fixes

<Info>
Future versions may include `orphelix doctor --fix` to automatically resolve common issues.
</Info>

## Related Commands

- [info](/cli/commands/info) - Application information
- [status](/cli/commands/status) - Quick status check
- [version](/cli/commands/version) - Version info

## See Also

<Card title="Troubleshooting Guide" icon="wrench" href="/cli/troubleshooting">
  Common issues and solutions
</Card>
