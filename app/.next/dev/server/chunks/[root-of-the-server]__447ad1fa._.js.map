{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///Users/dmakowski/git_priv/kubevista/auth.ts"],"sourcesContent":["import NextAuth from 'next-auth'\nimport GithubProvider from 'next-auth/providers/github'\n\nexport const { auth, handlers, signIn, signOut } = NextAuth({\n  providers: [\n    GithubProvider({\n      clientId: process.env.GITHUB_ID || '',\n      clientSecret: process.env.GITHUB_SECRET || '',\n    }),\n  ],\n  callbacks: {\n    async session({ session, token }) {\n      if (session.user) {\n        session.user.id = token.sub as string\n      }\n      return session\n    },\n    async authorized({ auth, request }) {\n      const { pathname } = request.nextUrl\n\n      // Allow access to root path (welcome screen)\n      if (pathname === '/') return true\n\n      // Allow API routes\n      if (pathname.startsWith('/api')) return true\n\n      // Check if user is authenticated (for real mode)\n      if (auth) return true\n\n      // Check for demo mode cookie\n      const appMode = request.cookies.get('app-mode')?.value\n      if (appMode === 'demo') return true\n\n      // Deny access - will redirect to '/'\n      return false\n    },\n  },\n  pages: {\n    signIn: '/', // Redirect to welcome modal\n  },\n  debug: process.env.NODE_ENV === 'development',\n})\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AAAA;;;AAEO,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,kKAAQ,EAAC;IAC1D,WAAW;QACT,IAAA,kKAAc,EAAC;YACb,UAAU,QAAQ,GAAG,CAAC,SAAS,IAAI;YACnC,cAAc,QAAQ,GAAG,CAAC,aAAa,IAAI;QAC7C;KACD;IACD,WAAW;QACT,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC9B,IAAI,QAAQ,IAAI,EAAE;gBAChB,QAAQ,IAAI,CAAC,EAAE,GAAG,MAAM,GAAG;YAC7B;YACA,OAAO;QACT;QACA,MAAM,YAAW,EAAE,IAAI,EAAE,OAAO,EAAE;YAChC,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;YAEpC,6CAA6C;YAC7C,IAAI,aAAa,KAAK,OAAO;YAE7B,mBAAmB;YACnB,IAAI,SAAS,UAAU,CAAC,SAAS,OAAO;YAExC,iDAAiD;YACjD,IAAI,MAAM,OAAO;YAEjB,6BAA6B;YAC7B,MAAM,UAAU,QAAQ,OAAO,CAAC,GAAG,CAAC,aAAa;YACjD,IAAI,YAAY,QAAQ,OAAO;YAE/B,qCAAqC;YACrC,OAAO;QACT;IACF;IACA,OAAO;QACL,QAAQ;IACV;IACA,OAAO,oDAAyB;AAClC"}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///Users/dmakowski/git_priv/kubevista/app/api/auth/%5B...nextauth%5D/route.ts"],"sourcesContent":["import { handlers } from '@/auth'\n\nexport const { GET, POST } = handlers\n"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,kHAAQ"}}]
}