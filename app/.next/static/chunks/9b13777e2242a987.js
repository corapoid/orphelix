(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,549638,e=>{"use strict";var t=e.i(843476),r=e.i(586653),a=e.i(126863),l=e.i(236807),i=e.i(67719);let s=(0,e.i(454624).default)((0,t.jsx)("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2m0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19z"}),"Inbox");function n({icon:e=s,title:n,description:o,action:c}){return(0,t.jsxs)(i.default,{sx:{p:6,textAlign:"center",bgcolor:"background.default",border:"2px dashed",borderColor:"divider"},children:[(0,t.jsx)(r.default,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:80,height:80,borderRadius:"50%",bgcolor:"action.hover",mb:3},children:(0,t.jsx)(e,{sx:{fontSize:40,color:"text.secondary"}})}),(0,t.jsx)(a.default,{variant:"h6",sx:{fontWeight:600,mb:1},children:n}),o&&(0,t.jsx)(a.default,{variant:"body2",color:"text.secondary",sx:{mb:3,maxWidth:400,mx:"auto"},children:o}),c&&(0,t.jsx)(l.default,{variant:"contained",onClick:c.onClick,children:c.label})]})}e.s(["EmptyState",()=>n],549638)},654895,e=>{"use strict";var t=e.i(843476),r=e.i(289590),a=e.i(514570),a=a,l=e.i(3626),l=l,i=e.i(103737),i=i,s=e.i(571604),s=s,n=e.i(955668),n=n,o=e.i(117693),o=o,c=e.i(332963);function d({rows:e=5,columns:d=6,showHeader:u=!0}){return(0,t.jsx)(s.default,{component:c.Paper,children:(0,t.jsxs)(a.default,{children:[u&&(0,t.jsx)(n.default,{children:(0,t.jsx)(o.default,{children:Array.from({length:d}).map((e,a)=>(0,t.jsx)(i.default,{children:(0,t.jsx)(r.Skeleton,{variant:"text",width:"80%",height:24})},`header-${a}`))})}),(0,t.jsx)(l.default,{children:Array.from({length:e}).map((e,a)=>(0,t.jsx)(o.default,{children:Array.from({length:d}).map((e,l)=>(0,t.jsx)(i.default,{children:(0,t.jsx)(r.Skeleton,{variant:"text",width:0===l?"60%":"80%",height:20})},`cell-${a}-${l}`))},`row-${a}`))})]})})}e.s(["TableSkeleton",()=>d],654895)},226519,e=>{"use strict";var t=e.i(271645);function r(e,a=null,l="asc"){let[i,s]=(0,t.useState)(a),[n,o]=(0,t.useState)(l),[c,d]=(0,t.useState)(new Map);return{sortedData:(0,t.useMemo)(()=>i?[...e].sort((e,t)=>{let r=c.get(String(i));if(r)return r(e,t,n);let a=e[i],l=t[i];if(null==a&&null==l)return 0;if(null==a)return"asc"===n?1:-1;if(null==l)return"asc"===n?-1:1;if("string"==typeof a&&"string"==typeof l){let e=a.localeCompare(l);return"asc"===n?e:-e}if("number"==typeof a&&"number"==typeof l)return"asc"===n?a-l:l-a;let s=String(a),o=String(l),d=s.localeCompare(o);return"asc"===n?d:-d}):e,[e,i,n,c]),sortField:i,sortOrder:n,handleSort:(e,t)=>{i===e?o("asc"===n?"desc":"asc"):(s(e),o("asc"),t&&d(r=>{let a=new Map(r);return a.set(String(e),t),a}))}}}e.s(["useSortableTable",()=>r])},508979,e=>{"use strict";var t=e.i(454624),r=e.i(843476);let a=(0,t.default)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");e.s(["default",0,a])},817817,e=>{"use strict";var t=e.i(266027),r=e.i(913662),a=e.i(684074);function l(){let e=(0,r.useModeStore)(e=>e.mode),l=(0,r.useModeStore)(e=>e.selectedNamespace),i=(0,r.useModeStore)(e=>e.selectedContext);return(0,t.useQuery)({queryKey:["services",e,l,i?.name||""],queryFn:async()=>{if("demo"===e)return await new Promise(e=>setTimeout(e,300)),(0,a.generateMockServices)();let t=await fetch(`/api/services?namespace=${encodeURIComponent(l)}&context=${encodeURIComponent(i?.name||"")}`);if(!t.ok)throw Error((await t.json()).error||"Failed to fetch services");return t.json()},enabled:"demo"===e||!!l})}function i(e){let l=(0,r.useModeStore)(e=>e.mode),i=(0,r.useModeStore)(e=>e.selectedNamespace),s=(0,r.useModeStore)(e=>e.selectedContext);return(0,t.useQuery)({queryKey:["services",l,i,e],queryFn:async()=>{if("demo"===l){await new Promise(e=>setTimeout(e,200));let t=(0,a.generateMockServices)().find(t=>t.name===e);if(!t)throw Error("Service not found");return t}let t=await fetch(`/api/services/${e}?namespace=${encodeURIComponent(i)}&context=${encodeURIComponent(s?.name||"")}`);if(!t.ok)throw Error((await t.json()).error||"Failed to fetch service");return t.json()},enabled:("demo"===l||!!i)&&!!e})}e.s(["useService",()=>i,"useServices",()=>l])},137137,e=>{"use strict";var t=e.i(843476),r=e.i(586653),a=e.i(514570),l=e.i(3626),i=e.i(103737),s=e.i(571604),n=e.i(955668),o=e.i(117693),c=e.i(67719),d=e.i(828637),u=e.i(739147),f=e.i(926678),h=e.i(828642),m=e.i(271645),x=e.i(367882),p=e.i(549638),g=e.i(654895),b=e.i(498915),j=e.i(916155),v=e.i(226519),S=e.i(10612),y=e.i(8353);function C({title:e,resourceName:C,resourceNamePlural:w,icon:P,data:$,isLoading:T,error:R,refetch:k,searchPlaceholder:I,searchFilter:M,filters:N=[],customFilter:A,columns:E,defaultSortField:L,defaultSortOrder:F="asc",getRowKey:H,onRowClick:z,showClusterAlert:B=!0,emptyStateDescription:U}){let K=(0,y.usePageSearch)(I);(0,S.useAutoRefresh)(k);let O=(0,m.useMemo)(()=>{if(!$)return[];let e=$;return A&&(e=e.filter(A)),K&&(e=e.filter(e=>M(e,K))),e},[$,K,M,A]),{sortedData:q,sortField:W,sortOrder:V,handleSort:D}=(0,v.useSortableTable)(O,L,F);return T?(0,t.jsxs)(r.default,{children:[(0,t.jsx)(x.PageHeader,{title:e,onRefresh:k}),(0,t.jsx)(g.TableSkeleton,{rows:8,columns:E.length})]}):R?(0,t.jsxs)(r.default,{children:[(0,t.jsx)(x.PageHeader,{title:e,onRefresh:k}),(0,t.jsx)(b.ErrorState,{error:R,onRetry:k,title:`Failed to Load ${e}`})]}):(0,t.jsxs)(r.default,{children:[(0,t.jsx)(x.PageHeader,{title:e,subtitle:`${$?.length||0} ${$?.length===1?C:w} in this namespace`,onRefresh:k,isRefreshing:T,filters:N.length>0?(0,t.jsx)(r.default,{sx:{display:"flex",gap:1,alignItems:"center"},children:N.map(e=>(0,t.jsxs)(d.default,{size:"small",sx:{minWidth:150},children:[(0,t.jsx)(u.default,{children:e.label}),(0,t.jsx)(f.default,{value:e.value,label:e.label,onChange:t=>e.onChange(t.target.value),children:e.options.map(e=>(0,t.jsx)(h.default,{value:e.value,children:e.label},e.value))})]},e.label))}):void 0}),B&&(0,t.jsx)(j.ClusterConnectionAlert,{minimal:!0}),$&&0!==$.length?0===O.length?(0,t.jsx)(p.EmptyState,{icon:P,title:`No matching ${w}`,description:`No ${w} match your search or filters.`}):(0,t.jsx)(s.default,{component:c.default,children:(0,t.jsxs)(a.default,{children:[(0,t.jsx)(n.default,{children:(0,t.jsx)(o.default,{children:E.map(e=>(0,t.jsxs)(i.default,{align:e.align||"left",sx:{cursor:!1!==e.sortable?"pointer":"default"},onClick:!1!==e.sortable?()=>D(e.field,e.customSortFn):void 0,children:[e.label,!1!==e.sortable&&W===e.field&&("asc"===V?" ↑":" ↓")]},String(e.field)))})}),(0,t.jsx)(l.default,{children:q.map(e=>(0,t.jsx)(o.default,{hover:!0,sx:{cursor:z?"pointer":"default"},onClick:z?()=>z(e):void 0,children:E.map(r=>(0,t.jsx)(i.default,{align:r.align||"left",children:r.render?r.render(e):String(e[r.field]??"")},String(r.field)))},H(e)))})]})}):(0,t.jsx)(p.EmptyState,{icon:P,title:`No ${w} found`,description:U||`There are no ${w} in this namespace yet.`})]})}e.s(["TableOnlyResourceList",()=>C])},322809,e=>{"use strict";var t=e.i(843476),r=e.i(126863),a=e.i(443090),l=e.i(301653),i=e.i(508979),s=e.i(658606),n=e.i(271645),o=e.i(986867),c=e.i(817817),d=e.i(137137);function u(){let e=(0,o.useNavigateTo)(),[u,f]=(0,n.useState)(""),{data:h,isLoading:m,error:x,refetch:p}=(0,c.useServices)(),g=[{field:"name",label:"Name",render:e=>(0,t.jsx)(r.default,{variant:"body2",fontWeight:"medium",children:e.name})},{field:"type",label:"Type",render:e=>(0,t.jsx)(s.StatusBadge,{label:e.type,size:"small",color:(e=>{switch(e){case"LoadBalancer":return"success";case"NodePort":return"info";case"ClusterIP":default:return"default";case"ExternalName":return"warning"}})(e.type)})},{field:"clusterIP",label:"Cluster IP"},{field:"externalIP",label:"External IP",render:e=>e.externalIPs?.join(", ")||"-"},{field:"ports",label:"Ports",render:e=>e.ports.map(e=>`${e.port}/${e.protocol}`).join(", "),sortable:!1},{field:"age",label:"Age"},{field:"actions",label:"Actions",align:"right",sortable:!1,render:r=>(0,t.jsx)(a.default,{size:"small",onClick:t=>{t.stopPropagation(),e(`/services/${r.name}`)},children:(0,t.jsx)(i.default,{fontSize:"small"})})}];return(0,t.jsx)(d.TableOnlyResourceList,{title:"Services",resourceName:"service",resourceNamePlural:"services",icon:l.default,data:h,isLoading:m,error:x,refetch:p,searchPlaceholder:"Search services...",searchFilter:(e,t)=>e.name.toLowerCase().includes(t.toLowerCase()),customFilter:u?e=>e.type===u:void 0,filters:[{label:"Type",value:u,options:[{label:"All Types",value:""},{label:"ClusterIP",value:"ClusterIP"},{label:"NodePort",value:"NodePort"},{label:"LoadBalancer",value:"LoadBalancer"},{label:"ExternalName",value:"ExternalName"}],onChange:e=>f(e)}],columns:g,defaultSortField:"name",defaultSortOrder:"asc",getRowKey:e=>e.name,onRowClick:t=>e(`/services/${t.name}`),emptyStateDescription:"There are no services in this namespace. Create a service to expose your applications."})}e.s(["default",()=>u])}]);