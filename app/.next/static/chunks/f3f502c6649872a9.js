(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,964527,e=>{"use strict";var t=e.i(843476),r=e.i(247167),a=e.i(271645);class n extends Error{constructor(e,t){e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...t}}):"string"==typeof e?(t instanceof Error&&(t={err:t,...t.cause}),super(e,t)):super(void 0,e),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);const r=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${r}`}}class o extends n{}class i extends n{}async function s(e,t,r,a={}){let n=`${l(t)}/${e}`;try{let e={headers:{"Content-Type":"application/json",...a?.headers?.cookie?{cookie:a.headers.cookie}:{}}};a?.body&&(e.body=JSON.stringify(a.body),e.method="POST");let t=await fetch(n,e),r=await t.json();if(!t.ok)throw r;return r}catch(e){return r.error(new o(e.message,e)),null}}function l(e){return"undefined"==typeof window?`${e.baseUrlServer}${e.basePathServer}`:e.basePath}function d(){return Math.floor(Date.now()/1e3)}function c(e){let t=new URL("http://localhost:3000/api/auth");e&&!e.startsWith("http")&&(e=`https://${e}`);let r=new URL(e||t),a=("/"===r.pathname?t.pathname:r.pathname).replace(/\/$/,""),n=`${r.origin}${a}`;return{origin:r.origin,host:r.host,path:a,base:n,toString:()=>n}}let u={baseUrl:c(r.default.env.NEXTAUTH_URL??r.default.env.VERCEL_URL).origin,basePath:c(r.default.env.NEXTAUTH_URL).path,baseUrlServer:c(r.default.env.NEXTAUTH_URL_INTERNAL??r.default.env.NEXTAUTH_URL??r.default.env.VERCEL_URL).origin,basePathServer:c(r.default.env.NEXTAUTH_URL_INTERNAL??r.default.env.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:()=>{}},h=null;function p(){return"undefined"==typeof BroadcastChannel?{postMessage:()=>{},addEventListener:()=>{},removeEventListener:()=>{},name:"next-auth",onmessage:null,onmessageerror:null,close:()=>{},dispatchEvent:()=>!1}:new BroadcastChannel("next-auth")}function f(){return null===h&&(h=p()),h}let x={debug:console.debug,error:console.error,warn:console.warn},m=a.createContext?.(void 0);function g(e){if(!m)throw Error("React Context is unavailable in Server Components");let t=a.useContext(m),{required:r,onUnauthenticated:n}=e??{},o=r&&"unauthenticated"===t.status;return(a.useEffect(()=>{if(o){let e=`${u.basePath}/signin?${new URLSearchParams({error:"SessionRequired",callbackUrl:window.location.href})}`;n?n():window.location.href=e}},[o,n]),o)?{data:t.data,update:t.update,status:"loading"}:t}async function y(e){let t=await s("session",u,x,e);return(e?.broadcast??!0)&&p().postMessage({event:"session",data:{trigger:"getSession"}}),t}async function b(){let e=await s("csrf",u,x);return e?.csrfToken??""}async function v(){return s("providers",u,x)}async function j(e,t,r){let{callbackUrl:a,...n}=t??{},{redirect:o=!0,redirectTo:i=a??window.location.href,...s}=n,d=l(u),c=await v();if(!c){let e=`${d}/error`;window.location.href=e;return}if(!e||!c[e]){let e=`${d}/signin?${new URLSearchParams({callbackUrl:i})}`;window.location.href=e;return}let h=c[e].type;if("webauthn"===h)throw TypeError(`Provider id "${e}" refers to a WebAuthn provider.
Please use \`import { signIn } from "next-auth/webauthn"\` instead.`);let p=`${d}/${"credentials"===h?"callback":"signin"}/${e}`,f=await b(),x=await fetch(`${p}?${new URLSearchParams(r)}`,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...s,csrfToken:f,callbackUrl:i})}),m=await x.json();if(o){let e=m.url??i;window.location.href=e,e.includes("#")&&window.location.reload();return}let g=new URL(m.url).searchParams.get("error")??void 0,y=new URL(m.url).searchParams.get("code")??void 0;return x.ok&&await u._getSession({event:"storage"}),{error:g,code:y,status:x.status,ok:x.ok,url:g?null:m.url}}async function w(e){let{redirect:t=!0,redirectTo:r=e?.callbackUrl??window.location.href}=e??{},a=l(u),n=await b(),o=await fetch(`${a}/signout`,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({csrfToken:n,callbackUrl:r})}),i=await o.json();if(f().postMessage({event:"session",data:{trigger:"signout"}}),t){let e=i.url??r;window.location.href=e,e.includes("#")&&window.location.reload();return}return await u._getSession({event:"storage"}),i}function C(e){if(!m)throw Error("React Context is unavailable in Server Components");let{children:r,basePath:n,refetchInterval:o,refetchWhenOffline:l}=e;n&&(u.basePath=n);let c=void 0!==e.session;u._lastSync=c?d():0;let[h,p]=a.useState(()=>(c&&(u._session=e.session),e.session)),[g,v]=a.useState(!c);a.useEffect(()=>(u._getSession=async({event:e}={})=>{try{let t="storage"===e;if(t||void 0===u._session){u._lastSync=d(),u._session=await y({broadcast:!t}),p(u._session);return}if(!e||null===u._session||d()<u._lastSync)return;u._lastSync=d(),u._session=await y(),p(u._session)}catch(e){x.error(new i(e.message,e))}finally{v(!1)}},u._getSession(),()=>{u._lastSync=0,u._session=void 0,u._getSession=()=>{}}),[]),a.useEffect(()=>{let e=()=>u._getSession({event:"storage"});return f().addEventListener("message",e),()=>f().removeEventListener("message",e)},[]),a.useEffect(()=>{let{refetchOnWindowFocus:t=!0}=e,r=()=>{t&&"visible"===document.visibilityState&&u._getSession({event:"visibilitychange"})};return document.addEventListener("visibilitychange",r,!1),()=>document.removeEventListener("visibilitychange",r,!1)},[e.refetchOnWindowFocus]);let j=function(){let[e,t]=a.useState("undefined"!=typeof navigator&&navigator.onLine),r=()=>t(!0),n=()=>t(!1);return a.useEffect(()=>(window.addEventListener("online",r),window.addEventListener("offline",n),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}),[]),e}(),w=!1!==l||j;a.useEffect(()=>{if(o&&w){let e=setInterval(()=>{u._session&&u._getSession({event:"poll"})},1e3*o);return()=>clearInterval(e)}},[o,w]);let C=a.useMemo(()=>({data:h,status:g?"loading":h?"authenticated":"unauthenticated",async update(e){if(g)return;v(!0);let t=await s("session",u,x,void 0===e?void 0:{body:{csrfToken:await b(),data:e}});return v(!1),t&&(p(t),f().postMessage({event:"session",data:{trigger:"getSession"}})),t}}),[h,g]);return(0,t.jsx)(m.Provider,{value:C,children:r})}var k=e.i(619273),S=e.i(286491),E=e.i(540143),z=e.i(915823),M=class extends z.Subscribable{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){let a=t.queryKey,n=t.queryHash??(0,k.hashQueryKeyByOptions)(a,t),o=this.get(n);return o||(o=new S.Query({client:e,queryKey:a,queryHash:n,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){E.notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,k.matchQuery)(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,k.matchQuery)(e,t)):t}notify(e){E.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){E.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){E.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},P=e.i(114272),L=z,R=class extends L.Subscribable{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#r=new Map,this.#a=0}#t;#r;#a;build(e,t,r){let a=new P.Mutation({client:e,mutationCache:this,mutationId:++this.#a,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){this.#t.add(e);let t=T(e);if("string"==typeof t){let r=this.#r.get(t);r?r.push(e):this.#r.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){let t=T(e);if("string"==typeof t){let r=this.#r.get(t);if(r)if(r.length>1){let t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#r.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){let t=T(e);if("string"!=typeof t)return!0;{let r=this.#r.get(t),a=r?.find(e=>"pending"===e.state.status);return!a||a===e}}runNext(e){let t=T(e);if("string"!=typeof t)return Promise.resolve();{let r=this.#r.get(t)?.find(t=>t!==e&&t.state.isPaused);return r?.continue()??Promise.resolve()}}clear(){E.notifyManager.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#r.clear()})}getAll(){return Array.from(this.#t)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,k.matchMutation)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,k.matchMutation)(e,t))}notify(e){E.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return E.notifyManager.batch(()=>Promise.all(e.map(e=>e.continue().catch(k.noop))))}};function T(e){return e.options.scope?.id}var W=e.i(175555),I=e.i(814448);function A(e){return{onFetch:(t,r)=>{let a=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],i=t.state.data?.pageParams||[],s={pages:[],pageParams:[]},l=0,d=async()=>{let r=!1,d=(0,k.ensureQueryFn)(t.options,t.fetchOptions),c=async(e,a,n)=>{let o;if(r)return Promise.reject();if(null==a&&e.pages.length)return Promise.resolve(e);let i=(Object.defineProperty(o={client:t.client,queryKey:t.queryKey,pageParam:a,direction:n?"backward":"forward",meta:t.options.meta},"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",()=>{r=!0}),t.signal)}),o),s=await d(i),{maxPages:l}=t.options,c=n?k.addToStart:k.addToEnd;return{pages:c(e.pages,s,l),pageParams:c(e.pageParams,a,l)}};if(n&&o.length){let e="backward"===n,t={pages:o,pageParams:i},r=(e?function(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}:O)(a,t);s=await c(t,r,e)}else{let t=e??o.length;do{let e=0===l?i[0]??a.initialPageParam:O(a,s);if(l>0&&null==e)break;s=await c(s,e),l++}while(l<t)}return s};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=d}}}function O(e,{pages:t,pageParams:r}){let a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}var q=class{#n;#o;#i;#s;#l;#d;#c;#u;constructor(e={}){this.#n=e.queryCache||new M,this.#o=e.mutationCache||new R,this.#i=e.defaultOptions||{},this.#s=new Map,this.#l=new Map,this.#d=0}mount(){this.#d++,1===this.#d&&(this.#c=W.focusManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#n.onFocus())}),this.#u=I.onlineManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#n.onOnline())}))}unmount(){this.#d--,0===this.#d&&(this.#c?.(),this.#c=void 0,this.#u?.(),this.#u=void 0)}isFetching(e){return this.#n.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#o.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#n.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),r=this.#n.build(this,t),a=r.state.data;return void 0===a?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime((0,k.resolveStaleTime)(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#n.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){let a=this.defaultQueryOptions({queryKey:e}),n=this.#n.get(a.queryHash),o=n?.state.data,i=(0,k.functionalUpdate)(t,o);if(void 0!==i)return this.#n.build(this,a).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return E.notifyManager.batch(()=>this.#n.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#n.get(t.queryHash)?.state}removeQueries(e){let t=this.#n;E.notifyManager.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let r=this.#n;return E.notifyManager.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let r={revert:!0,...t};return Promise.all(E.notifyManager.batch(()=>this.#n.findAll(e).map(e=>e.cancel(r)))).then(k.noop).catch(k.noop)}invalidateQueries(e,t={}){return E.notifyManager.batch(()=>(this.#n.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))}refetchQueries(e,t={}){let r={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(E.notifyManager.batch(()=>this.#n.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(k.noop)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(k.noop)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let r=this.#n.build(this,t);return r.isStaleByTime((0,k.resolveStaleTime)(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(k.noop).catch(k.noop)}fetchInfiniteQuery(e){return e.behavior=A(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(k.noop).catch(k.noop)}ensureInfiniteQueryData(e){return e.behavior=A(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return I.onlineManager.isOnline()?this.#o.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#n}getMutationCache(){return this.#o}getDefaultOptions(){return this.#i}setDefaultOptions(e){this.#i=e}setQueryDefaults(e,t){this.#s.set((0,k.hashKey)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#s.values()],r={};return t.forEach(t=>{(0,k.partialMatchKey)(e,t.queryKey)&&Object.assign(r,t.defaultOptions)}),r}setMutationDefaults(e,t){this.#l.set((0,k.hashKey)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#l.values()],r={};return t.forEach(t=>{(0,k.partialMatchKey)(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#i.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,k.hashQueryKeyByOptions)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===k.skipToken&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#i.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#n.clear(),this.#o.clear()}},D=e.i(912598),F=e.i(618566),H=e.i(608717),B=e.i(8353),Q=e.i(913662);function $(){let e=(0,F.usePathname)(),t=(0,Q.useModeStore)(e=>e.setMode);return(0,a.useEffect)(()=>{e.startsWith("/demo")?t("demo"):t("real")},[e,t]),null}function U({children:e}){let[r]=(0,a.useState)(()=>new q({defaultOptions:{queries:{staleTime:3e4,refetchInterval:3e4}}}));return(0,t.jsx)(C,{children:(0,t.jsx)(D.QueryClientProvider,{client:r,children:(0,t.jsx)(H.ThemeProvider,{children:(0,t.jsxs)(B.SearchProvider,{children:[(0,t.jsx)($,{}),e]})})})})}var _=e.i(586653),N=e.i(207670),K=e.i(519130),V=e.i(868308),G=e.i(18005),X=e.i(606586),J=e.i(552174),Y=e.i(791783),Z=e.i(719636),ee=e.i(210557),et=e.i(801226),er=e.i(99064);function ea(e,t,r){let a=function(e,t,r){let a,n=t.getBoundingClientRect(),o=r&&r.getBoundingClientRect(),i=(0,er.ownerWindow)(t);if(t.fakeTransform)a=t.fakeTransform;else{let e=i.getComputedStyle(t);a=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let s=0,l=0;if(a&&"none"!==a&&"string"==typeof a){let e=a.split("(")[1].split(")")[0].split(",");s=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?o?`translateX(${o.right+s-n.left}px)`:`translateX(${i.innerWidth+s-n.left}px)`:"right"===e?o?`translateX(-${n.right-o.left-s}px)`:`translateX(-${n.left+n.width-s}px)`:"up"===e?o?`translateY(${o.bottom+l-n.top}px)`:`translateY(${i.innerHeight+l-n.top}px)`:o?`translateY(-${n.top-o.top+n.height-l}px)`:`translateY(-${n.top+n.height-l}px)`}(e,t,"function"==typeof r?r():r);t.style.webkitTransform=a,t.style.transform=a}let en=a.forwardRef(function(e,r){let n=(0,ee.useTheme)(),o={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:l=!0,children:d,container:c,direction:u="down",easing:h=o,in:p,onEnter:f,onEntered:x,onEntering:m,onExit:g,onExited:y,onExiting:b,style:v,timeout:j=i,TransitionComponent:w=X.Transition,...C}=e,k=a.useRef(null),S=(0,Z.default)((0,J.default)(d),k,r),E=e=>t=>{e&&(void 0===t?e(k.current):e(k.current,t))},z=E((e,t)=>{ea(u,e,c),(0,et.reflow)(e),f&&f(e,t)}),M=E((e,t)=>{let r=(0,et.getTransitionProps)({timeout:j,style:v,easing:h},{mode:"enter"});e.style.webkitTransition=n.transitions.create("-webkit-transform",{...r}),e.style.transition=n.transitions.create("transform",{...r}),e.style.webkitTransform="none",e.style.transform="none",m&&m(e,t)}),P=E(x),L=E(b),R=E(e=>{let t=(0,et.getTransitionProps)({timeout:j,style:v,easing:h},{mode:"exit"});e.style.webkitTransition=n.transitions.create("-webkit-transform",t),e.style.transition=n.transitions.create("transform",t),ea(u,e,c),g&&g(e)}),T=E(e=>{e.style.webkitTransition="",e.style.transition="",y&&y(e)}),W=a.useCallback(()=>{k.current&&ea(u,k.current,c)},[u,c]);return a.useEffect(()=>{if(p||"down"===u||"right"===u)return;let e=(0,Y.default)(()=>{k.current&&ea(u,k.current,c)}),t=(0,er.ownerWindow)(k.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[u,p,c]),a.useEffect(()=>{p||W()},[p,W]),(0,t.jsx)(w,{nodeRef:k,onEnter:z,onEntered:P,onEntering:M,onExit:R,onExited:T,onExiting:L,addEndListener:e=>{s&&s(k.current,e)},appear:l,in:p,timeout:j,...C,children:(e,{ownerState:t,...r})=>a.cloneElement(d,{ref:S,style:{visibility:"exited"!==e||p?void 0:"hidden",...v,...d.props.style},...r})})});var eo=e.i(67719),ei=e.i(942196),es=e.i(152039),el=e.i(940799),ed=e.i(75149),ec=e.i(594425),eu=e.i(540672),eh=e.i(319727);function ep(e){return(0,eh.default)("MuiDrawer",e)}(0,eu.default)("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);var ef=e.i(348106),ex=e.i(484476);let em=(e,t)=>{let{ownerState:r}=e;return[t.root,("permanent"===r.variant||"persistent"===r.variant)&&t.docked,t.modal]},eg=(0,el.styled)(G.default,{name:"MuiDrawer",slot:"Root",overridesResolver:em})((0,ed.default)(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),ey=(0,el.styled)("div",{shouldForwardProp:es.default,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:em})({flex:"0 0 auto"}),eb=(0,el.styled)(eo.default,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.paper,t[`paperAnchor${(0,ei.default)(r.anchor)}`],"temporary"!==r.variant&&t[`paperAnchorDocked${(0,ei.default)(r.anchor)}`]]}})((0,ed.default)(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>"left"===e.anchor&&"temporary"!==e.variant,style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:e})=>"top"===e.anchor&&"temporary"!==e.variant,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:e})=>"right"===e.anchor&&"temporary"!==e.variant,style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:e})=>"bottom"===e.anchor&&"temporary"!==e.variant,style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),ev={left:"right",right:"left",top:"down",bottom:"up"},ej=a.forwardRef(function(e,r){let n=(0,ec.useDefaultProps)({props:e,name:"MuiDrawer"}),o=(0,ee.useTheme)(),i=(0,V.useRtl)(),s={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{anchor:l="left",BackdropProps:d,children:c,className:u,elevation:h=16,hideBackdrop:p=!1,ModalProps:{BackdropProps:f,...x}={},onClose:m,open:g=!1,PaperProps:y={},SlideProps:b,TransitionComponent:v,transitionDuration:j=s,variant:w="temporary",slots:C={},slotProps:k={},...S}=n,E=a.useRef(!1);a.useEffect(()=>{E.current=!0},[]);let z=function({direction:e},t){return"rtl"===e&&["left","right"].includes(t)?ev[t]:t}({direction:i?"rtl":"ltr"},l),M={...n,anchor:l,elevation:h,open:g,variant:w,...S},P=(e=>{let{classes:t,anchor:r,variant:a}=e,n={root:["root",`anchor${(0,ei.default)(r)}`],docked:[("permanent"===a||"persistent"===a)&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${(0,ei.default)(r)}`,"temporary"!==a&&`paperAnchorDocked${(0,ei.default)(r)}`]};return(0,K.default)(n,ep,t)})(M),L={slots:{transition:v,...C},slotProps:{paper:y,transition:b,...k,backdrop:(0,ex.mergeSlotProps)(k.backdrop||{...d,...f},{transitionDuration:j})}},[R,T]=(0,ef.default)("root",{ref:r,elementType:eg,className:(0,N.default)(P.root,P.modal,u),shouldForwardComponentProp:!0,ownerState:M,externalForwardedProps:{...L,...S,...x},additionalProps:{open:g,onClose:m,hideBackdrop:p,slots:{backdrop:L.slots.backdrop},slotProps:{backdrop:L.slotProps.backdrop}}}),[W,I]=(0,ef.default)("paper",{elementType:eb,shouldForwardComponentProp:!0,className:(0,N.default)(P.paper,y.className),ownerState:M,externalForwardedProps:L,additionalProps:{elevation:"temporary"===w?h:0,square:!0,..."temporary"===w&&{role:"dialog","aria-modal":"true"}}}),[A,O]=(0,ef.default)("docked",{elementType:ey,ref:r,className:(0,N.default)(P.root,P.docked,u),ownerState:M,externalForwardedProps:L,additionalProps:S}),[q,D]=(0,ef.default)("transition",{elementType:en,ownerState:M,externalForwardedProps:L,additionalProps:{in:g,direction:ev[z],timeout:j,appear:E.current}}),F=(0,t.jsx)(W,{...I,children:c});if("permanent"===w)return(0,t.jsx)(A,{...O,children:F});let H=(0,t.jsx)(q,{...D,children:F});return"persistent"===w?(0,t.jsx)(A,{...O,children:H}):(0,t.jsx)(R,{...T,children:H})});var ew=e.i(232412),eC=e.i(865801),ek=e.i(435522),eS=e.i(576391),eE=e.i(63153),ez=e.i(869799),eM=e.i(126863),eP=e.i(443090),eL=e.i(212401),eR=e.i(454624);let eT=(0,eR.default)((0,t.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),eW=(0,eR.default)((0,t.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");var eI=e.i(558160),eA=e.i(505487);let eO=(0,eR.default)((0,t.jsx)("path",{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3"}),"PushPin"),eq=(0,eR.default)((0,t.jsx)("path",{d:"M14 4v5c0 1.12.37 2.16 1 3H9c.65-.86 1-1.9 1-3V4zm3-2H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3V4h1c.55 0 1-.45 1-1s-.45-1-1-1"}),"PushPinOutlined");var eD=e.i(357971);let eF=(0,eR.default)((0,t.jsx)("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"}),"Done"),eH=(0,eR.default)((0,t.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard");var eB=e.i(232299),eQ=e.i(648035),e$=e.i(199381),eU=e.i(469780),e_=e.i(493525),eN=e.i(519444),eK=e.i(366522),eV=e.i(587696),eG=e.i(301653),eX=e.i(86441),eJ=e.i(299451),eY=e.i(972689),eZ=e.i(581712),e0=e.i(811180),e1=e.i(987958),e5=e.i(764634),e2=e.i(836773);let e4="sidebar-collapsed",e6="sidebar-expanded-groups",e3={Workloads:!0,Network:!0,"Config & Storage":!0,Cluster:!0,More:!1},e8=[{label:"Dashboard",icon:(0,t.jsx)(eH,{}),path:"/",color:"#6366F1"},{label:"Repository Browser",icon:(0,t.jsx)(e0.default,{}),path:"/repo-browser",color:"#6366F1"},{label:"Workloads",items:[{label:"Deployments",icon:(0,t.jsx)(eB.default,{}),path:"/deployments",color:"#6366F1"},{label:"StatefulSets",icon:(0,t.jsx)(e$.default,{}),path:"/statefulsets",color:"#7C3AED"},{label:"DaemonSets",icon:(0,t.jsx)(e1.default,{}),path:"/daemonsets",color:"#9333EA"},{label:"Pods",icon:(0,t.jsx)(eQ.default,{}),path:"/pods",color:"#8B5CF6"},{label:"Jobs",icon:(0,t.jsx)(eJ.default,{}),path:"/jobs",color:"#EC4899"},{label:"CronJobs",icon:(0,t.jsx)(eY.default,{}),path:"/cronjobs",color:"#A855F7"}]},{label:"Network",items:[{label:"Services",icon:(0,t.jsx)(eG.default,{}),path:"/services",color:"#3B82F6"},{label:"Ingress",icon:(0,t.jsx)(eX.default,{}),path:"/ingress",color:"#0EA5E9"}]},{label:"Config & Storage",items:[{label:"ConfigMaps",icon:(0,t.jsx)(eU.default,{}),path:"/configmaps",color:"#10B981"},{label:"Secrets",icon:(0,t.jsx)(e_.default,{}),path:"/secrets",color:"#F43F5E"},{label:"Persistent Volumes",icon:(0,t.jsx)(eK.default,{}),path:"/pv",color:"#F59E0B"}]},{label:"Cluster",items:[{label:"Namespaces",icon:(0,t.jsx)(eZ.default,{}),path:"/namespaces",color:"#8B5CF6"},{label:"Nodes",icon:(0,t.jsx)(e$.default,{}),path:"/nodes",color:"#06B6D4"},{label:"HPA",icon:(0,t.jsx)(eN.default,{}),path:"/hpa",color:"#64748B"},{label:"Events",icon:(0,t.jsx)(eV.default,{}),path:"/events",color:"#06B6D4"},{label:"Labels",icon:(0,t.jsx)(e5.default,{}),path:"/labels",color:"#10B981"}]}];function e7(e){return"items"in e}function e9(){let e=(0,F.usePathname)(),r=(0,F.useRouter)(),n=(0,Q.useModeStore)(e=>e.mode),{isPinned:o,togglePin:i}=(0,Q.useSidebarPins)(),[s,l]=(0,a.useState)(()=>"true"===window.localStorage.getItem(e4)),[d,c]=(0,a.useState)(()=>{let e={...e3},t=window.localStorage.getItem(e6);if(!t)return e;try{let r=JSON.parse(t);return{...e,...r}}catch(t){return console.error("Failed to parse sidebar group state",t),e}}),[u,h]=(0,a.useState)(!1);(0,a.useEffect)(()=>{window.localStorage.setItem(e4,s?"true":"false")},[s]),(0,a.useEffect)(()=>{window.localStorage.setItem(e6,JSON.stringify(d))},[d]);let p=e=>{let t="demo"===n?`/demo${e}`:e;r.push(t)},f=()=>{l(!s)},x=e=>{c(t=>({...t,[e]:!t[e]}))},m=(r,a=!1)=>{let n=(e.startsWith("/demo")?e.replace("/demo",""):e)===r.path;if(s)return(0,t.jsx)(eC.default,{disablePadding:!0,sx:{mb:.4},children:(0,t.jsx)(ez.default,{title:r.label,placement:"right",children:(0,t.jsx)(ek.default,{selected:n,onClick:()=>p(r.path),sx:{borderRadius:1.5,minHeight:40,justifyContent:"center",px:1.5,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",border:"0.5px solid transparent","&.Mui-selected":{background:e=>"light"===e.palette.mode?"linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.6) 100%)":"linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",borderColor:e=>"light"===e.palette.mode?"rgba(0, 0, 0, 0.08)":"rgba(255, 255, 255, 0.2)",boxShadow:e=>"light"===e.palette.mode?"0 4px 12px rgba(0, 0, 0, 0.08), inset 0 1px 0 rgba(255, 255, 255, 0.9)":"0 4px 12px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.15)","&:hover":{background:e=>"light"===e.palette.mode?"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.7) 100%)":"linear-gradient(135deg, rgba(255, 255, 255, 0.18) 0%, rgba(255, 255, 255, 0.1) 100%)"}},"&:hover":{bgcolor:e=>"light"===e.palette.mode?"rgba(255, 255, 255, 0.5)":"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"}},children:(0,t.jsx)(eS.default,{sx:{minWidth:0,color:n?"primary.main":"text.secondary",transition:"color 0.2s ease-in-out",fontSize:"1.25rem","& svg":{fontSize:"1.25rem"}},children:r.icon})})})},r.path);let l=o(r.path);return(0,t.jsx)(eC.default,{disablePadding:!0,sx:{mb:.4,position:"relative"},children:(0,t.jsxs)(ek.default,{selected:n,onClick:()=>p(r.path),sx:{borderRadius:1.5,pl:a?3.5:1.5,pr:1,py:.75,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",border:u?"1px dashed":"0.5px solid transparent",borderColor:u?"primary.main":"transparent",opacity:u?.85:1,"&.Mui-selected":{background:e=>"light"===e.palette.mode?"linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.6) 100%)":"linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",borderColor:e=>"light"===e.palette.mode?"rgba(0, 0, 0, 0.08)":"rgba(255, 255, 255, 0.2)",boxShadow:e=>"light"===e.palette.mode?"0 4px 12px rgba(0, 0, 0, 0.08), inset 0 1px 0 rgba(255, 255, 255, 0.9)":"0 4px 12px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.15)","&:hover":{background:e=>"light"===e.palette.mode?"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.7) 100%)":"linear-gradient(135deg, rgba(255, 255, 255, 0.18) 0%, rgba(255, 255, 255, 0.1) 100%)"},"& .MuiListItemIcon-root":{color:"primary.main"}},"&:hover":{bgcolor:e=>"light"===e.palette.mode?"rgba(255, 255, 255, 0.5)":"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"}},children:[(0,t.jsx)(eS.default,{sx:{minWidth:34,color:n?"primary.main":"text.secondary",transition:"color 0.2s ease-in-out",fontSize:"1.25rem","& svg":{fontSize:"1.25rem"}},children:r.icon}),(0,t.jsx)(eE.default,{primary:r.label,primaryTypographyProps:{fontSize:"0.75rem",fontWeight:n?600:500,color:n?"primary.main":"inherit"}}),u&&(0,t.jsx)(eP.default,{size:"small",onClick:e=>{e.stopPropagation(),i(r.path)},sx:{ml:.5,"&:hover":{bgcolor:"transparent"}},children:l?(0,t.jsx)(eO,{sx:{fontSize:"1rem",color:"primary.main"}}):(0,t.jsx)(eq,{sx:{fontSize:"1rem",opacity:.5}})})]})},r.path)};return(0,t.jsx)(ej,{variant:"permanent",hideBackdrop:!0,ModalProps:{keepMounted:!0},sx:{width:s?96:272,flexShrink:0,"& .MuiDrawer-paper":{width:s?96:272,boxSizing:"border-box",border:"none",bgcolor:"transparent",transition:"width 0.3s ease-in-out",overflowX:"hidden",zIndex:e=>e.zIndex.appBar-1,pl:2,pr:2,pt:0},"& .MuiBackdrop-root":{display:"none"}},children:(0,t.jsxs)(_.default,{sx:{bgcolor:"background.paper",borderRadius:3,height:"calc(100vh - 32px)",mt:2,mb:2,display:"flex",flexDirection:"column",backdropFilter:"blur(60px)",WebkitBackdropFilter:"blur(60px)",boxShadow:e=>"dark"===e.palette.mode?"0 4px 16px 0 rgba(0, 0, 0, 0.3)":"0 4px 16px 0 rgba(31, 38, 135, 0.08)",border:e=>"light"===e.palette.mode?"1px solid rgba(209, 213, 219, 0.4)":"1px solid rgba(255, 255, 255, 0.12)",overflow:"hidden"},children:[(0,t.jsxs)(ew.default,{sx:{px:1,py:1,flex:1,overflowY:"auto",pt:2},children:[e8.map(e=>{if(e7(e)){let r=d[e.label],a=e.items.filter(e=>o(e.path));return s?a.map(e=>m(e,!1)):0===a.length?null:(0,t.jsxs)(_.default,{children:[(0,t.jsxs)(ek.default,{onClick:()=>x(e.label),sx:{borderRadius:1.5,mb:.4,py:.6,"&:hover":{bgcolor:"action.hover"}},children:[(0,t.jsx)(eE.default,{primary:e.label,primaryTypographyProps:{fontSize:"0.65rem",fontWeight:700,textTransform:"uppercase",color:"text.secondary",letterSpacing:.4}}),r?(0,t.jsx)(eI.default,{sx:{fontSize:16,color:"text.secondary"}}):(0,t.jsx)(eA.default,{sx:{fontSize:16,color:"text.secondary"}})]}),(0,t.jsx)(eL.default,{in:r,timeout:"auto",unmountOnExit:!0,children:(0,t.jsx)(ew.default,{component:"div",disablePadding:!0,children:a.map(e=>m(e,!0))})})]},e.label)}return o(e.path)?m(e,!1):null}),!s&&(()=>{let e=[];if(e8.forEach(t=>{e7(t)?t.items.forEach(t=>{o(t.path)||e.push(t)}):o(t.path)||e.push(t)}),0===e.length)return null;let r=d.More;return(0,t.jsxs)(_.default,{sx:{mt:1},children:[(0,t.jsxs)(ek.default,{onClick:()=>x("More"),sx:{borderRadius:1.5,mb:.4,py:.6,"&:hover":{bgcolor:"action.hover"}},children:[(0,t.jsx)(eE.default,{primary:"More...",primaryTypographyProps:{fontSize:"0.65rem",fontWeight:700,textTransform:"uppercase",color:"text.secondary",letterSpacing:.4}}),r?(0,t.jsx)(eI.default,{sx:{fontSize:16,color:"text.secondary"}}):(0,t.jsx)(eA.default,{sx:{fontSize:16,color:"text.secondary"}})]}),(0,t.jsx)(eL.default,{in:r,timeout:"auto",unmountOnExit:!0,children:(0,t.jsx)(ew.default,{component:"div",disablePadding:!0,children:e.map(e=>m(e,!0))})})]})})()]}),(0,t.jsx)(e2.default,{}),(0,t.jsx)(_.default,{sx:{px:1,py:.75},children:s?(0,t.jsxs)(_.default,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[(0,t.jsx)(ez.default,{title:u?"Done editing":"Edit menu",placement:"right",children:(0,t.jsx)(eP.default,{onClick:()=>h(!u),size:"small",sx:{color:u?"primary.main":"text.secondary",bgcolor:u?"action.selected":"transparent","&:hover":{bgcolor:u?"action.selected":"action.hover"}},children:u?(0,t.jsx)(eF,{sx:{fontSize:18}}):(0,t.jsx)(eD.default,{sx:{fontSize:18}})})}),(0,t.jsx)(ez.default,{title:"GitHub",placement:"right",children:(0,t.jsx)(eP.default,{component:"a",href:"https://github.com/dmachard/kubevista",target:"_blank",rel:"noopener noreferrer",size:"small",sx:{color:"text.secondary","&:hover":{color:"primary.main"}},children:(0,t.jsx)(e0.default,{sx:{fontSize:18}})})}),(0,t.jsx)(ez.default,{title:"Expand sidebar",placement:"right",children:(0,t.jsx)(eP.default,{onClick:f,size:"small",sx:{color:"text.secondary","&:hover":{bgcolor:"action.hover"}},children:(0,t.jsx)(eW,{sx:{fontSize:18}})})})]}):(0,t.jsxs)(_.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsx)(eM.default,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.65rem",fontWeight:500,pl:1},children:"v1.0.0"}),(0,t.jsxs)(_.default,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,t.jsx)(ez.default,{title:u?"Done editing":"Edit menu",children:(0,t.jsx)(eP.default,{onClick:()=>h(!u),size:"small",sx:{color:u?"primary.main":"text.secondary",bgcolor:u?"action.selected":"transparent","&:hover":{bgcolor:u?"action.selected":"action.hover"}},children:u?(0,t.jsx)(eF,{sx:{fontSize:18}}):(0,t.jsx)(eD.default,{sx:{fontSize:18}})})}),(0,t.jsx)(eP.default,{component:"a",href:"https://github.com/dmachard/kubevista",target:"_blank",rel:"noopener noreferrer",size:"small",sx:{color:"text.secondary","&:hover":{color:"primary.main"}},children:(0,t.jsx)(e0.default,{sx:{fontSize:18}})}),(0,t.jsx)(eP.default,{onClick:f,size:"small",sx:{color:"text.secondary","&:hover":{bgcolor:"action.hover"}},children:(0,t.jsx)(eT,{sx:{fontSize:18}})})]})]})})]})})}let te=(0,eR.default)((0,t.jsx)("path",{d:"M3 10h11v2H3zm0-2h11V6H3zm0 8h7v-2H3zm15.01-3.13.71-.71c.39-.39 1.02-.39 1.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71zm-.71.71-5.3 5.3V21h2.12l5.3-5.3z"}),"EditNote");var tt=e.i(926678),tr=e.i(828642),ta=e.i(688762);function tn({onError:e}){let{mode:r,selectedNamespace:n,setNamespace:o}=(0,Q.useModeStore)(),[i,s]=(0,a.useState)([]),[l,d]=(0,a.useState)(!1);(0,a.useEffect)(()=>{"real"===r&&c()},[r]);let c=async()=>{d(!0);try{let t=await fetch("/api/namespaces");if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to fetch namespaces")}let r=await t.json();s(r||[]),e&&0===r.length&&e("No namespaces found in the cluster")}catch(r){console.error("Failed to fetch namespaces:",r);let t=r instanceof Error?r.message:"Failed to fetch namespaces";e&&e(t),s([])}finally{d(!1)}};return"demo"===r?(0,t.jsxs)(_.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(eM.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:"Namespace:"}),(0,t.jsx)(tt.default,{value:"demo",disabled:!0,variant:"standard",disableUnderline:!0,autoWidth:!0,IconComponent:()=>null,renderValue:()=>(0,t.jsx)(eM.default,{variant:"body2",fontWeight:600,children:"demo"}),sx:{fontSize:"0.875rem","& .MuiSelect-select":{py:.5,px:1}},children:(0,t.jsx)(tr.default,{value:"demo",children:"demo"})})]}):l?(0,t.jsxs)(_.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(eM.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:"Namespace:"}),(0,t.jsx)(_.default,{sx:{py:.5,px:1},children:(0,t.jsx)(ta.default,{size:20})})]}):(0,t.jsxs)(_.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(eM.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:"Namespace:"}),(0,t.jsx)(tt.default,{value:n||"",onChange:e=>{o(e.target.value)},displayEmpty:!0,variant:"standard",disableUnderline:!0,autoWidth:!0,renderValue:e=>e?(0,t.jsx)(eM.default,{variant:"body2",fontWeight:600,children:e}):(0,t.jsx)(eM.default,{variant:"body2",color:"text.secondary",children:"Select..."}),sx:{fontSize:"0.875rem","&:hover":{bgcolor:"action.hover",borderRadius:1},"& .MuiSelect-select":{py:.5,px:1}},children:i.map((e,r)=>[r>0&&(0,t.jsx)(e2.default,{sx:{my:.5}},`divider-${e.name}`),(0,t.jsx)(tr.default,{value:e.name,sx:{py:1,px:2,"&:hover":{bgcolor:"action.hover"},"&.Mui-selected":{bgcolor:"primary.main",color:"primary.contrastText","&:hover":{bgcolor:"primary.dark"}}},children:(0,t.jsx)(eM.default,{variant:"body2",fontWeight:500,children:e.name})},e.name)])})]})}var to=e.i(776552),ti=e.i(237828),ts=e.i(42669),tl=e.i(769120),td=e.i(866796),tc=e.i(385301);let tu=(0,eR.default)((0,t.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8m0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4z"}),"Sync");var th=e.i(741015);function tp(){let e=(0,Q.useModeStore)(e=>e.mode),r=(0,Q.useModeStore)(e=>e.realtimeEnabled),{status:n,error:o,reconnect:i}=function(){let e=(0,D.useQueryClient)(),t=(0,Q.useModeStore)(e=>e.mode),r=(0,Q.useModeStore)(e=>e.realtimeEnabled),n=(0,Q.useModeStore)(e=>e.selectedNamespace),o=(0,Q.useModeStore)(e=>e.selectedContext),[i,s]=(0,a.useState)("disconnected"),[l,d]=(0,a.useState)(null),[c,u]=(0,a.useState)(null),h=(0,a.useRef)(null),p=(0,a.useRef)(null),f=(0,a.useRef)(0),x=(0,a.useCallback)(()=>{h.current&&(h.current.close(),h.current=null),p.current&&(clearTimeout(p.current),p.current=null),s("disconnected")},[]),m=(0,a.useCallback)(()=>{if("real"!==t||!r||!o)return void x();x(),s("connecting"),u(null);try{let t=new EventSource(`/api/stream?namespace=${encodeURIComponent(n)}&context=${encodeURIComponent(o?.name||"")}`);h.current=t,t.addEventListener("connected",e=>{console.warn("[SSE] Connected:",e.data),s("connected"),f.current=0,u(null)}),t.addEventListener("heartbeat",()=>{}),t.addEventListener("deployment",t=>{let r=JSON.parse(t.data);d({type:"deployment",data:r}),e.invalidateQueries({queryKey:["deployments"]}),e.invalidateQueries({queryKey:["deployment"]})}),t.addEventListener("pod",t=>{let r=JSON.parse(t.data);d({type:"pod",data:r}),e.invalidateQueries({queryKey:["pods"]}),e.invalidateQueries({queryKey:["pod"]}),e.invalidateQueries({queryKey:["deployment-pods"]}),e.invalidateQueries({queryKey:["node-pods"]})}),t.addEventListener("event",t=>{let r=JSON.parse(t.data);d({type:"event",data:r}),e.invalidateQueries({queryKey:["events"]}),e.invalidateQueries({queryKey:["recent-events"]}),e.invalidateQueries({queryKey:["deployment-events"]}),e.invalidateQueries({queryKey:["pod-events"]}),e.invalidateQueries({queryKey:["node-events"]})}),t.addEventListener("error",e=>{let t=JSON.parse(e.data||"{}");console.error("[SSE] Server error:",t),u(t.message||"Unknown server error")}),t.onerror=e=>{console.error("[SSE] Connection error:",e),s("error"),t.close(),f.current<5?(f.current++,console.warn(`[SSE] Reconnecting... (attempt ${f.current}/5)`),p.current=setTimeout(()=>{m()},3e3)):(u("Max reconnection attempts reached"),s("disconnected"))}}catch(e){console.error("[SSE] Failed to create EventSource:",e),s("error"),u(e instanceof Error?e.message:"Failed to connect")}},[t,r,o,n,x,e]),g=(0,a.useCallback)(()=>{f.current=0,m()},[m]);return(0,a.useEffect)(()=>("real"===t&&r&&o?m():x(),()=>{x()}),[t,r,o,n,m,x]),{status:i,error:c,lastEvent:l,reconnect:g,disconnect:x,isConnected:"connected"===i}}();if("real"!==e||!r)return null;let s=()=>{switch(n){case"connected":return"#10b981";case"connecting":return"#3b82f6";case"error":return"#ef4444";default:return"#6b7280"}};return(0,t.jsxs)(to.Box,{sx:{display:"flex",alignItems:"center",gap:.75},children:[(0,t.jsx)(ts.Tooltip,{title:(()=>{if(o)return`Real-time connection error: ${o}`;switch(n){case"connected":return"Real-time updates active";case"connecting":return"Connecting to real-time updates...";case"error":return"Real-time connection error. Click to retry.";case"disconnected":return"Real-time updates disconnected. Click to reconnect.";default:return"Real-time status unknown"}})(),arrow:!0,children:(0,t.jsxs)(to.Box,{sx:{display:"flex",alignItems:"center",gap:.75,px:1.5,py:.5,borderRadius:1.5,bgcolor:"connected"===n?"rgba(16, 185, 129, 0.1)":"background.default",border:"1px solid",borderColor:"connected"===n?"rgba(16, 185, 129, 0.3)":"divider",cursor:"disconnected"===n||"error"===n?"pointer":"default",transition:"all 0.2s ease",animation:"connecting"===n?"pulse 2s infinite":"none","@keyframes pulse":{"0%, 100%":{opacity:1},"50%":{opacity:.6}},"&:hover":"disconnected"===n||"error"===n?{bgcolor:"action.hover"}:{}},onClick:"disconnected"===n||"error"===n?i:void 0,children:[(0,t.jsx)(to.Box,{sx:{display:"flex",alignItems:"center",color:s()},children:(()=>{switch(n){case"connected":case"disconnected":default:return(0,t.jsx)(tc.default,{sx:{fontSize:10}});case"connecting":return(0,t.jsx)(ti.CircularProgress,{size:10});case"error":return(0,t.jsx)(th.default,{sx:{fontSize:12}})}})()}),(0,t.jsx)(td.Typography,{variant:"caption",sx:{fontWeight:500,color:"connected"===n?s():"text.secondary",fontSize:"0.75rem"},children:(()=>{switch(n){case"connected":return"Live";case"connecting":return"Connecting...";case"error":return"Error";case"disconnected":return"Disconnected";default:return"Unknown"}})()})]})}),("disconnected"===n||"error"===n)&&(0,t.jsx)(ts.Tooltip,{title:"Retry connection",arrow:!0,children:(0,t.jsx)(tl.IconButton,{size:"small",onClick:i,sx:{color:"text.secondary"},children:(0,t.jsx)(tu,{sx:{fontSize:18}})})})]})}function tf(){let{mode:e,selectedContext:r,setContext:n,setNamespace:o,setClusterConnected:i,setConnectionError:s}=(0,Q.useModeStore)(),{getAlias:l}=(0,Q.useClusterAliases)(),[d,c]=(0,a.useState)([]),[u,h]=(0,a.useState)(!1),p=async()=>{try{let e=await fetch("/api/test-connection"),t=await e.json();if(!e.ok||!t.success)throw Error(t.error||t.details||"Failed to connect to cluster");return i(!0),s(null),!0}catch(t){let e=t instanceof Error?t.message:"Failed to connect to cluster";return i(!1),s(e),!1}};(0,a.useEffect)(()=>{"real"===e&&f()},[e]),(0,a.useEffect)(()=>{"real"===e&&r&&p()},[r,e]);let f=async()=>{h(!0);try{let e=await fetch("/api/contexts"),t=await e.json();if(e.ok&&t.contexts){c(t.contexts);let e=t.contexts.find(e=>e.current);e&&!r&&(n({name:e.name,cluster:e.cluster,user:e.user}),e.namespace&&o(e.namespace))}}catch(e){console.error("Failed to fetch contexts:",e)}finally{h(!1)}};if("demo"===e){let e=l("demo-cluster")||"demo-cluster";return(0,t.jsxs)(_.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(eM.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:"Cluster:"}),(0,t.jsx)(eM.default,{variant:"body2",fontWeight:600,children:e})]})}return u?(0,t.jsxs)(_.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(eM.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:"Cluster:"}),(0,t.jsx)(_.default,{sx:{py:.5,px:1},children:(0,t.jsx)(ta.default,{size:20})})]}):(0,t.jsxs)(_.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(eM.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:"Cluster:"}),(0,t.jsx)(tt.default,{value:r?.name||"",onChange:e=>{var t;let r;return t=e.target.value,void((r=d.find(e=>e.name===t))&&(n({name:r.name,cluster:r.cluster,user:r.user}),r.namespace&&o(r.namespace)))},displayEmpty:!0,variant:"standard",disableUnderline:!0,autoWidth:!0,renderValue:e=>{var r;if(!e)return(0,t.jsx)(eM.default,{variant:"body2",color:"text.secondary",children:"Select..."});let a=d.find(t=>t.name===e);if(!a)return e;let n=l(r=a.name)||r,o=((e,t=25)=>e.length<=t?e:e.substring(0,t-3)+"...")(n,40);return n!==o?(0,t.jsx)(ez.default,{title:n,placement:"bottom",children:(0,t.jsx)(eM.default,{variant:"body2",fontWeight:600,children:o})}):(0,t.jsx)(eM.default,{variant:"body2",fontWeight:600,children:n})},sx:{fontSize:"0.875rem","&:hover":{bgcolor:"action.hover",borderRadius:1},"& .MuiSelect-select":{py:.5,px:1}},children:d.map((e,r)=>{var a;let n=l(a=e.name)||a,o=l(e.name);return[r>0&&(0,t.jsx)(e2.default,{sx:{my:.5}},`divider-${e.name}`),(0,t.jsx)(tr.default,{value:e.name,sx:{py:1,px:2,"&:hover":{bgcolor:"action.hover"},"&.Mui-selected":{bgcolor:"primary.main",color:"primary.contrastText","&:hover":{bgcolor:"primary.dark"}}},children:(0,t.jsxs)(_.default,{sx:{width:"100%"},children:[(0,t.jsx)(eM.default,{variant:"body2",fontWeight:500,noWrap:!0,children:n}),o&&(0,t.jsx)(eM.default,{variant:"caption",color:"text.secondary",noWrap:!0,sx:{opacity:.7},children:e.cluster})]})},e.name)]})})]})}var tx=e.i(373481);function tm(e){return(0,t.jsx)(tx.default,{...e,viewBox:"0 0 640 640",children:(0,t.jsx)("path",{d:"M176 168C189.3 168 200 157.3 200 144C200 130.7 189.3 120 176 120C162.7 120 152 130.7 152 144C152 157.3 162.7 168 176 168zM256 144C256 176.8 236.3 205 208 217.3L208 288L384 288C410.5 288 432 266.5 432 240L432 217.3C403.7 205 384 176.8 384 144C384 99.8 419.8 64 464 64C508.2 64 544 99.8 544 144C544 176.8 524.3 205 496 217.3L496 240C496 301.9 445.9 352 384 352L208 352L208 422.7C236.3 435 256 463.2 256 496C256 540.2 220.2 576 176 576C131.8 576 96 540.2 96 496C96 463.2 115.7 435 144 422.7L144 217.4C115.7 205 96 176.8 96 144C96 99.8 131.8 64 176 64C220.2 64 256 99.8 256 144zM488 144C488 130.7 477.3 120 464 120C450.7 120 440 130.7 440 144C440 157.3 450.7 168 464 168C477.3 168 488 157.3 488 144zM176 520C189.3 520 200 509.3 200 496C200 482.7 189.3 472 176 472C162.7 472 152 482.7 152 496C152 509.3 162.7 520 176 520z"})})}function tg(){let{selectedRepo:e,selectedBranch:r,setSelectedBranch:n}=(0,Q.useGitHubStore)(),[o,i]=(0,a.useState)([]),[s,l]=(0,a.useState)(!1);(0,a.useEffect)(()=>{e&&d()},[e]);let d=async()=>{if(e){l(!0);try{let t=await fetch(`/api/github/branches?owner=${e.owner}&repo=${e.repo}`),r=await t.json();t.ok&&Array.isArray(r)&&i(r)}catch(e){console.error("Failed to fetch branches:",e)}finally{l(!1)}}};return e?s?(0,t.jsxs)(_.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(tm,{sx:{fontSize:20,color:"text.secondary"}}),(0,t.jsx)(eM.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:"Branch:"}),(0,t.jsx)(_.default,{sx:{py:.5,px:1},children:(0,t.jsx)(ta.default,{size:20})})]}):(0,t.jsxs)(_.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(tm,{sx:{fontSize:20,color:"text.secondary"}}),(0,t.jsx)(eM.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:"Branch:"}),(0,t.jsx)(tt.default,{value:r,onChange:e=>n(e.target.value),displayEmpty:!0,variant:"standard",disableUnderline:!0,autoWidth:!0,renderValue:e=>{if(!e)return(0,t.jsx)(eM.default,{variant:"body2",color:"text.secondary",children:"Select..."});let r=((e,t=25)=>e.length<=t?e:e.substring(0,t-3)+"...")(e,40);return e!==r?(0,t.jsx)(ez.default,{title:e,placement:"bottom",children:(0,t.jsx)(eM.default,{variant:"body2",fontWeight:600,children:r})}):(0,t.jsx)(eM.default,{variant:"body2",fontWeight:600,children:e})},sx:{fontSize:"0.875rem","&:hover":{bgcolor:"action.hover",borderRadius:1},"& .MuiSelect-select":{py:.5,px:1}},children:o.map((e,r)=>(0,t.jsxs)(_.default,{children:[r>0&&(0,t.jsx)(e2.default,{sx:{my:.5}}),(0,t.jsx)(tr.default,{value:e.name,sx:{py:1,px:2,"&:hover":{bgcolor:"action.hover"},"&.Mui-selected":{bgcolor:"primary.main",color:"primary.contrastText","&:hover":{bgcolor:"primary.dark"}}},children:(0,t.jsx)(_.default,{sx:{width:"100%"},children:(0,t.jsxs)(eM.default,{variant:"body2",fontWeight:500,noWrap:!0,children:[e.name,e.protected&&" ðŸ”’"]})})})]},e.name))})]}):null}var ty=e.i(936151),tb=e.i(872745),tv=e.i(584500);let tj=(0,eR.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function tw({value:e,onChange:r,placeholder:a="Search...",fullWidth:n=!1}){return(0,t.jsx)(ty.default,{size:"small",placeholder:a,value:e,onChange:e=>r(e.target.value),fullWidth:n,slotProps:{input:{startAdornment:(0,t.jsx)(tb.default,{position:"start",children:(0,t.jsx)(tv.default,{sx:{color:"text.secondary",fontSize:20}})}),endAdornment:e&&(0,t.jsx)(tb.default,{position:"end",children:(0,t.jsx)(eP.default,{size:"small",onClick:()=>{r("")},edge:"end",children:(0,t.jsx)(tj,{sx:{fontSize:18}})})})}},sx:{minWidth:n?void 0:300,"& .MuiOutlinedInput-root":{backgroundColor:e=>"dark"===e.palette.mode?"rgba(30, 30, 46, 0.6)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.12)":"rgba(209, 213, 219, 0.4)",borderRadius:"12px","& fieldset":{border:"none"},"&:hover":{borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.2)":"rgba(209, 213, 219, 0.6)"},"&.Mui-focused":{borderColor:"primary.main",boxShadow:e=>"dark"===e.palette.mode?"0 0 0 2px rgba(59, 130, 246, 0.2)":"0 0 0 2px rgba(59, 130, 246, 0.1)"}}}})}var tC=e.i(683240),tk=e.i(617590),tS=e.i(327652),tE=e.i(112740),tz=e.i(593288);let tM=(0,eR.default)((0,t.jsx)("path",{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25z"}),"AutoAwesome"),tP=(0,eR.default)([(0,t.jsx)("path",{d:"M12 22C6.49 22 2 17.51 2 12S6.49 2 12 2s10 4.04 10 9c0 3.31-2.69 6-6 6h-1.77c-.28 0-.5.22-.5.5 0 .12.05.23.13.33.41.47.64 1.06.64 1.67 0 1.38-1.12 2.5-2.5 2.5m0-18c-4.41 0-8 3.59-8 8s3.59 8 8 8c.28 0 .5-.22.5-.5 0-.16-.08-.28-.14-.35-.41-.46-.63-1.05-.63-1.65 0-1.38 1.12-2.5 2.5-2.5H16c2.21 0 4-1.79 4-4 0-3.86-3.59-7-8-7"},"0"),(0,t.jsx)("circle",{cx:"6.5",cy:"11.5",r:"1.5"},"1"),(0,t.jsx)("circle",{cx:"9.5",cy:"7.5",r:"1.5"},"2"),(0,t.jsx)("circle",{cx:"14.5",cy:"7.5",r:"1.5"},"3"),(0,t.jsx)("circle",{cx:"17.5",cy:"11.5",r:"1.5"},"4")],"PaletteOutlined"),tL=(0,eR.default)((0,t.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout");var tR=e.i(919128),tR=tR;function tT(){let{data:e}=g(),r=(0,F.useRouter)(),n=(0,F.usePathname)(),o=(0,Q.useModeStore)(e=>e.mode),{mode:i,setThemeMode:s}=(0,tR.useTheme)(),[l,d]=(0,a.useState)(null),c=()=>{d(null)},u=e=>{s(e)},h=e=>{c();let t="demo"===o?`/demo${e}`:e;r.push(t)},p=async()=>{c(),await w({redirect:!1}),Q.useModeStore.getState().setHasCompletedWelcome(!1)},f="demo"===o,x=f?"Demo User":e?.user?.name||"User",m=f?"demo@orphelix.com":e?.user?.email||"GitHub User",y=f?void 0:e?.user?.image;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ez.default,{title:x,children:(0,t.jsx)(eP.default,{onClick:e=>{d(e.currentTarget)},size:"small",sx:{transition:"all 0.2s ease-in-out","&:hover":{transform:"scale(1.1)"}},children:(0,t.jsx)(tC.default,{src:y||void 0,alt:x,sx:{width:32,height:32,border:e=>"/settings"===n||"/demo/settings"===n?`2px solid ${e.palette.primary.main}`:"2px solid transparent"},children:!y&&x.charAt(0).toUpperCase()})})}),(0,t.jsxs)(tk.default,{anchorEl:l,open:!!l,onClose:c,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{mt:1,"& .MuiPaper-root":{minWidth:240,borderRadius:2,backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)"}},children:[(0,t.jsxs)(_.default,{sx:{px:2,py:1.5,display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(tC.default,{src:y||void 0,alt:x,sx:{width:40,height:40},children:!y&&x.charAt(0).toUpperCase()}),(0,t.jsxs)(_.default,{sx:{overflow:"hidden"},children:[(0,t.jsx)(eM.default,{variant:"body2",fontWeight:600,noWrap:!0,children:x}),(0,t.jsx)(eM.default,{variant:"caption",color:"text.secondary",noWrap:!0,children:m})]})]}),(0,t.jsx)(e2.default,{}),(0,t.jsxs)(_.default,{sx:{px:2,py:1.5,display:"flex",gap:1,justifyContent:"center"},children:[(0,t.jsx)(ez.default,{title:"Light Mode",children:(0,t.jsx)(eP.default,{size:"small",onClick:()=>u("light"),sx:{color:"light"===i?"primary.main":"text.secondary",bgcolor:"light"===i?"action.selected":"transparent","&:hover":{bgcolor:"action.hover"}},children:(0,t.jsx)(tS.default,{sx:{fontSize:20}})})}),(0,t.jsx)(ez.default,{title:"Dark Mode",children:(0,t.jsx)(eP.default,{size:"small",onClick:()=>u("dark"),sx:{color:"dark"===i?"primary.main":"text.secondary",bgcolor:"dark"===i?"action.selected":"transparent","&:hover":{bgcolor:"action.hover"}},children:(0,t.jsx)(tE.default,{sx:{fontSize:20}})})}),(0,t.jsx)(ez.default,{title:"System",children:(0,t.jsx)(eP.default,{size:"small",onClick:()=>u("system"),sx:{color:"system"===i?"primary.main":"text.secondary",bgcolor:"system"===i?"action.selected":"transparent","&:hover":{bgcolor:"action.hover"}},children:(0,t.jsx)(tz.default,{sx:{fontSize:20}})})})]}),(0,t.jsx)(e2.default,{}),(0,t.jsxs)(tr.default,{onClick:()=>h("/settings?tab=0"),children:[(0,t.jsx)(eS.default,{children:(0,t.jsx)(eG.default,{fontSize:"small"})}),(0,t.jsx)(eE.default,{children:"Cluster Settings"})]}),(0,t.jsxs)(tr.default,{onClick:()=>h("/settings?tab=1"),children:[(0,t.jsx)(eS.default,{children:(0,t.jsx)(e0.default,{fontSize:"small"})}),(0,t.jsx)(eE.default,{children:"GitHub Integration"})]}),(0,t.jsxs)(tr.default,{onClick:()=>h("/settings?tab=2"),children:[(0,t.jsx)(eS.default,{children:(0,t.jsx)(tM,{fontSize:"small"})}),(0,t.jsx)(eE.default,{children:"AI Features"})]}),(0,t.jsxs)(tr.default,{onClick:()=>h("/settings?tab=3"),children:[(0,t.jsx)(eS.default,{children:(0,t.jsx)(tP,{fontSize:"small"})}),(0,t.jsx)(eE.default,{children:"Design"})]}),!f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e2.default,{}),(0,t.jsxs)(tr.default,{onClick:p,children:[(0,t.jsx)(eS.default,{children:(0,t.jsx)(tL,{fontSize:"small"})}),(0,t.jsx)(eE.default,{children:"Logout"})]})]})]})]})}var tW=e.i(17804);let tI=(0,a.lazy)(()=>e.A(797506).then(e=>({default:e.ChangesModal})));function tA(){let{selectedRepo:e,editBasket:r}=(0,Q.useGitHubStore)(),n=(0,Q.useModeStore)(e=>e.mode),o=(0,F.usePathname)(),i="/demo/repo-browser"===o?tW.mockGitHubRepo:e,{searchQuery:s,setSearchQuery:l,searchPlaceholder:d}=(0,B.useSearch)(),[c,u]=(0,a.useState)(!1),h=r.size;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(_.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2,py:1,minHeight:56,borderBottom:"1px solid",borderColor:"divider",bgcolor:"transparent",position:"sticky",top:0,zIndex:10,gap:3},children:[(0,t.jsx)(_.default,{sx:{display:"flex",alignItems:"center",minWidth:0},children:"/repo-browser"===o||"/demo/repo-browser"===o?(0,t.jsx)(tg,{}):"demo"===n?(0,t.jsxs)(_.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(eM.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:"Cluster:"}),(0,t.jsx)(eM.default,{variant:"body2",fontWeight:600,children:"demo-cluster"})]}):(0,t.jsx)(tf,{})}),"/"!==o&&"/demo"!==o&&(0,t.jsx)(_.default,{sx:{display:"flex",alignItems:"center",gap:2,flex:1,justifyContent:"center",maxWidth:600},children:(0,t.jsx)(_.default,{sx:{flex:1},children:(0,t.jsx)(tw,{value:s,onChange:l,placeholder:d,fullWidth:!0})})}),(0,t.jsxs)(_.default,{sx:{display:"flex",alignItems:"center",gap:2,flexShrink:0},children:[("/repo-browser"===o||"/demo/repo-browser"===o)&&i?(0,t.jsxs)(_.default,{sx:{display:"flex",alignItems:"center",gap:2},children:[h>0&&(0,t.jsx)(ez.default,{title:`${h} file${h>1?"s":""} modified - Click to review`,children:(0,t.jsxs)(_.default,{onClick:()=>u(!0),sx:{display:"flex",alignItems:"center",gap:.5,px:1.5,py:.5,borderRadius:1,bgcolor:"warning.main",color:"warning.contrastText",cursor:"pointer",transition:"all 0.2s","&:hover":{bgcolor:"warning.dark",transform:"scale(1.05)"}},children:[(0,t.jsx)(te,{sx:{fontSize:18}}),(0,t.jsx)(eM.default,{variant:"body2",fontWeight:600,children:h})]})}),(0,t.jsxs)(_.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(eM.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:"Repository:"}),(0,t.jsxs)(eM.default,{variant:"body2",fontWeight:600,children:[i.owner,"/",i.repo]})]})]}):(0,t.jsx)(tn,{}),(0,t.jsx)(tp,{}),(0,t.jsx)(tT,{})]})]}),c&&(0,t.jsx)(a.Suspense,{fallback:null,children:(0,t.jsx)(tI,{open:c,onClose:()=>u(!1)})})]})}function tO({children:e}){let{hasCompletedWelcome:r,mode:n,selectedContext:o,selectedNamespace:i,setHasCompletedWelcome:s}=(0,Q.useModeStore)();return((0,a.useEffect)(()=>{r&&("real"!==n||o&&i||s(!1),"demo"!==n||i||s(!1))},[r,n,o,i,s]),r)?(0,t.jsxs)(_.default,{sx:{display:"flex",height:"100vh",bgcolor:"background.default",overflow:"hidden"},children:[(0,t.jsx)(e9,{}),(0,t.jsx)(_.default,{component:"main",sx:{flexGrow:1,minWidth:0,display:"flex",flexDirection:"column",height:"100%",pr:2},children:(0,t.jsxs)(_.default,{sx:{flex:1,minWidth:0,minHeight:0,display:"flex",flexDirection:"column",borderTopRightRadius:3,overflow:"hidden"},children:[(0,t.jsx)(tA,{}),(0,t.jsx)(_.default,{sx:{flex:1,minHeight:0,overflow:"auto",p:3},children:e})]})})]}):(0,t.jsx)(_.default,{sx:{height:"100vh",bgcolor:"background.default",overflow:"hidden"}})}var tq=e.i(828637),tD=e.i(739147),tF=e.i(75871),tH=e.i(872729);let tB=(0,eR.default)((0,t.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"}),"Brightness4"),tQ=(0,eR.default)((0,t.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6m0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"}),"Brightness7");e.i(185069);var t$=e.i(113388),tU=e.i(868644),tR=tR;function t_(){let{status:e}=g(),r=(0,F.useRouter)(),n=(0,F.usePathname)(),{hasCompletedWelcome:o,setMode:i,setContext:s,setNamespace:l,setHasCompletedWelcome:d}=(0,Q.useModeStore)(),{actualTheme:c,setThemeMode:u}=(0,tR.useTheme)(),[h,p]=(0,a.useState)(!o),[f,x]=(0,a.useState)("initial"),[m,y]=(0,a.useState)([]),[b,v]=(0,a.useState)(""),[w,C]=(0,a.useState)([]),[k,S]=(0,a.useState)(""),[E,z]=(0,a.useState)(!1),[M,P]=(0,a.useState)(!1),[L,R]=(0,a.useState)(!1),[T,W]=(0,a.useState)(null);(0,a.useEffect)(()=>{p(!o)},[o]),(0,a.useEffect)(()=>{"authenticated"===e&&"initial"===f&&x("github-required")},[e,f]),(0,a.useEffect)(()=>{(async()=>{if(!b||"cluster-selection"!==f)return C([]);z(!0);try{let e=await fetch(`/api/namespaces?context=${encodeURIComponent(b)}`);if(!e.ok){let t=await e.json();console.error("Failed to fetch namespaces:",t),C([]);return}let t=await e.json();console.log("Namespaces loaded:",t),Array.isArray(t)?(C(t),t.find(e=>"default"===e.name)&&S("default")):(console.error("Invalid namespaces response format:",t),C([]))}catch(e){console.error("Failed to load namespaces:",e),C([])}finally{z(!1)}})()},[b,f]);let I=e=>["/","/deployments","/statefulsets","/daemonsets","/pods","/jobs","/cronjobs","/services","/ingress","/configmaps","/secrets","/namespaces","/nodes","/hpa","/pv","/events","/labels","/topology","/settings","/repo-browser"].some(t=>e===t||e.startsWith(t+"/")),A=()=>{i("demo"),s(null),l("default"),d(!0),p(!1),document.cookie="app-mode=demo; path=/; max-age=31536000; SameSite=Lax",I(n)||r.push("/")},O=async()=>{try{await j("github",{callbackUrl:"/",redirect:!0})}catch(e){console.error("GitHub sign in error:",e),W("Failed to sign in with GitHub. Please try again.")}},q=async()=>{P(!0),W(null);try{let e=await fetch("/api/contexts"),t=await e.json();if(e.ok&&t.contexts&&t.contexts.length>0)y(t.contexts),x("cluster-selection"),1===t.contexts.length?v(t.contexts[0].name):v("");else throw Error("No Kubernetes contexts found. Please configure kubectl locally.")}catch(e){W(e instanceof Error?e.message:"Failed to load Kubernetes contexts")}finally{P(!1)}},D=async()=>{if(!b)return;let e=m.find(e=>e.name===b);if(e){R(!0),W(null);try{if(!(await fetch("/api/cluster-health",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contextName:e.name})})).ok)throw Error("Failed to connect to cluster. Please check your kubectl configuration.");i("real"),s({name:e.name,cluster:e.cluster,user:e.user});let t=k||e.namespace||"default";l(t),d(!0),p(!1),document.cookie="app-mode=real; path=/; max-age=31536000; SameSite=Lax",I(n)||r.push("/")}catch(e){W(e instanceof Error?e.message:"Failed to verify cluster connection")}finally{R(!1)}}};return h?(0,t.jsxs)(_.default,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",zIndex:9999,background:e=>"dark"===e.palette.mode?"radial-gradient(ellipse at top, rgba(102, 126, 234, 0.2), transparent 50%), radial-gradient(ellipse at bottom, rgba(118, 75, 162, 0.2), transparent 50%), linear-gradient(180deg, rgb(10, 10, 20) 0%, rgb(15, 15, 25) 100%)":"radial-gradient(ellipse at top, rgba(102, 126, 234, 0.12), transparent 50%), radial-gradient(ellipse at bottom, rgba(118, 75, 162, 0.12), transparent 50%), linear-gradient(180deg, rgb(250, 250, 255) 0%, rgb(240, 242, 250) 100%)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E\")",opacity:e=>"dark"===e.palette.mode?.3:.2,pointerEvents:"none"}},children:[(0,t.jsx)(_.default,{sx:{position:"absolute",top:20,right:20,zIndex:1,display:"flex",gap:1},children:(0,t.jsx)(ez.default,{title:"light"===c?"Dark mode":"Light mode",arrow:!0,children:(0,t.jsx)(eP.default,{onClick:()=>{u("light"===c?"dark":"light")},size:"medium",sx:{color:"text.secondary",bgcolor:"background.paper","&:hover":{bgcolor:"action.hover"}},children:"light"===c?(0,t.jsx)(tB,{}):(0,t.jsx)(tQ,{})})})}),(0,t.jsx)(_.default,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flex:1,p:3},children:(0,t.jsxs)(_.default,{sx:{position:"relative",maxWidth:680,width:"100%"},children:[(0,t.jsx)(_.default,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"12px",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='3' numOctaves='4'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23noise)' opacity='1'/%3E%3C/svg%3E\")",backgroundSize:"150px 150px",opacity:e=>"dark"===e.palette.mode?.4:.3,pointerEvents:"none",zIndex:2,mixBlendMode:"overlay"}}),(0,t.jsx)(_.default,{sx:{position:"absolute",top:20,right:20,zIndex:3},children:(0,t.jsx)(ez.default,{title:"GitHub Repository",arrow:!0,children:(0,t.jsx)(eP.default,{component:tH.default,href:"https://github.com/dmakowski-rasp/kubevista",target:"_blank",rel:"noopener noreferrer",size:"small",sx:{color:"text.secondary",bgcolor:e=>"dark"===e.palette.mode?"rgba(0,0,0,0.2)":"rgba(255,255,255,0.3)","&:hover":{bgcolor:e=>"dark"===e.palette.mode?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.5)"}},children:(0,t.jsx)(e0.default,{fontSize:"small"})})})}),(0,t.jsxs)(t$.GlassPanel,{sx:{width:"100%",p:5,position:"relative",zIndex:1},children:[(0,t.jsxs)(_.default,{sx:{textAlign:"center",mb:5,mt:3},children:[(0,t.jsx)(_.default,{sx:{width:96,height:96,borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 28px",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.4)"},children:(0,t.jsx)(eM.default,{variant:"h2",sx:{color:"white",fontWeight:700},children:"O"})}),(0,t.jsx)(eM.default,{variant:"h2",gutterBottom:!0,sx:{fontWeight:700,fontFamily:'"Momo Trust Display", system-ui, sans-serif',letterSpacing:"0.06em",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",mb:1.5},children:"ORPHELIX"}),(0,t.jsx)(eM.default,{variant:"h6",color:"text.secondary",sx:{mb:3},children:"Modern Kubernetes Dashboard"}),"initial"===f&&(0,t.jsx)(eM.default,{variant:"body1",color:"text.secondary",sx:{maxWidth:480,mx:"auto"},children:"Sign in with GitHub to get started or explore the demo mode."}),"github-required"===f&&(0,t.jsx)(eM.default,{variant:"body1",color:"text.secondary",sx:{maxWidth:520,mx:"auto"},children:"ORPHELIX connects to your local Kubernetes cluster using kubectl. Please ensure kubectl is configured and authenticated on your machine."}),"cluster-selection"===f&&(0,t.jsx)(eM.default,{variant:"body1",color:"text.secondary",sx:{maxWidth:520,mx:"auto"},children:"Select a cluster to connect. We'll verify the connection before proceeding."})]}),T&&(0,t.jsx)(tF.default,{severity:"error",sx:{mb:3},children:T}),"initial"===f&&(0,t.jsxs)(_.default,{sx:{display:"flex",flexDirection:"column",gap:2.5,alignItems:"center"},children:[(0,t.jsx)(tU.GlassButton,{onClick:O,size:"large",startIcon:(0,t.jsx)(e0.default,{}),sx:{py:2,fontSize:"1rem",minWidth:320,justifyContent:"center",textAlign:"center",backgroundColor:e=>"dark"===e.palette.mode?"rgba(30, 30, 46, 0.4)":"rgba(255, 255, 255, 0.15)","&:hover":{backgroundColor:e=>"dark"===e.palette.mode?"rgba(50, 50, 70, 0.5)":"rgba(255, 255, 255, 0.25)"}},children:"Sign in with GitHub"}),(0,t.jsx)(eM.default,{variant:"body2",color:"text.secondary",textAlign:"center",children:"or"}),(0,t.jsx)(tU.GlassButton,{onClick:A,variant:"outlined",size:"large",sx:{py:2,fontSize:"1rem",minWidth:320,justifyContent:"center",textAlign:"center",backgroundColor:e=>"dark"===e.palette.mode?"rgba(30, 30, 46, 0.3)":"rgba(255, 255, 255, 0.1)","&:hover":{backgroundColor:e=>"dark"===e.palette.mode?"rgba(50, 50, 70, 0.4)":"rgba(255, 255, 255, 0.2)"}},children:"Demo"})]}),"github-required"===f&&(0,t.jsxs)(_.default,{sx:{display:"flex",flexDirection:"column",gap:2.5,alignItems:"center"},children:[(0,t.jsx)(tU.GlassButton,{onClick:q,disabled:M,size:"large",sx:{py:2,fontSize:"1rem",minWidth:320,justifyContent:"center",textAlign:"center",backgroundColor:e=>"dark"===e.palette.mode?"rgba(30, 30, 46, 0.4)":"rgba(255, 255, 255, 0.15)","&:hover":{backgroundColor:e=>"dark"===e.palette.mode?"rgba(50, 50, 70, 0.5)":"rgba(255, 255, 255, 0.25)"}},children:M?(0,t.jsx)(ta.default,{size:24,color:"inherit"}):"Load Available Clusters"}),(0,t.jsx)(eM.default,{variant:"body2",color:"text.secondary",textAlign:"center",children:"or"}),(0,t.jsx)(tU.GlassButton,{onClick:A,variant:"outlined",size:"large",sx:{py:2,fontSize:"1rem",minWidth:320,justifyContent:"center",textAlign:"center",backgroundColor:e=>"dark"===e.palette.mode?"rgba(30, 30, 46, 0.3)":"rgba(255, 255, 255, 0.1)","&:hover":{backgroundColor:e=>"dark"===e.palette.mode?"rgba(50, 50, 70, 0.4)":"rgba(255, 255, 255, 0.2)"}},children:"Demo"})]}),"cluster-selection"===f&&(0,t.jsxs)(_.default,{sx:{display:"flex",flexDirection:"column",gap:3},children:[(0,t.jsxs)(tq.default,{fullWidth:!0,children:[(0,t.jsx)(tD.default,{id:"cluster-select-label",children:"Select Kubernetes Cluster"}),(0,t.jsxs)(tt.default,{labelId:"cluster-select-label",id:"cluster-select",value:b,label:"Select Kubernetes Cluster",onChange:e=>v(e.target.value),displayEmpty:!1,MenuProps:{sx:{zIndex:1e4}},children:[""===b&&(0,t.jsx)(tr.default,{value:"",disabled:!0,children:(0,t.jsx)(eM.default,{variant:"body2",color:"text.secondary",children:"Choose a cluster..."})}),m.map(e=>(0,t.jsx)(tr.default,{value:e.name,children:(0,t.jsxs)(_.default,{children:[(0,t.jsx)(eM.default,{variant:"body2",fontWeight:500,children:e.name}),(0,t.jsx)(eM.default,{variant:"caption",color:"text.secondary",children:e.cluster})]})},e.name))]})]}),b&&(0,t.jsxs)(tq.default,{fullWidth:!0,children:[(0,t.jsx)(tD.default,{id:"namespace-select-label",children:"Namespace (optional)"}),(0,t.jsxs)(tt.default,{labelId:"namespace-select-label",id:"namespace-select",value:k,label:"Namespace (optional)",onChange:e=>S(e.target.value),disabled:E,endAdornment:E?(0,t.jsx)(_.default,{sx:{position:"absolute",right:40,display:"flex",alignItems:"center"},children:(0,t.jsx)(ta.default,{size:20})}):null,MenuProps:{sx:{zIndex:1e4}},children:[(0,t.jsx)(tr.default,{value:"",children:(0,t.jsx)("em",{children:E?"Loading namespaces...":0===w.length?"Unable to load namespaces (using default)":"Use cluster default"})}),w.map(e=>(0,t.jsx)(tr.default,{value:e.name,children:(0,t.jsxs)(_.default,{children:[(0,t.jsx)(eM.default,{variant:"body2",fontWeight:500,children:e.name}),(0,t.jsx)(eM.default,{variant:"caption",color:"text.secondary",children:e.status})]})},e.name))]})]}),(0,t.jsxs)(_.default,{sx:{display:"flex",gap:2},children:[(0,t.jsx)(tU.GlassButton,{onClick:()=>{x("github-required"),y([]),v("")},variant:"outlined",fullWidth:!0,size:"large",sx:{py:2,fontSize:"1rem",justifyContent:"center",textAlign:"center",backgroundColor:e=>"dark"===e.palette.mode?"rgba(30, 30, 46, 0.3)":"rgba(255, 255, 255, 0.1)","&:hover":{backgroundColor:e=>"dark"===e.palette.mode?"rgba(50, 50, 70, 0.4)":"rgba(255, 255, 255, 0.2)"}},children:"Back"}),(0,t.jsx)(tU.GlassButton,{onClick:D,disabled:!b||L,fullWidth:!0,size:"large",sx:{py:2,fontSize:"1rem",justifyContent:"center",textAlign:"center",backgroundColor:e=>"dark"===e.palette.mode?"rgba(30, 30, 46, 0.4)":"rgba(255, 255, 255, 0.15)","&:hover":{backgroundColor:e=>"dark"===e.palette.mode?"rgba(50, 50, 70, 0.5)":"rgba(255, 255, 255, 0.25)"}},children:L?(0,t.jsx)(ta.default,{size:24,color:"inherit"}):"Connect"})]})]})]})]})})]}):null}function tN({children:e}){return(0,t.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[(0,t.jsxs)("head",{children:[(0,t.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,t.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),(0,t.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Momo+Trust+Display:wght@400;500;600;700&display=swap",rel:"stylesheet"}),(0,t.jsx)("script",{dangerouslySetInnerHTML:{__html:`
              (function() {
                try {
                  var theme = localStorage.getItem('theme-mode') || 'system';
                  var actualTheme = theme;
                  if (theme === 'system') {
                    actualTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
                  }
                  document.documentElement.setAttribute('data-theme', actualTheme);
                  document.documentElement.style.colorScheme = actualTheme;
                } catch (e) {}
              })();
            `}})]}),(0,t.jsx)("body",{style:{margin:0},suppressHydrationWarning:!0,children:(0,t.jsxs)(U,{children:[(0,t.jsx)(t_,{}),(0,t.jsx)(tO,{children:e})]})})]})}e.s(["default",()=>tN],964527)}]);