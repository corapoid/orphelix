(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,781974,671364,e=>{"use strict";e.i(247167);var t=e.i(271645),r=e.i(207670),n=e.i(519130),i=e.i(357242),a=e.i(942196),o=e.i(18005),l=e.i(444202),s=e.i(67719),c=e.i(540672),u=e.i(319727);function d(e){return(0,u.default)("MuiDialog",e)}let f=(0,c.default)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),p=t.createContext({});e.s(["default",0,p],671364);var h=e.i(69e4),m=e.i(940799),g=e.i(210557),y=e.i(75149),x=e.i(594425),b=e.i(348106),v=e.i(843476);let w=(0,m.styled)(h.default,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),j=(0,m.styled)(o.default,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),M=(0,m.styled)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.container,t[`scroll${(0,a.default)(r.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),k=(0,m.styled)(s.default,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.paper,t[`scrollPaper${(0,a.default)(r.scroll)}`],t[`paperWidth${(0,a.default)(String(r.maxWidth))}`],r.fullWidth&&t.paperFullWidth,r.fullScreen&&t.paperFullScreen]}})((0,y.default)(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:"px"===e.breakpoints.unit?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${f.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(e=>"xs"!==e).map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${f.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${f.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),S=t.forwardRef(function(e,o){let c=(0,x.useDefaultProps)({props:e,name:"MuiDialog"}),u=(0,g.useTheme)(),f={enter:u.transitions.duration.enteringScreen,exit:u.transitions.duration.leavingScreen},{"aria-describedby":h,"aria-labelledby":m,"aria-modal":y=!0,BackdropComponent:S,BackdropProps:C,children:R,className:P,disableEscapeKeyDown:E=!1,fullScreen:O=!1,fullWidth:F=!1,maxWidth:T="sm",onClick:W,onClose:D,open:$,PaperComponent:A=s.default,PaperProps:L={},scroll:I="paper",slots:N={},slotProps:z={},TransitionComponent:Y=l.default,transitionDuration:B=f,TransitionProps:V,...q}=c,H={...c,disableEscapeKeyDown:E,fullScreen:O,fullWidth:F,maxWidth:T,scroll:I},G=(e=>{let{classes:t,scroll:r,maxWidth:i,fullWidth:o,fullScreen:l}=e,s={root:["root"],container:["container",`scroll${(0,a.default)(r)}`],paper:["paper",`paperScroll${(0,a.default)(r)}`,`paperWidth${(0,a.default)(String(i))}`,o&&"paperFullWidth",l&&"paperFullScreen"]};return(0,n.default)(s,d,t)})(H),_=t.useRef(),U=(0,i.default)(m),K=t.useMemo(()=>({titleId:U}),[U]),J={slots:{transition:Y,...N},slotProps:{transition:V,paper:L,backdrop:C,...z}},[X,Q]=(0,b.default)("root",{elementType:j,shouldForwardComponentProp:!0,externalForwardedProps:J,ownerState:H,className:(0,r.default)(G.root,P),ref:o}),[Z,ee]=(0,b.default)("backdrop",{elementType:w,shouldForwardComponentProp:!0,externalForwardedProps:J,ownerState:H}),[et,er]=(0,b.default)("paper",{elementType:k,shouldForwardComponentProp:!0,externalForwardedProps:J,ownerState:H,className:(0,r.default)(G.paper,L.className)}),[en,ei]=(0,b.default)("container",{elementType:M,externalForwardedProps:J,ownerState:H,className:G.container}),[ea,eo]=(0,b.default)("transition",{elementType:l.default,externalForwardedProps:J,ownerState:H,additionalProps:{appear:!0,in:$,timeout:B,role:"presentation"}});return(0,v.jsx)(X,{closeAfterTransition:!0,slots:{backdrop:Z},slotProps:{backdrop:{transitionDuration:B,as:S,...ee}},disableEscapeKeyDown:E,onClose:D,open:$,onClick:e=>{W&&W(e),_.current&&(_.current=null,D&&D(e,"backdropClick"))},...Q,...q,children:(0,v.jsx)(ea,{...eo,children:(0,v.jsx)(en,{onMouseDown:e=>{_.current=e.target===e.currentTarget},...ei,children:(0,v.jsx)(et,{as:A,elevation:24,role:"dialog","aria-describedby":h,"aria-labelledby":U,"aria-modal":y,...er,children:(0,v.jsx)(p.Provider,{value:K,children:R})})})})})});e.s(["default",0,S],781974)},524167,839126,410081,e=>{"use strict";e.i(247167);var t=e.i(271645),r=e.i(207670),n=e.i(519130),i=e.i(126863),a=e.i(940799),o=e.i(594425),l=e.i(540672),s=e.i(319727);function c(e){return(0,s.default)("MuiDialogTitle",e)}let u=(0,l.default)("MuiDialogTitle",["root"]);var d=e.i(671364),f=e.i(843476);let p=(0,a.styled)(i.default,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),h=t.forwardRef(function(e,i){let a=(0,o.useDefaultProps)({props:e,name:"MuiDialogTitle"}),{className:l,id:s,...u}=a,h=(e=>{let{classes:t}=e;return(0,n.default)({root:["root"]},c,t)})(a),{titleId:m=s}=t.useContext(d.default);return(0,f.jsx)(p,{component:"h2",className:(0,r.default)(h.root,l),ownerState:a,ref:i,variant:"h6",id:s??m,...u})});e.s(["default",0,h],524167);var m=e.i(75149);function g(e){return(0,s.default)("MuiDialogContent",e)}(0,l.default)("MuiDialogContent",["root","dividers"]);let y=(0,a.styled)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.dividers&&t.dividers]}})((0,m.default)(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${u.root} + &`]:{paddingTop:0}}}]}))),x=t.forwardRef(function(e,t){let i=(0,o.useDefaultProps)({props:e,name:"MuiDialogContent"}),{className:a,dividers:l=!1,...s}=i,c={...i,dividers:l},u=(e=>{let{classes:t,dividers:r}=e;return(0,n.default)({root:["root",r&&"dividers"]},g,t)})(c);return(0,f.jsx)(y,{className:(0,r.default)(u.root,a),ownerState:c,ref:t,...s})});function b(e){return(0,s.default)("MuiDialogActions",e)}e.s(["default",0,x],839126),(0,l.default)("MuiDialogActions",["root","spacing"]);let v=(0,a.styled)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),w=t.forwardRef(function(e,t){let i=(0,o.useDefaultProps)({props:e,name:"MuiDialogActions"}),{className:a,disableSpacing:l=!1,...s}=i,c={...i,disableSpacing:l},u=(e=>{let{classes:t,disableSpacing:r}=e;return(0,n.default)({root:["root",!r&&"spacing"]},b,t)})(c);return(0,f.jsx)(v,{className:(0,r.default)(u.root,a),ownerState:c,ref:t,...s})});e.s(["default",0,w],410081)},488784,e=>{"use strict";function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e){return function t(){for(var r=this,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return i.length>=e.length?e.apply(this,i):function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.apply(r,[].concat(i,n))}}}function a(e){return({}).toString.call(e).includes("Object")}function o(e){return"function"==typeof e}var l,s,c=i(function(e,t){throw Error(e[t]||e.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),u=function(e,t){return a(t)||c("changeType"),Object.keys(t).some(function(t){return!Object.prototype.hasOwnProperty.call(e,t)})&&c("changeField"),t},d=function(e){o(e)||c("selectorType")},f=function(e){o(e)||a(e)||c("handlerType"),a(e)&&Object.values(e).some(function(e){return!o(e)})&&c("handlersType")},p=function(e){e||c("initialIsRequired"),a(e)||c("initialType"),Object.keys(e).length||c("initialContent")};function h(e,t){return o(t)?t(e.current):t}function m(e,t){return e.current=n(n({},e.current),t),t}function g(e,t,r){return o(t)?t(e.current):Object.keys(r).forEach(function(r){var n;return null==(n=t[r])?void 0:n.call(t,e.current[r])}),r}var y={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},x=(l=function(e,t){throw Error(e[t]||e.default)},function e(){for(var t=this,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return n.length>=l.length?l.apply(this,n):function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return e.apply(t,[].concat(n,i))}})(y),b=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}},v={type:"cancelation",msg:"operation is manually canceled"};function w(e){var t=!1,r=new Promise(function(r,n){e.then(function(e){return t?n(v):r(e)}),e.catch(n)});return r.cancel=function(){return t=!0},r}var j=function(e){if(Array.isArray(e))return e}(s=({create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(e),f(t);var r={current:e},n=i(g)(r,t),a=i(m)(r),o=i(u)(e),l=i(h)(r);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return d(e),e(r.current)},function(e){(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}})(n,a,o,l)(e)}]}}).create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.54.0/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,l=[],s=!0,c=!1;try{a=(r=r.call(e)).next,!1;for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),2!==l.length);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return l}}(s,2)||function(e,r){if(e){if("string"==typeof e)return t(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,2):void 0}}(s,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),M=j[0],k=j[1];function S(e){return document.body.appendChild(e)}function C(e){var t,r,n=M(function(e){return{config:e.config,reject:e.reject}}),i=(t="".concat(n.config.paths.vs,"/loader.js"),r=document.createElement("script"),t&&(r.src=t),r);return i.onload=function(){return e()},i.onerror=n.reject,i}function R(){var e=M(function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(t){var r=t.m;P(r),e.resolve(r)},function(t){e.reject(t)})}function P(e){M().monaco||k({monaco:e})}var E=new Promise(function(e,t){return k({resolve:e,reject:t})}),O=function(){var e=M(function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}});if(!e.isInitialized){if(k({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),w(E);if(window.monaco&&window.monaco.editor)return P(window.monaco),e.resolve(window.monaco),w(E);b(S,C)(R)}return w(E)},F=e.i(271645),T={display:"flex",position:"relative",textAlign:"initial"},W={width:"100%"},D={display:"none"},$={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},A=function({children:e}){return F.default.createElement("div",{style:$},e)},L=(0,F.memo)(function({width:e,height:t,isEditorReady:r,loading:n,_ref:i,className:a,wrapperProps:o}){return F.default.createElement("section",{style:{...T,width:e,height:t},...o},!r&&F.default.createElement(A,null,n),F.default.createElement("div",{ref:i,style:{...W,...!r&&D},className:a}))}),I=function(e){(0,F.useEffect)(e,[])},N=function(e,t,r=!0){let n=(0,F.useRef)(!0);(0,F.useEffect)(n.current||!r?()=>{n.current=!1}:e,t)};function z(){}function Y(e,t,r,n){var i,a,o,l,s,c;return i=e,a=n,i.editor.getModel(B(i,a))||(o=e,l=t,s=r,c=n,o.editor.createModel(l,s,c?B(o,c):void 0))}function B(e,t){return e.Uri.parse(t)}(0,F.memo)(function({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:i,originalModelPath:a,modifiedModelPath:o,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:s=!1,theme:c="light",loading:u="Loading...",options:d={},height:f="100%",width:p="100%",className:h,wrapperProps:m={},beforeMount:g=z,onMount:y=z}){let[x,b]=(0,F.useState)(!1),[v,w]=(0,F.useState)(!0),j=(0,F.useRef)(null),M=(0,F.useRef)(null),k=(0,F.useRef)(null),S=(0,F.useRef)(y),C=(0,F.useRef)(g),R=(0,F.useRef)(!1);I(()=>{let e=O();return e.then(e=>(M.current=e)&&w(!1)).catch(e=>e?.type!=="cancelation"&&console.error("Monaco initialization: error:",e)),()=>{let t;return j.current?(t=j.current?.getModel(),void(l||t?.original?.dispose(),s||t?.modified?.dispose(),j.current?.dispose())):e.cancel()}}),N(()=>{if(j.current&&M.current){let t=j.current.getOriginalEditor(),i=Y(M.current,e||"",n||r||"text",a||"");i!==t.getModel()&&t.setModel(i)}},[a],x),N(()=>{if(j.current&&M.current){let e=j.current.getModifiedEditor(),n=Y(M.current,t||"",i||r||"text",o||"");n!==e.getModel()&&e.setModel(n)}},[o],x),N(()=>{let e=j.current.getModifiedEditor();e.getOption(M.current.editor.EditorOption.readOnly)?e.setValue(t||""):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),e.pushUndoStop())},[t],x),N(()=>{j.current?.getModel()?.original.setValue(e||"")},[e],x),N(()=>{let{original:e,modified:t}=j.current.getModel();M.current.editor.setModelLanguage(e,n||r||"text"),M.current.editor.setModelLanguage(t,i||r||"text")},[r,n,i],x),N(()=>{M.current?.editor.setTheme(c)},[c],x),N(()=>{j.current?.updateOptions(d)},[d],x);let P=(0,F.useCallback)(()=>{if(!M.current)return;C.current(M.current);let l=Y(M.current,e||"",n||r||"text",a||""),s=Y(M.current,t||"",i||r||"text",o||"");j.current?.setModel({original:l,modified:s})},[r,t,i,e,n,a,o]),E=(0,F.useCallback)(()=>{!R.current&&k.current&&(j.current=M.current.editor.createDiffEditor(k.current,{automaticLayout:!0,...d}),P(),M.current?.editor.setTheme(c),b(!0),R.current=!0)},[d,c,P]);return(0,F.useEffect)(()=>{x&&S.current(j.current,M.current)},[x]),(0,F.useEffect)(()=>{v||x||E()},[v,x,E]),F.default.createElement(L,{width:p,height:f,isEditorReady:x,loading:u,_ref:k,className:h,wrapperProps:m})});var V=function(e){let t=(0,F.useRef)();return(0,F.useEffect)(()=>{t.current=e},[e]),t.current},q=new Map,H=(0,F.memo)(function({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:i,path:a,theme:o="light",line:l,loading:s="Loading...",options:c={},overrideServices:u={},saveViewState:d=!0,keepCurrentModel:f=!1,width:p="100%",height:h="100%",className:m,wrapperProps:g={},beforeMount:y=z,onMount:x=z,onChange:b,onValidate:v=z}){let[w,j]=(0,F.useState)(!1),[M,k]=(0,F.useState)(!0),S=(0,F.useRef)(null),C=(0,F.useRef)(null),R=(0,F.useRef)(null),P=(0,F.useRef)(x),E=(0,F.useRef)(y),T=(0,F.useRef)(),W=(0,F.useRef)(n),D=V(a),$=(0,F.useRef)(!1),A=(0,F.useRef)(!1);I(()=>{let e=O();return e.then(e=>(S.current=e)&&k(!1)).catch(e=>e?.type!=="cancelation"&&console.error("Monaco initialization: error:",e)),()=>C.current?void(T.current?.dispose(),f?d&&q.set(a,C.current.saveViewState()):C.current.getModel()?.dispose(),C.current.dispose()):e.cancel()}),N(()=>{let o=Y(S.current,e||n||"",t||i||"",a||r||"");o!==C.current?.getModel()&&(d&&q.set(D,C.current?.saveViewState()),C.current?.setModel(o),d&&C.current?.restoreViewState(q.get(a)))},[a],w),N(()=>{C.current?.updateOptions(c)},[c],w),N(()=>{C.current&&void 0!==n&&(C.current.getOption(S.current.editor.EditorOption.readOnly)?C.current.setValue(n):n!==C.current.getValue()&&(A.current=!0,C.current.executeEdits("",[{range:C.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),C.current.pushUndoStop(),A.current=!1))},[n],w),N(()=>{let e=C.current?.getModel();e&&i&&S.current?.editor.setModelLanguage(e,i)},[i],w),N(()=>{void 0!==l&&C.current?.revealLine(l)},[l],w),N(()=>{S.current?.editor.setTheme(o)},[o],w);let B=(0,F.useCallback)(()=>{if(!(!R.current||!S.current)&&!$.current){E.current(S.current);let s=a||r,f=Y(S.current,n||e||"",t||i||"",s||"");C.current=S.current?.editor.create(R.current,{model:f,automaticLayout:!0,...c},u),d&&C.current.restoreViewState(q.get(s)),S.current.editor.setTheme(o),void 0!==l&&C.current.revealLine(l),j(!0),$.current=!0}},[e,t,r,n,i,a,c,u,d,o,l]);return(0,F.useEffect)(()=>{w&&P.current(C.current,S.current)},[w]),(0,F.useEffect)(()=>{M||w||B()},[M,w,B]),W.current=n,(0,F.useEffect)(()=>{w&&b&&(T.current?.dispose(),T.current=C.current?.onDidChangeModelContent(e=>{A.current||b(C.current.getValue(),e)}))},[w,b]),(0,F.useEffect)(()=>{if(w){let e=S.current.editor.onDidChangeMarkers(e=>{let t=C.current.getModel()?.uri;if(t&&e.find(e=>e.path===t.path)){let e=S.current.editor.getModelMarkers({resource:t});v?.(e)}});return()=>{e?.dispose()}}return()=>{}},[w,v]),F.default.createElement(L,{width:p,height:h,isEditorReady:w,loading:s,_ref:R,className:m,wrapperProps:g})});e.s(["default",()=>H],488784)},842076,e=>{"use strict";var t=e.i(843476),r=e.i(271645),n=e.i(266027),i=e.i(781974),a=e.i(524167),o=e.i(839126),l=e.i(410081),s=e.i(236807),c=e.i(586653),u=e.i(126863),d=e.i(926678),f=e.i(828642),p=e.i(828637),h=e.i(739147),m=e.i(688762),g=e.i(75871),y=e.i(811180),x=e.i(488784),b=e.i(913662),v=e.i(618566);function w({open:e,onClose:w,resourceName:j,namespace:M,resourceType:k="deployment"}){let{selectedRepo:S,setPendingPR:C}=(0,b.useGitHubStore)(),R=(0,b.useModeStore)(e=>e.mode),P=(0,v.useRouter)(),[E,O]=(0,r.useState)(null),[F,T]=(0,r.useState)(""),[W,D]=(0,r.useState)(""),[$,A]=(0,r.useState)(""),[L,I]=(0,r.useState)(!1),[N,z]=(0,r.useState)(null),[Y,B]=(0,r.useState)(null),[V,q]=(0,r.useState)(!1),[H,G]=(0,r.useState)(!1),[_,U]=(0,r.useState)(null),[K,J]=(0,r.useState)([]),[X,Q]=(0,r.useState)(!1),{data:Z}=(0,n.useQuery)({queryKey:["github-auth-status"],queryFn:async()=>{let e=await fetch("/api/github/auth-status");return e.ok?e.json():{authenticated:!1}},enabled:e}),{data:ee,isLoading:et}=(0,n.useQuery)({queryKey:["github-files",S?.owner,S?.repo],queryFn:async()=>{if(!S)return[];let e=await fetch(`/api/github/files?owner=${S.owner}&repo=${S.repo}&ref=${S.branch}`);if(!e.ok)throw Error("Failed to fetch files");return e.json()},enabled:!!S&&e});(0,r.useEffect)(()=>{Z&&B(Z.authenticated)},[Z]),(0,r.useEffect)(()=>{(async()=>{if(ee&&0!==ee.length&&!E&&e&&S){G(!0),U(null);try{let e,t=localStorage.getItem("kubevista_openai_key");if(t){let r=j.replace(/-(main|dev|prod|staging|test)$/,""),n=r.toLowerCase().split(/[-_]/),i=ee.filter(e=>{let t=e.path.toLowerCase(),i=r.toLowerCase();return t.includes(i)||t.includes(j.toLowerCase())||n.some(e=>e.length>2&&t.includes(e))||t.includes("helm-release")||t.includes("application")||t.includes("deployment")||t.includes("kustomization")||t.includes(k)});i.length>50&&(i=i.slice(0,50));let a=i.length>0?i:ee.slice(0,100);e=await fetch("/api/ai/match-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({resourceName:j,namespace:M,resourceType:k,files:a.map(e=>({path:e.path,name:e.name})),apiKey:t})})}else{let e=j.replace(/-(main|dev|prod|staging|test)$/,""),t=ee.find(t=>{let r=t.path.toLowerCase(),n=e.toLowerCase(),i=j.toLowerCase();return r.includes(`${n}/helm-release.yaml`)||r.includes(`${n}/application.yaml`)||r.includes(`${i}/helm-release.yaml`)||r.includes(`${i}/application.yaml`)||r.includes(n)&&(r.includes("helm-release")||r.includes("application"))});if(t){await er(t.path),U({method:"pattern",confidence:75,reasoning:"Matched by file path pattern"}),G(!1);return}console.warn("[YamlEditor] No match found with simple pattern matching"),G(!1);return}if(!e.ok){let t=await e.text();console.error("[YamlEditor] Failed to match file:",e.status,t);return}let r=await e.json();if(t&&r.matches)J(r.matches),r.matches.length>1?(Q(!0),U({method:"ai",confidence:r.matches[0]?.confidence,reasoning:`Found ${r.matches.length} possible matches`})):1===r.matches.length?(U({method:"ai",confidence:r.matches[0].confidence,reasoning:r.matches[0].reasoning}),await er(r.matches[0].file)):console.warn("[YamlEditor] No matches found");else{let e=t?r.matchedFile:r.matchedFile?.path;e?(U({method:t?"ai":r.method||"pattern",confidence:r.confidence,reasoning:r.reasoning}),await er(e)):console.warn("[YamlEditor] No match found")}}catch(e){console.error("Error matching file:",e)}finally{G(!1)}}})()},[ee,e]);let er=async e=>{if(S)try{let t=await fetch(`/api/github/file?owner=${S.owner}&repo=${S.repo}&path=${e}&ref=${S.branch}`);if(!t.ok)throw Error("Failed to load file");let r=await t.json();T(r.content),D(r.content),A(r.sha),O(e)}catch(e){console.error("Failed to load file:",e)}},en=async()=>{if(S&&E){I(!0);try{let e=await fetch("/api/github/create-pr",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({owner:S.owner,repo:S.repo,filePath:E,content:F,deploymentName:j,namespace:M,baseBranch:S.branch})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to create PR")}let t=await e.json();z(t.pr),C(j,M,t.pr.number)}catch(e){console.error("Failed to create PR:",e),alert(e instanceof Error?e.message:"Failed to create PR")}finally{I(!1)}}};if(!1===Y)return(0,t.jsxs)(i.default,{open:e,onClose:w,maxWidth:"sm",fullWidth:!0,children:[(0,t.jsx)(o.default,{children:(0,t.jsx)(g.default,{severity:"info",children:"Please connect your GitHub account in Settings first."})}),(0,t.jsx)(l.default,{children:(0,t.jsx)(s.default,{onClick:w,children:"Close"})})]});if(null===Y)return(0,t.jsx)(i.default,{open:e,onClose:w,maxWidth:"sm",fullWidth:!0,children:(0,t.jsx)(o.default,{children:(0,t.jsx)(c.default,{sx:{display:"flex",justifyContent:"center",p:4},children:(0,t.jsx)(m.default,{})})})});if(!S)return(0,t.jsxs)(i.default,{open:e,onClose:w,maxWidth:"sm",fullWidth:!0,children:[(0,t.jsx)(o.default,{children:(0,t.jsxs)(g.default,{severity:"info",children:[(0,t.jsx)(u.default,{variant:"body2",fontWeight:500,gutterBottom:!0,children:"No GitHub repository configured"}),(0,t.jsx)(u.default,{variant:"caption",color:"text.secondary",display:"block",sx:{mb:2},children:"Install the GitHub App and select a repository to edit YAML files via GitOps."}),(0,t.jsxs)(c.default,{sx:{display:"flex",gap:1},children:[(0,t.jsx)(s.default,{variant:"contained",size:"small",startIcon:(0,t.jsx)(y.default,{}),onClick:()=>{let e=`${window.location.origin}/api/github-app/callback`,t=Math.random().toString(36).substring(7),r="Iv23lipSNqtEiL3HtNnk";console.log("Install GitHub App (YAML Editor) - clientId:",r),window.location.href=`https://github.com/login/oauth/authorize?client_id=${r}&redirect_uri=${e}&state=${t}`},children:"Install GitHub App"}),(0,t.jsx)(s.default,{variant:"outlined",size:"small",onClick:()=>{w(),P.push("demo"===R?"/demo/settings?tab=1":"/settings?tab=1")},children:"Go to Settings"})]})]})}),(0,t.jsx)(l.default,{children:(0,t.jsx)(s.default,{onClick:w,children:"Close"})})]});let ei=async()=>{if(S&&N){q(!0);try{let e=await fetch("/api/github/merge-pr",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({owner:S.owner,repo:S.repo,pullNumber:N.number,mergeMethod:"merge"})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to merge PR")}alert(`PR #${N.number} merged successfully!`),w(),window.location.reload()}catch(e){console.error("Failed to merge PR:",e),alert(e instanceof Error?e.message:"Failed to merge PR")}finally{q(!1)}}};return N?(0,t.jsxs)(i.default,{open:e,onClose:w,maxWidth:"md",fullWidth:!0,children:[(0,t.jsx)(a.default,{children:"Pull Request Created Successfully! ðŸŽ‰"}),(0,t.jsxs)(o.default,{children:[(0,t.jsxs)(g.default,{severity:"success",sx:{mb:2},children:["PR #",N.number," has been created and is ready for review."]}),(0,t.jsxs)(u.default,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[(0,t.jsx)("strong",{children:"PR URL:"})," ",N.url]}),(0,t.jsxs)(g.default,{severity:"info",sx:{mb:2},children:[(0,t.jsx)(u.default,{variant:"body2",fontWeight:"bold",gutterBottom:!0,children:"What would you like to do?"}),(0,t.jsxs)(u.default,{variant:"caption",display:"block",children:["â€¢ ",(0,t.jsx)("strong",{children:"View PR"}),": Open the PR on GitHub to see details and review"]}),(0,t.jsxs)(u.default,{variant:"caption",display:"block",children:["â€¢ ",(0,t.jsx)("strong",{children:"Merge Now"}),": Merge the PR immediately (use with caution!)"]}),(0,t.jsxs)(u.default,{variant:"caption",display:"block",children:["â€¢ ",(0,t.jsx)("strong",{children:"Close"}),": Close this dialog and merge the PR later"]})]})]}),(0,t.jsxs)(l.default,{sx:{px:3,pb:2,gap:1},children:[(0,t.jsx)(s.default,{onClick:w,variant:"outlined",size:"large",children:"Close"}),(0,t.jsx)(s.default,{onClick:()=>window.open(N.url,"_blank"),variant:"outlined",size:"large",children:"View PR on GitHub"}),(0,t.jsx)(s.default,{onClick:ei,variant:"contained",color:"success",size:"large",disabled:V,startIcon:V?(0,t.jsx)(m.default,{size:20}):null,children:V?"Merging...":"Merge Now"})]})]}):(0,t.jsxs)(i.default,{open:e,onClose:w,maxWidth:"lg",fullWidth:!0,children:[(0,t.jsxs)(a.default,{children:["Edit YAML - ",j," (","configmap"===k?"ConfigMap":"secret"===k?"Secret":"Deployment",")"]}),(0,t.jsx)(o.default,{children:et||H?(0,t.jsxs)(c.default,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2,p:4},children:[(0,t.jsx)(m.default,{}),(0,t.jsx)(u.default,{variant:"body2",color:"text.secondary",children:H?"Finding best matching file...":"Loading files..."})]}):(0,t.jsxs)(t.Fragment,{children:[_&&(0,t.jsxs)(g.default,{severity:"content"===_.method||"exact"===_.method||"directory"===_.method||"ai"===_.method?"success":"info",sx:{mb:2},children:[(0,t.jsxs)(u.default,{variant:"body2",children:["ai"===_.method&&`âœ“ File matched by AI (confidence: ${_.confidence}%)`,"content"===_.method&&"âœ“ File matched by cluster YAML comparison (exact match!)","exact"===_.method&&"âœ“ File automatically matched by exact name","directory"===_.method&&"âœ“ File automatically matched by directory structure","namespace"===_.method&&"âœ“ File automatically matched by namespace pattern","fuzzy"===_.method&&"âœ“ File automatically matched by similarity","pattern"===_.method&&"âœ“ File automatically matched by pattern matching"]}),_.reasoning&&(0,t.jsx)(u.default,{variant:"caption",display:"block",sx:{mt:.5,opacity:.8},children:_.reasoning})]}),X&&K.length>0&&(0,t.jsxs)(c.default,{sx:{mb:2},children:[(0,t.jsx)(u.default,{variant:"subtitle2",gutterBottom:!0,children:"AI found multiple possible matches. Select the environment you want to edit:"}),(0,t.jsx)(c.default,{sx:{display:"flex",flexDirection:"column",gap:1},children:K.map(e=>(0,t.jsx)(s.default,{variant:E===e.file?"contained":"outlined",onClick:async()=>{Q(!1),U({method:"ai",confidence:e.confidence,reasoning:e.reasoning}),await er(e.file)},sx:{justifyContent:"flex-start",textAlign:"left",py:1.5,px:2},children:(0,t.jsxs)(c.default,{sx:{flex:1},children:[(0,t.jsxs)(u.default,{variant:"body2",fontWeight:600,children:[e.environment.toUpperCase()," - ",e.file.split("/").pop()]}),(0,t.jsx)(u.default,{variant:"caption",color:"text.secondary",display:"block",children:e.file}),(0,t.jsxs)(u.default,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:.5},children:["Confidence: ",e.confidence,"% â€¢ ",e.reasoning]})]})},e.file))})]}),(0,t.jsxs)(p.default,{fullWidth:!0,sx:{mb:2},children:[(0,t.jsx)(h.default,{children:"Select YAML File"}),(0,t.jsx)(d.default,{value:E||"",onChange:e=>er(e.target.value),label:"Select YAML File",children:ee?.map(e=>(0,t.jsx)(f.default,{value:e.path,children:e.path},e.path))})]}),E&&(0,t.jsx)(c.default,{sx:{border:1,borderColor:"divider",borderRadius:1},children:(0,t.jsx)(x.default,{height:"500px",defaultLanguage:"yaml",value:F,onChange:e=>T(e||""),theme:"vs-dark",options:{minimap:{enabled:!1},fontSize:14,lineNumbers:"on",wordWrap:"on",scrollBeyondLastLine:!1}})})]})}),(0,t.jsxs)(l.default,{children:[(0,t.jsx)(s.default,{onClick:w,children:"Cancel"}),(0,t.jsx)(s.default,{onClick:en,variant:"contained",disabled:!E||F===W||L,children:L?"Creating PR...":"Create Pull Request"})]})]})}e.s(["YamlEditorModal",()=>w])}]);