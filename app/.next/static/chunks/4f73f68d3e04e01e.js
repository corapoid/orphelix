(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,891699,e=>{"use strict";var t=e.i(454624),o=e.i(843476);let r=(0,t.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");e.s(["default",0,r])},390704,e=>{"use strict";var t=e.i(266027),o=e.i(913662),r=e.i(684074);function a(){let e=(0,o.useModeStore)(e=>e.mode),a=(0,o.useModeStore)(e=>e.selectedNamespace),n=(0,o.useModeStore)(e=>e.selectedContext);return(0,t.useQuery)({queryKey:["secrets",e,a,n?.name||""],queryFn:async()=>{if("demo"===e)return await new Promise(e=>setTimeout(e,300)),(0,r.generateMockSecrets)();if(!a)throw Error("Namespace is required");let t=await fetch(`/api/secrets?namespace=${encodeURIComponent(a)}&context=${encodeURIComponent(n?.name||"")}`);if(!t.ok)throw Error("Failed to fetch Secrets");return t.json()},enabled:"demo"===e||!!a})}function n(e){let a=(0,o.useModeStore)(e=>e.mode),n=(0,o.useModeStore)(e=>e.selectedNamespace),i=(0,o.useModeStore)(e=>e.selectedContext);return(0,t.useQuery)({queryKey:["secret",e,a,n,i?.name||""],queryFn:async()=>{if("demo"===a){await new Promise(e=>setTimeout(e,200));let t=(0,r.generateMockSecrets)().find(t=>t.name===e);if(!t)throw Error("Secret not found");return t}if(!n)throw Error("Namespace is required");let t=await fetch(`/api/secrets/${e}?namespace=${encodeURIComponent(n)}&context=${encodeURIComponent(i?.name||"")}`);if(!t.ok)throw Error("Failed to fetch Secret");return t.json()},enabled:!!e&&("demo"===a||!!n)})}e.s(["useSecret",()=>n,"useSecrets",()=>a])},76109,e=>{"use strict";var t=e.i(266027),o=e.i(913662),r=e.i(684074);function a(){let e=(0,o.useModeStore)(e=>e.mode),a=(0,o.useModeStore)(e=>e.selectedNamespace),n=(0,o.useModeStore)(e=>e.selectedContext);return(0,t.useQuery)({queryKey:["configmaps",e,a,n?.name||""],queryFn:async()=>{if("demo"===e)return await new Promise(e=>setTimeout(e,300)),(0,r.generateMockConfigMaps)();if(!a)throw Error("Namespace is required");let t=await fetch(`/api/configmaps?namespace=${encodeURIComponent(a)}&context=${encodeURIComponent(n?.name||"")}`);if(!t.ok)throw Error("Failed to fetch ConfigMaps");return t.json()},enabled:"demo"===e||!!a})}function n(e){let a=(0,o.useModeStore)(e=>e.mode),n=(0,o.useModeStore)(e=>e.selectedNamespace),i=(0,o.useModeStore)(e=>e.selectedContext);return(0,t.useQuery)({queryKey:["configmap",e,a,n,i?.name||""],queryFn:async()=>{if("demo"===a){await new Promise(e=>setTimeout(e,200));let t=(0,r.generateMockConfigMaps)().find(t=>t.name===e);if(!t)throw Error("ConfigMap not found");return t}if(!n)throw Error("Namespace is required");let t=await fetch(`/api/configmaps/${e}?namespace=${encodeURIComponent(n)}&context=${encodeURIComponent(i?.name||"")}`);if(!t.ok)throw Error("Failed to fetch ConfigMap");return t.json()},enabled:!!e&&("demo"===a||!!n)})}e.s(["useConfigMap",()=>n,"useConfigMaps",()=>a])},905947,e=>{"use strict";var t=e.i(454624),o=e.i(843476);let r=(0,t.default)((0,o.jsx)("path",{d:"m18.25 7.6-5.5-3.18c-.46-.27-1.04-.27-1.5 0L5.75 7.6c-.46.27-.75.76-.75 1.3v6.35c0 .54.29 1.03.75 1.3l5.5 3.18c.46.27 1.04.27 1.5 0l5.5-3.18c.46-.27.75-.76.75-1.3V8.9c0-.54-.29-1.03-.75-1.3M7 14.96v-4.62l4 2.32v4.61zm5-4.03L8 8.61l4-2.31 4 2.31zm1 6.34v-4.61l4-2.32v4.62zM7 2H3.5C2.67 2 2 2.67 2 3.5V7h2V4h3zm10 0h3.5c.83 0 1.5.67 1.5 1.5V7h-2V4h-3zM7 22H3.5c-.83 0-1.5-.67-1.5-1.5V17h2v3h3zm10 0h3.5c.83 0 1.5-.67 1.5-1.5V17h-2v3h-3z"}),"ViewInAr");e.s(["default",0,r])},592490,e=>{"use strict";var t=e.i(266027),o=e.i(913662),r=e.i(684074);function a(){let e=(0,o.useModeStore)(e=>e.mode),a=(0,o.useModeStore)(e=>e.selectedNamespace),n=(0,o.useModeStore)(e=>e.selectedContext);return(0,t.useQuery)({queryKey:["deployments",e,a,n?.name||""],queryFn:async()=>{if("demo"===e)return await new Promise(e=>setTimeout(e,300)),(0,r.generateMockDeployments)();let t=await fetch(`/api/deployments?namespace=${encodeURIComponent(a)}&context=${encodeURIComponent(n?.name||"")}`);if(!t.ok)throw Error("Failed to fetch deployments");return t.json()}})}function n(e){let a=(0,o.useModeStore)(e=>e.mode),n=(0,o.useModeStore)(e=>e.selectedNamespace),i=(0,o.useModeStore)(e=>e.selectedContext);return(0,t.useQuery)({queryKey:["deployment",e,a,n,i?.name||""],queryFn:async()=>{if("demo"===a){await new Promise(e=>setTimeout(e,200));let t=(0,r.generateMockDeployments)().find(t=>t.name===e);if(!t)throw Error("Deployment not found");return t}let t=await fetch(`/api/deployments/${e}?namespace=${encodeURIComponent(n)}&context=${encodeURIComponent(i?.name||"")}`);if(!t.ok)throw Error("Failed to fetch deployment");return t.json()},enabled:!!e&&("demo"===a||!!n)})}function i(e){let a=(0,o.useModeStore)(e=>e.mode),n=(0,o.useModeStore)(e=>e.selectedNamespace),i=(0,o.useModeStore)(e=>e.selectedContext);return(0,t.useQuery)({queryKey:["deployment-pods",e,a,n,i?.name||""],queryFn:async()=>{if("demo"===a)return await new Promise(e=>setTimeout(e,200)),(0,r.generateMockPods)().filter(t=>{let o=t.ownerReferences?.some(t=>"ReplicaSet"===t.kind&&t.name.startsWith(e)),r=t.labels.app===e;return o||r});let t=await fetch(`/api/deployments/${e}/pods?namespace=${encodeURIComponent(n)}&context=${encodeURIComponent(i?.name||"")}`);if(!t.ok)throw Error("Failed to fetch deployment pods");return t.json()},enabled:!!e&&("demo"===a||!!n)})}e.s(["useDeployment",()=>n,"useDeploymentPods",()=>i,"useDeployments",()=>a])},792833,e=>{"use strict";var t=e.i(454624),o=e.i(843476);let r=(0,t.default)((0,o.jsx)("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27z"}),"Layers");e.s(["default",0,r])},781974,671364,e=>{"use strict";e.i(247167);var t=e.i(271645),o=e.i(207670),r=e.i(519130),a=e.i(357242),n=e.i(942196),i=e.i(18005),s=e.i(444202),l=e.i(67719),d=e.i(540672),p=e.i(319727);function c(e){return(0,p.default)("MuiDialog",e)}let u=(0,d.default)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),m=t.createContext({});e.s(["default",0,m],671364);var f=e.i(69e4),h=e.i(940799),y=e.i(210557),x=e.i(75149),g=e.i(594425),M=e.i(348106),w=e.i(843476);let S=(0,h.styled)(f.default,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),v=(0,h.styled)(i.default,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),C=(0,h.styled)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{let{ownerState:o}=e;return[t.container,t[`scroll${(0,n.default)(o.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),b=(0,h.styled)(l.default,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{let{ownerState:o}=e;return[t.paper,t[`scrollPaper${(0,n.default)(o.scroll)}`],t[`paperWidth${(0,n.default)(String(o.maxWidth))}`],o.fullWidth&&t.paperFullWidth,o.fullScreen&&t.paperFullScreen]}})((0,x.default)(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:"px"===e.breakpoints.unit?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${u.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(e=>"xs"!==e).map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${u.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${u.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),k=t.forwardRef(function(e,i){let d=(0,g.useDefaultProps)({props:e,name:"MuiDialog"}),p=(0,y.useTheme)(),u={enter:p.transitions.duration.enteringScreen,exit:p.transitions.duration.leavingScreen},{"aria-describedby":f,"aria-labelledby":h,"aria-modal":x=!0,BackdropComponent:k,BackdropProps:$,children:j,className:W,disableEscapeKeyDown:F=!1,fullScreen:P=!1,fullWidth:R=!1,maxWidth:T="sm",onClick:D,onClose:I,open:q,PaperComponent:N=l.default,PaperProps:U={},scroll:z="paper",slots:E={},slotProps:L={},TransitionComponent:K=s.default,transitionDuration:A=u,TransitionProps:B,...V}=d,Q={...d,disableEscapeKeyDown:F,fullScreen:P,fullWidth:R,maxWidth:T,scroll:z},H=(e=>{let{classes:t,scroll:o,maxWidth:a,fullWidth:i,fullScreen:s}=e,l={root:["root"],container:["container",`scroll${(0,n.default)(o)}`],paper:["paper",`paperScroll${(0,n.default)(o)}`,`paperWidth${(0,n.default)(String(a))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return(0,r.default)(l,c,t)})(Q),O=t.useRef(),X=(0,a.default)(h),Y=t.useMemo(()=>({titleId:X}),[X]),G={slots:{transition:K,...E},slotProps:{transition:B,paper:U,backdrop:$,...L}},[J,Z]=(0,M.default)("root",{elementType:v,shouldForwardComponentProp:!0,externalForwardedProps:G,ownerState:Q,className:(0,o.default)(H.root,W),ref:i}),[_,ee]=(0,M.default)("backdrop",{elementType:S,shouldForwardComponentProp:!0,externalForwardedProps:G,ownerState:Q}),[et,eo]=(0,M.default)("paper",{elementType:b,shouldForwardComponentProp:!0,externalForwardedProps:G,ownerState:Q,className:(0,o.default)(H.paper,U.className)}),[er,ea]=(0,M.default)("container",{elementType:C,externalForwardedProps:G,ownerState:Q,className:H.container}),[en,ei]=(0,M.default)("transition",{elementType:s.default,externalForwardedProps:G,ownerState:Q,additionalProps:{appear:!0,in:q,timeout:A,role:"presentation"}});return(0,w.jsx)(J,{closeAfterTransition:!0,slots:{backdrop:_},slotProps:{backdrop:{transitionDuration:A,as:k,...ee}},disableEscapeKeyDown:F,onClose:I,open:q,onClick:e=>{D&&D(e),O.current&&(O.current=null,I&&I(e,"backdropClick"))},...Z,...V,children:(0,w.jsx)(en,{...ei,children:(0,w.jsx)(er,{onMouseDown:e=>{O.current=e.target===e.currentTarget},...ea,children:(0,w.jsx)(et,{as:N,elevation:24,role:"dialog","aria-describedby":f,"aria-labelledby":X,"aria-modal":x,...eo,children:(0,w.jsx)(m.Provider,{value:Y,children:j})})})})})});e.s(["default",0,k],781974)},21996,e=>{"use strict";var t=e.i(454624),o=e.i(843476);let r=(0,t.default)((0,o.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning");e.s(["default",0,r])},177193,e=>{"use strict";var t=e.i(843476),o=e.i(126863),r=e.i(586653),a=e.i(67719),n=e.i(688762),i=e.i(75871),s=e.i(430017),l=e.i(913662),d=e.i(592490),p=e.i(76109),c=e.i(390704),u=e.i(602425),m=e.i(271645),f=e.i(367882);function h(){let e=(0,l.useModeStore)(e=>e.selectedNamespace),{data:h,isLoading:y}=(0,d.useDeployments)(),{data:x,isLoading:g}=(0,p.useConfigMaps)(),{data:M,isLoading:w}=(0,c.useSecrets)(),S=(0,m.useMemo)(()=>h&&x&&M&&e?(0,u.buildConfigSecretsTopology)(h,x,M,e):null,[h,x,M,e]);return(0,t.jsxs)(r.default,{children:[(0,t.jsx)(f.PageHeader,{title:"Cluster Topology",metadata:[`Namespace: ${e||"All"}`]}),y||g||w?(0,t.jsx)(r.default,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:(0,t.jsx)(n.default,{})}):S&&0!==S.nodes.length?(0,t.jsxs)(a.default,{sx:{p:2},children:[(0,t.jsx)(o.default,{variant:"h6",gutterBottom:!0,children:"ConfigMaps/Secrets â†’ Deployments"}),(0,t.jsx)(o.default,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Visualizes how ConfigMaps and Secrets are mounted in Deployments"}),(0,t.jsx)(s.TopologyGraph,{data:S,height:700})]}):(0,t.jsx)(i.default,{severity:"info",children:"No topology data available for the current namespace. Deploy some resources with ConfigMaps or Secrets to see the topology graph."})]})}e.s(["default",()=>h])}]);