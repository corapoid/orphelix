(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,654895,e=>{"use strict";var t=e.i(843476),r=e.i(289590),s=e.i(514570),s=s,i=e.i(3626),i=i,a=e.i(103737),a=a,n=e.i(571604),n=n,l=e.i(955668),l=l,o=e.i(117693),o=o,c=e.i(332963);function d({rows:e=5,columns:d=6,showHeader:u=!0}){return(0,t.jsx)(n.default,{component:c.Paper,children:(0,t.jsxs)(s.default,{children:[u&&(0,t.jsx)(l.default,{children:(0,t.jsx)(o.default,{children:Array.from({length:d}).map((e,s)=>(0,t.jsx)(a.default,{children:(0,t.jsx)(r.Skeleton,{variant:"text",width:"80%",height:24})},`header-${s}`))})}),(0,t.jsx)(i.default,{children:Array.from({length:e}).map((e,s)=>(0,t.jsx)(o.default,{children:Array.from({length:d}).map((e,i)=>(0,t.jsx)(a.default,{children:(0,t.jsx)(r.Skeleton,{variant:"text",width:0===i?"60%":"80%",height:20})},`cell-${s}-${i}`))},`row-${s}`))})]})})}e.s(["TableSkeleton",()=>d],654895)},549638,e=>{"use strict";var t=e.i(843476),r=e.i(586653),s=e.i(126863),i=e.i(236807),a=e.i(67719);let n=(0,e.i(454624).default)((0,t.jsx)("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2m0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19z"}),"Inbox");function l({icon:e=n,title:l,description:o,action:c}){return(0,t.jsxs)(a.default,{sx:{p:6,textAlign:"center",bgcolor:"background.default",border:"2px dashed",borderColor:"divider"},children:[(0,t.jsx)(r.default,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:80,height:80,borderRadius:"50%",bgcolor:"action.hover",mb:3},children:(0,t.jsx)(e,{sx:{fontSize:40,color:"text.secondary"}})}),(0,t.jsx)(s.default,{variant:"h6",sx:{fontWeight:600,mb:1},children:l}),o&&(0,t.jsx)(s.default,{variant:"body2",color:"text.secondary",sx:{mb:3,maxWidth:400,mx:"auto"},children:o}),c&&(0,t.jsx)(i.default,{variant:"contained",onClick:c.onClick,children:c.label})]})}e.s(["EmptyState",()=>l],549638)},226519,e=>{"use strict";var t=e.i(271645);function r(e,s=null,i="asc"){let[a,n]=(0,t.useState)(s),[l,o]=(0,t.useState)(i),[c,d]=(0,t.useState)(new Map);return{sortedData:(0,t.useMemo)(()=>a?[...e].sort((e,t)=>{let r=c.get(String(a));if(r)return r(e,t,l);let s=e[a],i=t[a];if(null==s&&null==i)return 0;if(null==s)return"asc"===l?1:-1;if(null==i)return"asc"===l?-1:1;if("string"==typeof s&&"string"==typeof i){let e=s.localeCompare(i);return"asc"===l?e:-e}if("number"==typeof s&&"number"==typeof i)return"asc"===l?s-i:i-s;let n=String(s),o=String(i),d=n.localeCompare(o);return"asc"===l?d:-d}):e,[e,a,l,c]),sortField:a,sortOrder:l,handleSort:(e,t)=>{a===e?o("asc"===l?"desc":"asc"):(n(e),o("asc"),t&&d(r=>{let s=new Map(r);return s.set(String(e),t),s}))}}}e.s(["useSortableTable",()=>r])},508979,e=>{"use strict";var t=e.i(454624),r=e.i(843476);let s=(0,t.default)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");e.s(["default",0,s])},747916,e=>{"use strict";var t=e.i(843476),r=e.i(103737);e.i(247167);var s=e.i(519130),i=e.i(207670),a=e.i(271645),n=e.i(154033);let l=(0,e.i(454624).default)((0,t.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");var o=e.i(940799),c=e.i(75149),d=e.i(594425),u=e.i(942196),f=e.i(540672),h=e.i(319727);function x(e){return(0,h.default)("MuiTableSortLabel",e)}let m=(0,f.default)("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc","directionDesc","directionAsc"]);var g=e.i(348106);let p=(0,o.styled)(n.default,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.active&&t.active]}})((0,c.default)(({theme:e})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(e.vars||e).palette.text.secondary},"&:hover":{color:(e.vars||e).palette.text.secondary,[`& .${m.icon}`]:{opacity:.5}},[`&.${m.active}`]:{color:(e.vars||e).palette.text.primary,[`& .${m.icon}`]:{opacity:1,color:(e.vars||e).palette.text.secondary}}}))),j=(0,o.styled)("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.icon,t[`iconDirection${(0,u.default)(r.direction)}`]]}})((0,c.default)(({theme:e})=>({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.shorter}),userSelect:"none",variants:[{props:{direction:"desc"},style:{transform:"rotate(0deg)"}},{props:{direction:"asc"},style:{transform:"rotate(180deg)"}}]}))),y=a.forwardRef(function(e,r){let a=(0,d.useDefaultProps)({props:e,name:"MuiTableSortLabel"}),{active:n=!1,children:o,className:c,direction:f="asc",hideSortIcon:h=!1,IconComponent:m=l,slots:y={},slotProps:b={},...S}=a,v={...a,active:n,direction:f,hideSortIcon:h,IconComponent:m},C=(e=>{let{classes:t,direction:r,active:i}=e,a={root:["root",i&&"active",`direction${(0,u.default)(r)}`],icon:["icon",`iconDirection${(0,u.default)(r)}`]};return(0,s.default)(a,x,t)})(v),w={slots:y,slotProps:b},[T,M]=(0,g.default)("root",{elementType:p,externalForwardedProps:w,ownerState:v,className:(0,i.default)(C.root,c),ref:r}),[$,R]=(0,g.default)("icon",{elementType:j,externalForwardedProps:w,ownerState:v,className:C.icon});return(0,t.jsxs)(T,{disableRipple:!0,component:"span",...M,...S,children:[o,h&&!n?null:(0,t.jsx)($,{as:m,...R})]})});function b({field:e,label:s,sortField:i,sortOrder:a,onSort:n,customSortFn:l,align:o="left",width:c}){let d=i===e;return(0,t.jsx)(r.default,{align:o,width:c,children:(0,t.jsx)(y,{active:d,direction:d?a:"asc",onClick:()=>n(e,l),children:s})})}e.s(["SortableTableCell",()=>b],747916)},550731,e=>{"use strict";var t=e.i(266027),r=e.i(913662),s=e.i(684074);function i(){let e=(0,r.useModeStore)(e=>e.mode),i=(0,r.useModeStore)(e=>e.selectedNamespace),a=(0,r.useModeStore)(e=>e.selectedContext);return(0,t.useQuery)({queryKey:["ingress",e,i,a?.name||""],queryFn:async()=>{if("demo"===e)return await new Promise(e=>setTimeout(e,300)),(0,s.generateMockIngresses)();let t=await fetch(`/api/ingress?namespace=${encodeURIComponent(i)}&context=${encodeURIComponent(a?.name||"")}`);if(!t.ok)throw Error((await t.json()).error||"Failed to fetch ingresses");return t.json()},enabled:"demo"===e||!!i})}function a(e){let i=(0,r.useModeStore)(e=>e.mode),a=(0,r.useModeStore)(e=>e.selectedNamespace),n=(0,r.useModeStore)(e=>e.selectedContext);return(0,t.useQuery)({queryKey:["ingress",i,a,e],queryFn:async()=>{if("demo"===i){await new Promise(e=>setTimeout(e,200));let t=(0,s.generateMockIngresses)().find(t=>t.name===e);if(!t)throw Error("Ingress not found");return t}let t=await fetch(`/api/ingress/${e}?namespace=${encodeURIComponent(a)}&context=${encodeURIComponent(n?.name||"")}`);if(!t.ok)throw Error((await t.json()).error||"Failed to fetch ingress");return t.json()},enabled:("demo"===i||!!a)&&!!e})}e.s(["useIngress",()=>a,"useIngresses",()=>i])},167614,e=>{"use strict";var t=e.i(843476),r=e.i(586653),s=e.i(514570),i=e.i(3626),a=e.i(103737),n=e.i(571604),l=e.i(955668),o=e.i(117693),c=e.i(67719),d=e.i(443090),u=e.i(126863),f=e.i(508979),h=e.i(86441),x=e.i(493525),m=e.i(658606),g=e.i(271645),p=e.i(986867),j=e.i(550731),y=e.i(10612),b=e.i(654895),S=e.i(498915),v=e.i(916155),C=e.i(747916),w=e.i(367882),T=e.i(549638),M=e.i(226519),$=e.i(8353);function R(){let e=(0,p.useNavigateTo)(),{data:R,isLoading:I,error:L,refetch:k}=(0,j.useIngresses)(),A=(0,$.usePageSearch)("Search ingress...");(0,y.useAutoRefresh)(k);let P=(0,g.useMemo)(()=>{if(!R)return[];let e=R;return A&&(e=e.filter(e=>e.name.toLowerCase().includes(A.toLowerCase())||e.hosts.some(e=>e.toLowerCase().includes(A.toLowerCase())))),e},[R,A]),{sortedData:N,sortField:z,sortOrder:D,handleSort:H}=(0,M.useSortableTable)(P,"name","asc");return I?(0,t.jsxs)(r.default,{children:[(0,t.jsx)(w.PageHeader,{title:"Ingress",onRefresh:k}),(0,t.jsx)(b.TableSkeleton,{rows:8,columns:6})]}):L?(0,t.jsxs)(r.default,{children:[(0,t.jsx)(w.PageHeader,{title:"Ingress",onRefresh:k}),(0,t.jsx)(S.ErrorState,{error:L,onRetry:()=>k(),title:"Failed to Load Ingress"})]}):(0,t.jsxs)(r.default,{children:[(0,t.jsx)(w.PageHeader,{title:"Ingress",subtitle:`${R?.length||0} ingress resource${R?.length===1?"":"s"} in this namespace`,onRefresh:k,isRefreshing:I}),(0,t.jsx)(v.ClusterConnectionAlert,{minimal:!0}),R&&0!==R.length?0===P.length?(0,t.jsx)(T.EmptyState,{icon:h.default,title:"No matching ingress resources",description:`No ingress resources match "${A}". Try adjusting your search.`}):(0,t.jsx)(n.default,{component:c.default,children:(0,t.jsxs)(s.default,{children:[(0,t.jsx)(l.default,{children:(0,t.jsxs)(o.default,{children:[(0,t.jsx)(C.SortableTableCell,{field:"name",label:"Name",sortField:z,sortOrder:D,onSort:H}),(0,t.jsx)(a.default,{children:"Class"}),(0,t.jsx)(a.default,{children:"Hosts"}),(0,t.jsx)(a.default,{children:"Paths"}),(0,t.jsx)(a.default,{children:"TLS"}),(0,t.jsx)(C.SortableTableCell,{field:"age",label:"Age",sortField:z,sortOrder:D,onSort:H}),(0,t.jsx)(a.default,{align:"right",children:"Actions"})]})}),(0,t.jsx)(i.default,{children:N.map(s=>(0,t.jsxs)(o.default,{hover:!0,sx:{cursor:"pointer"},onClick:()=>e(`/ingress/${s.name}`),children:[(0,t.jsx)(a.default,{children:(0,t.jsx)(u.default,{variant:"body2",fontWeight:"medium",children:s.name})}),(0,t.jsx)(a.default,{children:s.className?(0,t.jsx)(m.StatusBadge,{label:s.className,size:"small"}):(0,t.jsx)(u.default,{variant:"body2",color:"text.secondary",children:"default"})}),(0,t.jsx)(a.default,{children:(0,t.jsxs)(r.default,{sx:{display:"flex",gap:.5,flexWrap:"wrap"},children:[s.hosts.slice(0,2).map((e,r)=>(0,t.jsx)(m.StatusBadge,{label:e,size:"small"},r)),s.hosts.length>2&&(0,t.jsxs)(u.default,{variant:"caption",color:"text.secondary",children:["+",s.hosts.length-2]}),0===s.hosts.length&&(0,t.jsx)(u.default,{variant:"body2",color:"text.secondary",children:"*"})]})}),(0,t.jsx)(a.default,{children:(0,t.jsxs)(u.default,{variant:"body2",color:"text.secondary",children:[s.rules.reduce((e,t)=>e+t.paths.length,0)," path(s)"]})}),(0,t.jsx)(a.default,{children:s.tls&&s.tls.length>0?(0,t.jsx)(m.StatusBadge,{icon:(0,t.jsx)(x.default,{sx:{fontSize:14}}),label:"Secured",size:"small",color:"success"}):(0,t.jsx)(u.default,{variant:"body2",color:"text.secondary",children:"None"})}),(0,t.jsx)(a.default,{children:s.age}),(0,t.jsx)(a.default,{align:"right",children:(0,t.jsx)(d.default,{size:"small",onClick:t=>{t.stopPropagation(),e(`/ingress/${s.name}`)},children:(0,t.jsx)(f.default,{fontSize:"small"})})})]},s.name))})]})}):(0,t.jsx)(T.EmptyState,{icon:h.default,title:"No ingress resources found",description:"There are no ingress resources in this namespace. Create an ingress to expose HTTP(S) routes."})]})}e.s(["default",()=>R])}]);