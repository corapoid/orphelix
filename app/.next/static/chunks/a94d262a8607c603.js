(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,876759,e=>{"use strict";var t=e.i(843476),a=e.i(586653),r=e.i(514570),l=e.i(3626),i=e.i(103737),s=e.i(571604),n=e.i(955668),o=e.i(117693),d=e.i(67719),c=e.i(828637),u=e.i(739147),p=e.i(926678),x=e.i(828642),f=e.i(443090),m=e.i(869799),h=e.i(413778),g=e.i(431728),b=e.i(271645),v=e.i(367882),y=e.i(549638),j=e.i(654895),w=e.i(498915),S=e.i(916155),C=e.i(272616),k=e.i(226519),M=e.i(10612),z=e.i(8353);function $({title:e,resourceName:$,resourceNamePlural:R,icon:L,data:V,isLoading:F,error:H,refetch:P,searchPlaceholder:E,searchFilter:T,filters:A=[],customFilter:I,columns:D,defaultSortField:W,defaultSortOrder:N="asc",getRowKey:B,onRowClick:U,renderCard:q,showClusterAlert:K=!0,emptyStateDescription:O}){let{viewMode:G,setViewMode:Q}=(0,C.useViewMode)(),Y=(0,z.usePageSearch)(E);(0,M.useAutoRefresh)(P);let J=(0,b.useMemo)(()=>{if(!V)return[];let e=V;return I&&(e=e.filter(I)),Y&&(e=e.filter(e=>T(e,Y))),e},[V,Y,T,I]),{sortedData:X,sortField:Z,sortOrder:_,handleSort:ee}=(0,k.useSortableTable)(J,W,N);return F?(0,t.jsxs)(a.default,{children:[(0,t.jsx)(v.PageHeader,{title:e,onRefresh:P}),(0,t.jsx)(j.TableSkeleton,{rows:8,columns:D.length})]}):H?(0,t.jsxs)(a.default,{children:[(0,t.jsx)(v.PageHeader,{title:e,onRefresh:P}),(0,t.jsx)(w.ErrorState,{error:H,onRetry:P,title:`Failed to Load ${e}`})]}):(0,t.jsxs)(a.default,{children:[(0,t.jsx)(v.PageHeader,{title:e,subtitle:`${V?.length||0} ${V?.length===1?$:R} in this namespace`,onRefresh:P,isRefreshing:F,filters:(0,t.jsxs)(a.default,{sx:{display:"flex",gap:1,alignItems:"center"},children:[A.map(e=>(0,t.jsxs)(c.default,{size:"small",sx:{minWidth:150},children:[(0,t.jsx)(u.default,{children:e.label}),(0,t.jsx)(p.default,{value:e.value,label:e.label,onChange:t=>e.onChange(t.target.value),children:e.options.map(e=>(0,t.jsx)(x.default,{value:e.value,children:e.label},e.value))})]},e.label)),(0,t.jsxs)(a.default,{sx:{display:"flex",gap:.5,border:"1px solid",borderColor:"divider",borderRadius:1,p:.5},children:[(0,t.jsx)(m.default,{title:"List view",children:(0,t.jsx)(f.default,{size:"small",onClick:()=>Q("list"),sx:{bgcolor:"list"===G?"primary.main":"transparent",color:"list"===G?"white":"text.secondary","&:hover":{bgcolor:"list"===G?"primary.dark":"action.hover"}},children:(0,t.jsx)(h.default,{fontSize:"small"})})}),(0,t.jsx)(m.default,{title:"Grid view",children:(0,t.jsx)(f.default,{size:"small",onClick:()=>Q("grid"),sx:{bgcolor:"grid"===G?"primary.main":"transparent",color:"grid"===G?"white":"text.secondary","&:hover":{bgcolor:"grid"===G?"primary.dark":"action.hover"}},children:(0,t.jsx)(g.default,{fontSize:"small"})})})]})]})}),K&&(0,t.jsx)(S.ClusterConnectionAlert,{minimal:!0}),V&&0!==V.length?0===J.length?(0,t.jsx)(y.EmptyState,{icon:L,title:`No matching ${R}`,description:`No ${R} match your search or filters.`}):"grid"===G?(0,t.jsx)(a.default,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:2},children:X.map(e=>(0,t.jsx)(a.default,{children:q(e,U?()=>U(e):void 0)},B(e)))}):(0,t.jsx)(s.default,{component:d.default,children:(0,t.jsxs)(r.default,{children:[(0,t.jsx)(n.default,{children:(0,t.jsx)(o.default,{children:D.map(e=>(0,t.jsxs)(i.default,{align:e.align||"left",sx:{cursor:!1!==e.sortable?"pointer":"default"},onClick:!1!==e.sortable?()=>ee(e.field,e.customSortFn):void 0,children:[e.label,!1!==e.sortable&&Z===e.field&&("asc"===_?" ↑":" ↓")]},String(e.field)))})}),(0,t.jsx)(l.default,{children:X.map(e=>(0,t.jsx)(o.default,{hover:!0,sx:{cursor:U?"pointer":"default"},onClick:U?()=>U(e):void 0,children:D.map(a=>(0,t.jsx)(i.default,{align:a.align||"left",children:a.render?a.render(e):String(e[a.field]??"")},String(a.field)))},B(e)))})]})}):(0,t.jsx)(y.EmptyState,{icon:L,title:`No ${R} found`,description:O||`There are no ${R} in this namespace yet.`})]})}e.s(["ResourceListView",()=>$])},508979,e=>{"use strict";var t=e.i(454624),a=e.i(843476);let r=(0,t.default)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");e.s(["default",0,r])},413778,431728,e=>{"use strict";var t=e.i(454624),a=e.i(843476);let r=(0,t.default)((0,a.jsx)("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"}),"ViewList");e.s(["default",0,r],413778);let l=(0,t.default)((0,a.jsx)("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"}),"ViewModule");e.s(["default",0,l],431728)},272616,e=>{"use strict";var t=e.i(271645);let a="kubevista-view-mode";function r(){let[e,r]=(0,t.useState)(()=>localStorage.getItem(a)||"list");return(0,t.useEffect)(()=>{let e=e=>{e.key===a&&e.newValue&&r(e.newValue)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]),(0,t.useEffect)(()=>{let e=e=>{r(e.detail)};return window.addEventListener("viewModeChange",e),()=>window.removeEventListener("viewModeChange",e)},[]),{viewMode:e,setViewMode:e=>{r(e),localStorage.setItem(a,e),window.dispatchEvent(new CustomEvent("viewModeChange",{detail:e}))}}}e.s(["useViewMode",()=>r])},549638,e=>{"use strict";var t=e.i(843476),a=e.i(586653),r=e.i(126863),l=e.i(236807),i=e.i(67719);let s=(0,e.i(454624).default)((0,t.jsx)("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2m0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19z"}),"Inbox");function n({icon:e=s,title:n,description:o,action:d}){return(0,t.jsxs)(i.default,{sx:{p:6,textAlign:"center",bgcolor:"background.default",border:"2px dashed",borderColor:"divider"},children:[(0,t.jsx)(a.default,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:80,height:80,borderRadius:"50%",bgcolor:"action.hover",mb:3},children:(0,t.jsx)(e,{sx:{fontSize:40,color:"text.secondary"}})}),(0,t.jsx)(r.default,{variant:"h6",sx:{fontWeight:600,mb:1},children:n}),o&&(0,t.jsx)(r.default,{variant:"body2",color:"text.secondary",sx:{mb:3,maxWidth:400,mx:"auto"},children:o}),d&&(0,t.jsx)(l.default,{variant:"contained",onClick:d.onClick,children:d.label})]})}e.s(["EmptyState",()=>n],549638)},654895,e=>{"use strict";var t=e.i(843476),a=e.i(289590),r=e.i(514570),r=r,l=e.i(3626),l=l,i=e.i(103737),i=i,s=e.i(571604),s=s,n=e.i(955668),n=n,o=e.i(117693),o=o,d=e.i(332963);function c({rows:e=5,columns:c=6,showHeader:u=!0}){return(0,t.jsx)(s.default,{component:d.Paper,children:(0,t.jsxs)(r.default,{children:[u&&(0,t.jsx)(n.default,{children:(0,t.jsx)(o.default,{children:Array.from({length:c}).map((e,r)=>(0,t.jsx)(i.default,{children:(0,t.jsx)(a.Skeleton,{variant:"text",width:"80%",height:24})},`header-${r}`))})}),(0,t.jsx)(l.default,{children:Array.from({length:e}).map((e,r)=>(0,t.jsx)(o.default,{children:Array.from({length:c}).map((e,l)=>(0,t.jsx)(i.default,{children:(0,t.jsx)(a.Skeleton,{variant:"text",width:0===l?"60%":"80%",height:20})},`cell-${r}-${l}`))},`row-${r}`))})]})})}e.s(["TableSkeleton",()=>c],654895)},226519,e=>{"use strict";var t=e.i(271645);function a(e,r=null,l="asc"){let[i,s]=(0,t.useState)(r),[n,o]=(0,t.useState)(l),[d,c]=(0,t.useState)(new Map);return{sortedData:(0,t.useMemo)(()=>i?[...e].sort((e,t)=>{let a=d.get(String(i));if(a)return a(e,t,n);let r=e[i],l=t[i];if(null==r&&null==l)return 0;if(null==r)return"asc"===n?1:-1;if(null==l)return"asc"===n?-1:1;if("string"==typeof r&&"string"==typeof l){let e=r.localeCompare(l);return"asc"===n?e:-e}if("number"==typeof r&&"number"==typeof l)return"asc"===n?r-l:l-r;let s=String(r),o=String(l),c=s.localeCompare(o);return"asc"===n?c:-c}):e,[e,i,n,d]),sortField:i,sortOrder:n,handleSort:(e,t)=>{i===e?o("asc"===n?"desc":"asc"):(s(e),o("asc"),t&&c(a=>{let r=new Map(a);return r.set(String(e),t),r}))}}}e.s(["useSortableTable",()=>a])},955861,e=>{"use strict";var t=e.i(843476),a=e.i(586653),r=e.i(126863),l=e.i(67719);function i({name:e,resourceType:i,resourceColor:s,icon:n,onClick:o,statusBadge:d,metrics:c,footer:u}){return(0,t.jsxs)(l.default,{onClick:o,elevation:0,sx:{p:2,cursor:o?"pointer":"default",transition:"all 0.35s cubic-bezier(0.4, 0, 0.2, 1)",height:"100%",display:"flex",flexDirection:"column",position:"relative",borderRadius:3,overflow:"hidden",backgroundColor:e=>"dark"===e.palette.mode?"rgba(30, 30, 46, 0.6)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.12)":"rgba(209, 213, 219, 0.4)",boxShadow:e=>"dark"===e.palette.mode?"0 4px 16px 0 rgba(0, 0, 0, 0.3), inset 0 1px 1px 0 rgba(255, 255, 255, 0.08), inset 0 -1px 1px 0 rgba(0, 0, 0, 0.2)":"0 4px 16px 0 rgba(31, 38, 135, 0.08), inset 0 1px 1px 0 rgba(255, 255, 255, 0.9), inset 0 -1px 1px 0 rgba(0, 0, 0, 0.05)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"100%",background:e=>"dark"===e.palette.mode?"linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.02) 40%, transparent 60%, rgba(0, 0, 0, 0.1) 100%)":"linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.4) 40%, transparent 60%, rgba(0, 0, 0, 0.02) 100%)",pointerEvents:"none",borderRadius:3},"&:hover":{transform:"translateY(-2px) scale(1.01)",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.18)":"rgba(209, 213, 219, 0.6)",backgroundColor:e=>"dark"===e.palette.mode?"rgba(50, 50, 70, 0.7)":"rgba(255, 255, 255, 0.4)",backdropFilter:"blur(28px) saturate(200%)",WebkitBackdropFilter:"blur(28px) saturate(200%)",boxShadow:e=>"dark"===e.palette.mode?"0 8px 32px 0 rgba(0, 0, 0, 0.4), inset 0 2px 2px 0 rgba(255, 255, 255, 0.12), inset 0 -2px 2px 0 rgba(0, 0, 0, 0.3)":"0 8px 32px 0 rgba(31, 38, 135, 0.12), inset 0 2px 2px 0 rgba(255, 255, 255, 1), inset 0 -2px 2px 0 rgba(0, 0, 0, 0.08)"},"&:active":{transform:"translateY(0px) scale(0.98)"}},children:[(0,t.jsxs)(a.default,{sx:{display:"flex",alignItems:"flex-start",gap:1.5,mb:1.5,position:"relative",zIndex:1},children:[(0,t.jsx)(a.default,{sx:{width:44,height:44,borderRadius:2.5,display:"flex",alignItems:"center",justifyContent:"center",background:e=>"dark"===e.palette.mode?`linear-gradient(135deg, ${s}25 0%, ${s}15 100%)`:`linear-gradient(135deg, ${s}30 0%, ${s}15 100%)`,backdropFilter:"blur(10px)",border:"1px solid",borderColor:e=>"dark"===e.palette.mode?`${s}40`:`${s}30`,flexShrink:0,boxShadow:e=>"dark"===e.palette.mode?`0 2px 8px 0 ${s}20`:`0 2px 8px 0 ${s}15`},children:(0,t.jsx)(n,{sx:{fontSize:22,color:s,opacity:.95}})}),(0,t.jsxs)(a.default,{sx:{flexGrow:1,minWidth:0},children:[(0,t.jsx)(r.default,{variant:"body1",fontWeight:700,sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:1.3,mb:.5},children:e}),(0,t.jsx)(r.default,{variant:"caption",color:"text.secondary",sx:{opacity:.8},children:i})]})]}),d&&(0,t.jsx)(a.default,{sx:{mb:1.5,position:"relative",zIndex:1},children:d}),c&&(0,t.jsx)(a.default,{sx:{flexGrow:1,position:"relative",zIndex:1},children:c}),u&&(0,t.jsx)(a.default,{sx:{mt:"auto",pt:1.5,borderTop:"1px solid",borderColor:"divider",position:"relative",zIndex:1},children:u})]})}e.s(["ResourceCard",()=>i])},592490,e=>{"use strict";var t=e.i(266027),a=e.i(913662),r=e.i(684074);function l(){let e=(0,a.useModeStore)(e=>e.mode),l=(0,a.useModeStore)(e=>e.selectedNamespace),i=(0,a.useModeStore)(e=>e.selectedContext);return(0,t.useQuery)({queryKey:["deployments",e,l,i?.name||""],queryFn:async()=>{if("demo"===e)return await new Promise(e=>setTimeout(e,300)),(0,r.generateMockDeployments)();let t=await fetch(`/api/deployments?namespace=${encodeURIComponent(l)}&context=${encodeURIComponent(i?.name||"")}`);if(!t.ok)throw Error("Failed to fetch deployments");return t.json()}})}function i(e){let l=(0,a.useModeStore)(e=>e.mode),i=(0,a.useModeStore)(e=>e.selectedNamespace),s=(0,a.useModeStore)(e=>e.selectedContext);return(0,t.useQuery)({queryKey:["deployment",e,l,i,s?.name||""],queryFn:async()=>{if("demo"===l){await new Promise(e=>setTimeout(e,200));let t=(0,r.generateMockDeployments)().find(t=>t.name===e);if(!t)throw Error("Deployment not found");return t}let t=await fetch(`/api/deployments/${e}?namespace=${encodeURIComponent(i)}&context=${encodeURIComponent(s?.name||"")}`);if(!t.ok)throw Error("Failed to fetch deployment");return t.json()},enabled:!!e&&("demo"===l||!!i)})}function s(e){let l=(0,a.useModeStore)(e=>e.mode),i=(0,a.useModeStore)(e=>e.selectedNamespace),s=(0,a.useModeStore)(e=>e.selectedContext);return(0,t.useQuery)({queryKey:["deployment-pods",e,l,i,s?.name||""],queryFn:async()=>{if("demo"===l)return await new Promise(e=>setTimeout(e,200)),(0,r.generateMockPods)().filter(t=>{let a=t.ownerReferences?.some(t=>"ReplicaSet"===t.kind&&t.name.startsWith(e)),r=t.labels.app===e;return a||r});let t=await fetch(`/api/deployments/${e}/pods?namespace=${encodeURIComponent(i)}&context=${encodeURIComponent(s?.name||"")}`);if(!t.ok)throw Error("Failed to fetch deployment pods");return t.json()},enabled:!!e&&("demo"===l||!!i)})}e.s(["useDeployment",()=>i,"useDeploymentPods",()=>s,"useDeployments",()=>l])},792833,e=>{"use strict";var t=e.i(454624),a=e.i(843476);let r=(0,t.default)((0,a.jsx)("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27z"}),"Layers");e.s(["default",0,r])},546875,e=>{"use strict";var t=e.i(843476),a=e.i(126863),r=e.i(443090);let l=(0,e.i(454624).default)((0,t.jsx)("path",{d:"M9.19 6.35c-2.04 2.29-3.44 5.58-3.57 5.89L2 10.69l4.05-4.05c.47-.47 1.15-.68 1.81-.55zM11.17 17s3.74-1.55 5.89-3.7c5.4-5.4 4.5-9.62 4.21-10.57-.95-.3-5.17-1.19-10.57 4.21C8.55 9.09 7 12.83 7 12.83zm6.48-2.19c-2.29 2.04-5.58 3.44-5.89 3.57L13.31 22l4.05-4.05c.47-.47.68-1.15.55-1.81zM9 18c0 .83-.34 1.58-.88 2.12C6.94 21.3 2 22 2 22s.7-4.94 1.88-6.12C4.42 15.34 5.17 15 6 15c1.66 0 3 1.34 3 3m4-9c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2"}),"RocketLaunch");var i=e.i(508979),s=e.i(271645),n=e.i(618566),o=e.i(986867),d=e.i(592490),c=e.i(658606),u=e.i(586653),p=e.i(792833),x=e.i(955861);function f({deployment:e,onClick:r}){return(0,t.jsx)(x.ResourceCard,{name:e.name,resourceType:"Deployment",resourceColor:"#3F51B5",icon:p.default,onClick:r,statusBadge:(0,t.jsx)(c.StatusBadge,{status:e.status}),metrics:(0,t.jsxs)(u.default,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:1.5},children:[(0,t.jsxs)(u.default,{children:[(0,t.jsx)(a.default,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:"Replicas"}),(0,t.jsxs)(a.default,{variant:"h6",fontWeight:700,children:[e.replicas.ready,"/",e.replicas.desired]})]}),(0,t.jsxs)(u.default,{children:[(0,t.jsx)(a.default,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:"Available"}),(0,t.jsx)(a.default,{variant:"h6",fontWeight:700,children:e.replicas.available})]})]}),footer:(0,t.jsxs)(a.default,{variant:"caption",color:"text.secondary",children:["Age: ",e.age]})})}var m=e.i(876759);function h(){let e=(0,o.useNavigateTo)(),u=(0,n.useSearchParams)(),[p,x]=(0,s.useState)(""),{data:h,isLoading:g,error:b,refetch:v}=(0,d.useDeployments)();(0,s.useEffect)(()=>{let e=u.get("status");e&&("Available"===e||"Progressing"===e||"Degraded"===e)&&x(e)},[u]);let y=[{field:"name",label:"Name",render:e=>(0,t.jsx)(a.default,{variant:"body2",fontWeight:"medium",children:e.name})},{field:"status",label:"Status",render:e=>(0,t.jsx)(c.StatusBadge,{status:e.status})},{field:"replicas",label:"Replicas",align:"center",render:e=>`${e.replicas.ready}/${e.replicas.desired}`,customSortFn:(e,t,a)=>{let r=e.replicas.ready,l=t.replicas.ready;return"asc"===a?r-l:l-r}},{field:"available",label:"Available",align:"center",render:e=>e.replicas.available,customSortFn:(e,t,a)=>{let r=e.replicas.available,l=t.replicas.available;return"asc"===a?r-l:l-r}},{field:"unavailable",label:"Unavailable",align:"center",sortable:!1,render:e=>e.replicas.unavailable},{field:"age",label:"Age"},{field:"strategy",label:"Strategy"},{field:"actions",label:"Actions",align:"right",sortable:!1,render:a=>(0,t.jsx)(r.default,{size:"small",onClick:t=>{t.stopPropagation(),e(`/deployments/${a.name}`)},children:(0,t.jsx)(i.default,{fontSize:"small"})})}];return(0,t.jsx)(m.ResourceListView,{title:"Deployments",resourceName:"deployment",resourceNamePlural:"deployments",icon:l,data:h,isLoading:g,error:b,refetch:v,searchPlaceholder:"Search deployments...",searchFilter:(e,t)=>e.name.toLowerCase().includes(t.toLowerCase()),customFilter:p?e=>e.status===p:void 0,filters:[{label:"Status",value:p,options:[{label:"All Statuses",value:""},{label:"Available",value:"Available"},{label:"Progressing",value:"Progressing"},{label:"Degraded",value:"Degraded"}],onChange:e=>x(e)}],columns:y,defaultSortField:"name",defaultSortOrder:"asc",getRowKey:e=>e.name,onRowClick:t=>e(`/deployments/${t.name}`),renderCard:(e,a)=>(0,t.jsx)(f,{deployment:e,onClick:a}),emptyStateDescription:"There are no deployments in this namespace. Deploy your first application to get started."})}e.s(["default",()=>h],546875)}]);