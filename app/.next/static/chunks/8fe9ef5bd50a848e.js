(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54215,e=>{"use strict";var t=e.i(843476),r=e.i(126863),a=e.i(586653),s=e.i(75871),i=e.i(67719),n=e.i(937910),l=e.i(514570),o=e.i(3626),d=e.i(103737),c=e.i(955668),u=e.i(117693),h=e.i(828637),x=e.i(739147),f=e.i(926678),p=e.i(828642),m=e.i(290213),b=e.i(891699),g=e.i(741015),j=e.i(348255),y=e.i(331645),v=e.i(522016);e.i(185069);var C=e.i(868644),k=e.i(271645),S=e.i(618566),w=e.i(26777),R=e.i(114272),W=e.i(540143),P=e.i(915823),z=e.i(619273),M=class extends P.Subscribable{#e;#t=void 0;#r;#a;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,z.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,z.hashKey)(t.mutationKey)!==(0,z.hashKey)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#s(),this.#i()}mutate(e,t){return this.#a=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#s(){let e=this.#r?.state??(0,R.getDefaultState)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#i(e){W.notifyManager.batch(()=>{if(this.#a&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#a.onSuccess?.(e.data,t,r,a),this.#a.onSettled?.(e.data,null,t,r,a)):e?.type==="error"&&(this.#a.onError?.(e.error,t,r,a),this.#a.onSettled?.(void 0,e.error,t,r,a))}this.listeners.forEach(e=>{e(this.#t)})})}},I=e.i(912598),O=e.i(913662),D=e.i(658606),F=e.i(936151),L=e.i(872745),B=e.i(443090),T=e.i(584500),A=e.i(454624);let E=(0,A.default)((0,t.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download");var N=e.i(478365),U=e.i(688762);function $({logs:e,parsed:n,isLoading:l,error:o,containerName:d,onRefresh:c,logLines:u=100,onLogLinesChange:h}){let[x,m]=(0,k.useState)(""),[b,g]=(0,k.useState)(!0),[j,y]=(0,k.useState)("formatted"),v=(0,k.useRef)(null),C=(0,k.useRef)(null),S=(0,k.useMemo)(()=>n&&n.length>0?n:e.split("\n").filter(e=>e.trim()).map((e,t)=>({line:t+1,message:e,raw:e,isJson:!1,timestamp:void 0,level:void 0})),[e,n]),w=(0,k.useMemo)(()=>x?S.filter(e=>{let t=x.toLowerCase();return e.message.toLowerCase().includes(t)||e.raw.toLowerCase().includes(t)||e.level?.toLowerCase().includes(t)}):S,[S,x]);return((0,k.useEffect)(()=>{b&&v.current&&v.current.scrollIntoView({behavior:"smooth"})},[w,b]),(0,k.useEffect)(()=>{let e=C.current;if(!e)return;let t=()=>{let{scrollTop:t,scrollHeight:r,clientHeight:a}=e;g(r-t-a<50)};return e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)},[]),l)?(0,t.jsx)(i.default,{sx:{p:2},children:(0,t.jsx)(a.default,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:300},children:(0,t.jsx)(U.default,{})})}):o?(0,t.jsx)(i.default,{sx:{p:2},children:(0,t.jsxs)(s.default,{severity:"error",children:["Failed to load logs: ",o.message]})}):(0,t.jsxs)(i.default,{elevation:0,sx:{backgroundColor:e=>"dark"===e.palette.mode?"rgba(30, 30, 46, 0.6)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.12)":"rgba(209, 213, 219, 0.4)",borderRadius:3},children:[(0,t.jsx)(a.default,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:(0,t.jsxs)(a.default,{sx:{display:"flex",gap:1.5,alignItems:"center",flexWrap:"wrap"},children:[(0,t.jsx)(F.default,{size:"small",placeholder:"Search logs...",value:x,onChange:e=>m(e.target.value),InputProps:{startAdornment:(0,t.jsx)(L.default,{position:"start",children:(0,t.jsx)(T.default,{})})},sx:{flex:1,minWidth:200,"& .MuiOutlinedInput-root":{backgroundColor:e=>"dark"===e.palette.mode?"rgba(30, 30, 46, 0.6)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.12)":"rgba(209, 213, 219, 0.4)",borderRadius:3,"& fieldset":{border:"none"}}}}),(0,t.jsx)(D.StatusBadge,{label:"Formatted",size:"small",color:"formatted"===j?"info":"default",onClick:()=>y("formatted"),sx:{cursor:"pointer",fontWeight:"formatted"===j?600:400,opacity:"formatted"===j?1:.7}}),(0,t.jsx)(D.StatusBadge,{label:"Raw",size:"small",color:"raw"===j?"info":"default",onClick:()=>y("raw"),sx:{cursor:"pointer",fontWeight:"raw"===j?600:400,opacity:"raw"===j?1:.7}}),h&&(0,t.jsxs)(f.default,{size:"small",value:u,onChange:e=>h(Number(e.target.value)),sx:{minWidth:100,height:32,backgroundColor:e=>"dark"===e.palette.mode?"rgba(30, 30, 46, 0.6)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.12)":"rgba(209, 213, 219, 0.4)",borderRadius:3,"& .MuiOutlinedInput-notchedOutline":{border:"none"}},children:[(0,t.jsx)(p.default,{value:100,children:"100 lines"}),(0,t.jsx)(p.default,{value:250,children:"250 lines"}),(0,t.jsx)(p.default,{value:500,children:"500 lines"}),(0,t.jsx)(p.default,{value:1e3,children:"1000 lines"}),(0,t.jsx)(p.default,{value:2500,children:"2500 lines"}),(0,t.jsx)(p.default,{value:5e3,children:"5000 lines"})]}),c&&(0,t.jsx)(B.default,{onClick:c,size:"small",title:"Refresh logs",sx:{color:"text.primary","&:hover":{bgcolor:"action.hover"}},children:(0,t.jsx)(N.default,{fontSize:"small"})}),(0,t.jsx)(B.default,{onClick:()=>{let e=new Blob([JSON.stringify({container:d,timestamp:new Date().toISOString(),totalLines:S.length,logs:S},null,2)],{type:"application/json"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=`${d}-logs.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)},size:"small",title:"Download logs",sx:{color:"text.primary","&:hover":{bgcolor:"action.hover"}},children:(0,t.jsx)(E,{fontSize:"small"})})]})}),(0,t.jsx)(a.default,{ref:C,sx:{p:2,bgcolor:e=>"dark"===e.palette.mode?"rgba(0, 0, 0, 0.4)":"rgba(0, 0, 0, 0.05)",color:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.9)":"rgba(0, 0, 0, 0.87)",fontFamily:"monospace",fontSize:"0.875rem",maxHeight:600,overflow:"auto",borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomLeftRadius:"24px",borderBottomRightRadius:"24px","& .log-line":{py:.25,whiteSpace:"pre-wrap",wordBreak:"break-all"},"& .log-line:hover":{bgcolor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.08)"}},children:0===w.length?(0,t.jsx)(r.default,{variant:"body2",color:"text.secondary",children:x?"No logs match your search":"No logs available"}):"raw"===j?(0,t.jsxs)(t.Fragment,{children:[w.map((e,r)=>(0,t.jsx)(a.default,{className:"log-line",children:e.raw},r)),(0,t.jsx)("div",{ref:v})]}):(0,t.jsxs)(t.Fragment,{children:[w.map((e,s)=>(0,t.jsxs)(a.default,{className:"log-line",sx:{display:"flex",gap:1,alignItems:"flex-start",borderBottom:e=>"dark"===e.palette.mode?"1px solid rgba(255, 255, 255, 0.05)":"1px solid rgba(0, 0, 0, 0.08)"},children:[(0,t.jsx)(r.default,{component:"span",sx:{color:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.4)":"rgba(0, 0, 0, 0.4)",fontSize:"0.75rem",minWidth:"40px",flexShrink:0},children:e.line}),e.timestamp&&(0,t.jsx)(r.default,{component:"span",sx:{color:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.5)":"rgba(0, 0, 0, 0.5)",fontSize:"0.75rem",minWidth:"180px",flexShrink:0},children:e.timestamp}),e.level&&(0,t.jsx)(r.default,{component:"span",sx:{color:(e=>{if(!e)return"grey.400";let t=e.toUpperCase();return t.includes("ERROR")||t.includes("FATAL")?"error.main":t.includes("WARN")?"warning.main":t.includes("INFO")?"info.main":t.includes("DEBUG")?"grey.500":"success.main"})(e.level),fontSize:"0.75rem",fontWeight:"bold",minWidth:"60px",flexShrink:0},children:e.level}),(0,t.jsx)(r.default,{component:"span",sx:{color:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.9)":"rgba(0, 0, 0, 0.87)",flex:1,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:e.message}),e.isJson&&(0,t.jsx)(D.StatusBadge,{label:"JSON",size:"small",color:"info",sx:{height:"16px",fontSize:"0.65rem"}})]},s)),(0,t.jsx)("div",{ref:v})]})}),!b&&(0,t.jsx)(a.default,{sx:{position:"sticky",bottom:0,p:1,bgcolor:"info.main",color:"info.contrastText",textAlign:"center",cursor:"pointer"},onClick:()=>{g(!0),v.current?.scrollIntoView({behavior:"smooth"})},children:(0,t.jsx)(r.default,{variant:"caption",children:"Auto-scroll disabled. Click here to scroll to bottom."})})]})}var K=e.i(803566),H=e.i(859991),q=e.i(33329),G=e.i(428028),Q=e.i(756846),J=e.i(234251),V=e.i(303974),Y=e.i(229793),X=e.i(776552),Z=e.i(237828),_=e.i(21996);function ee({open:e,podName:r,isLoading:a,onConfirm:s,onCancel:i}){return(0,t.jsxs)(K.Dialog,{open:e,onClose:a?void 0:i,maxWidth:"sm",fullWidth:!0,children:[(0,t.jsxs)(H.DialogTitle,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(_.default,{color:"warning"}),"Restart Pod"]}),(0,t.jsxs)(q.DialogContent,{children:[(0,t.jsxs)(G.DialogContentText,{sx:{mb:2},children:["Are you sure you want to restart pod ",(0,t.jsx)("strong",{children:r}),"?"]}),(0,t.jsxs)(V.Alert,{severity:"warning",sx:{mb:2},children:[(0,t.jsx)(Y.AlertTitle,{children:"Important"}),(0,t.jsxs)(X.Box,{component:"ul",sx:{mt:1,mb:0,pl:2},children:[(0,t.jsx)("li",{children:"The pod will be deleted and recreated by its controller (Deployment/StatefulSet)"}),(0,t.jsx)("li",{children:"Active connections will be terminated"}),(0,t.jsx)("li",{children:"There may be brief downtime"}),(0,t.jsx)("li",{children:"Standalone pods (not managed by controllers) will be permanently deleted"})]})]}),(0,t.jsx)(G.DialogContentText,{variant:"body2",color:"text.secondary",children:"This action cannot be undone. The pod will go through initialization again."})]}),(0,t.jsxs)(Q.DialogActions,{children:[(0,t.jsx)(J.Button,{onClick:i,disabled:a,children:"Cancel"}),(0,t.jsx)(J.Button,{onClick:s,variant:"contained",color:"warning",disabled:a,startIcon:a?(0,t.jsx)(Z.CircularProgress,{size:16}):(0,t.jsx)(j.default,{}),children:a?"Restarting...":"Restart Pod"})]})]})}var et=e.i(845679),er=e.i(869799),ea=e.i(300202),es=e.i(183012),ei=e.i(212401),en=e.i(444202);function el({children:e,sx:r={},closeable:s=!1,open:n=!0,onClose:l,animationType:o="fade"}){let d=(0,t.jsxs)(i.default,{elevation:0,sx:{p:2.5,backgroundColor:e=>"dark"===e.palette.mode?"rgba(30, 30, 46, 0.6)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.12)":"rgba(209, 213, 219, 0.4)",borderRadius:"12px",boxShadow:e=>"dark"===e.palette.mode?"0 4px 16px 0 rgba(0, 0, 0, 0.3)":"0 4px 16px 0 rgba(31, 38, 135, 0.08)",position:"relative",...r},children:[s&&(0,t.jsx)(B.default,{size:"small",onClick:l,sx:{position:"absolute",top:8,right:8,color:"text.secondary",zIndex:1,"&:hover":{bgcolor:"action.hover"}},children:(0,t.jsx)(es.default,{fontSize:"small"})}),(0,t.jsx)(a.default,{sx:s?{pr:4}:void 0,children:e})]});return"collapse"===o?(0,t.jsx)(ei.default,{in:n,timeout:300,children:d}):"fade"===o?(0,t.jsx)(en.default,{in:n,timeout:400,children:(0,t.jsx)(a.default,{children:d})}):n?d:null}function eo({probe:e,type:s}){return(0,t.jsxs)(a.default,{sx:{mb:2},children:[(0,t.jsxs)(a.default,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,t.jsx)(et.default,{label:s,size:"small",color:"Liveness"===s?"error":"Readiness"===s?"success":"info",sx:{fontWeight:600}}),(0,t.jsx)(r.default,{variant:"body2",fontWeight:500,children:(()=>{switch(e.type){case"httpGet":return`HTTP GET ${e.httpGet?.path} :${e.httpGet?.port}`;case"tcpSocket":return`TCP :${e.tcpSocket?.port}`;case"exec":return`Exec: ${e.exec?.command.join(" ")}`;case"grpc":return"gRPC";default:return e.type}})()}),(0,t.jsx)(er.default,{title:(()=>{switch(s){case"Liveness":return"Determines if the container is running. If the probe fails, Kubernetes will restart the container.";case"Readiness":return"Determines if the container is ready to accept traffic. If the probe fails, the container will be removed from service endpoints.";case"Startup":return"Checks if the application has started. Delays liveness and readiness probes until this succeeds, useful for slow-starting containers.";default:return""}})(),arrow:!0,placement:"top",children:(0,t.jsx)(ea.default,{sx:{fontSize:16,color:"text.secondary",cursor:"help",opacity:.7,"&:hover":{opacity:1}}})})]}),(0,t.jsxs)(a.default,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:1,pl:2},children:[(0,t.jsxs)(a.default,{children:[(0,t.jsx)(r.default,{variant:"caption",color:"text.secondary",children:"Initial Delay:"}),(0,t.jsxs)(r.default,{variant:"body2",fontWeight:500,children:[e.initialDelaySeconds||0,"s"]})]}),(0,t.jsxs)(a.default,{children:[(0,t.jsx)(r.default,{variant:"caption",color:"text.secondary",children:"Period:"}),(0,t.jsxs)(r.default,{variant:"body2",fontWeight:500,children:[e.periodSeconds||10,"s"]})]}),(0,t.jsxs)(a.default,{children:[(0,t.jsx)(r.default,{variant:"caption",color:"text.secondary",children:"Timeout:"}),(0,t.jsxs)(r.default,{variant:"body2",fontWeight:500,children:[e.timeoutSeconds||1,"s"]})]}),(0,t.jsxs)(a.default,{children:[(0,t.jsx)(r.default,{variant:"caption",color:"text.secondary",children:"Failure Threshold:"}),(0,t.jsx)(r.default,{variant:"body2",fontWeight:500,children:e.failureThreshold||3})]})]})]})}function ed({containers:e}){return e.some(e=>e.livenessProbe||e.readinessProbe||e.startupProbe)?(0,t.jsxs)(a.default,{children:[(0,t.jsx)(r.default,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Health Checks"}),(0,t.jsx)(el,{children:e.map(e=>(0,t.jsxs)(a.default,{sx:{mb:3,"&:last-child":{mb:0}},children:[(0,t.jsxs)(r.default,{variant:"subtitle2",fontWeight:700,sx:{mb:2},children:["Container: ",e.name]}),e.livenessProbe||e.readinessProbe||e.startupProbe?(0,t.jsxs)(t.Fragment,{children:[e.livenessProbe&&(0,t.jsx)(eo,{probe:e.livenessProbe,type:"Liveness"}),e.readinessProbe&&(0,t.jsx)(eo,{probe:e.readinessProbe,type:"Readiness"}),e.startupProbe&&(0,t.jsx)(eo,{probe:e.startupProbe,type:"Startup"})]}):(0,t.jsx)(r.default,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:"No probes configured"})]},e.name))})]}):(0,t.jsxs)(a.default,{children:[(0,t.jsx)(r.default,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Health Checks"}),(0,t.jsx)(s.default,{severity:"info",children:"No health checks configured for this pod. Consider adding liveness and readiness probes for better reliability."})]})}var ec=e.i(647512);let eu=(0,A.default)((0,t.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline");function eh(e){if(!e)return"Unknown";let t=new Date(e),r=new Date().getTime()-t.getTime(),a=Math.floor(r/6e4),s=Math.floor(r/36e5),i=Math.floor(r/864e5);return a<60?`${a}m ago`:s<24?`${s}h ago`:`${i}d ago`}function ex({containerStatuses:e}){if(!e||0===e.length)return null;let i=e.filter(e=>e.restartCount>0||e.lastState?.terminated);return 0===i.length?(0,t.jsxs)(a.default,{children:[(0,t.jsx)(r.default,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Container Status"}),(0,t.jsx)(el,{children:(0,t.jsxs)(a.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(eu,{sx:{color:"success.main"}}),(0,t.jsx)(r.default,{variant:"body2",color:"text.secondary",children:"All containers are healthy with no restarts"})]})})]}):(0,t.jsxs)(a.default,{children:[(0,t.jsx)(r.default,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Container Status"}),(0,t.jsx)(el,{children:i.map(e=>(0,t.jsxs)(a.default,{sx:{mb:2,pb:2,borderBottom:"1px solid",borderColor:"divider","&:last-child":{mb:0,pb:0,borderBottom:"none"}},children:[(0,t.jsxs)(a.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[(0,t.jsx)(r.default,{variant:"subtitle2",fontWeight:700,children:e.name}),(0,t.jsx)(et.default,{icon:(0,t.jsx)(j.default,{}),label:`${e.restartCount} restart${1!==e.restartCount?"s":""}`,size:"small",color:e.restartCount>5?"error":e.restartCount>2?"warning":"default"})]}),e.state.waiting&&(0,t.jsxs)(s.default,{severity:"warning",sx:{mb:1},children:[(0,t.jsxs)(r.default,{variant:"body2",fontWeight:600,children:["Waiting: ",e.state.waiting.reason]}),e.state.waiting.message&&(0,t.jsx)(r.default,{variant:"caption",sx:{display:"block",mt:.5},children:e.state.waiting.message})]}),e.state.running&&(0,t.jsxs)(a.default,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,t.jsx)(eu,{sx:{fontSize:18,color:"success.main"}}),(0,t.jsxs)(r.default,{variant:"body2",color:"text.secondary",children:["Running since ",eh(e.state.running.startedAt)]})]}),e.state.terminated&&(0,t.jsxs)(s.default,{severity:"error",sx:{mb:1},children:[(0,t.jsxs)(r.default,{variant:"body2",fontWeight:600,children:["Terminated: ",e.state.terminated.reason," (exit code: ",e.state.terminated.exitCode,")"]}),e.state.terminated.message&&(0,t.jsx)(r.default,{variant:"caption",sx:{display:"block",mt:.5},children:e.state.terminated.message}),(0,t.jsxs)(r.default,{variant:"caption",sx:{display:"block",mt:.5},children:["Finished ",eh(e.state.terminated.finishedAt)]})]}),e.lastState?.terminated&&(0,t.jsxs)(a.default,{sx:{mt:1,p:1,bgcolor:"action.hover",borderRadius:1},children:[(0,t.jsxs)(a.default,{sx:{display:"flex",alignItems:"center",gap:.5,mb:.5},children:[(0,t.jsx)(ec.default,{sx:{fontSize:16,color:"error.main"}}),(0,t.jsx)(r.default,{variant:"caption",fontWeight:600,color:"error",children:"Last Failure"})]}),(0,t.jsxs)(r.default,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:["Reason: ",e.lastState.terminated.reason]}),(0,t.jsxs)(r.default,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:["Exit Code: ",e.lastState.terminated.exitCode]}),e.lastState.terminated.message&&(0,t.jsx)(r.default,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5},children:e.lastState.terminated.message}),(0,t.jsxs)(r.default,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5},children:["Failed ",eh(e.lastState.terminated.finishedAt)]})]})]},e.name))}),i.some(e=>e.restartCount>5)&&(0,t.jsxs)(s.default,{severity:"warning",sx:{mt:2},children:[(0,t.jsx)(r.default,{variant:"body2",fontWeight:600,gutterBottom:!0,children:"High Restart Count Detected"}),(0,t.jsx)(r.default,{variant:"caption",children:"Containers with frequent restarts may indicate configuration issues, resource constraints, or application bugs. Consider checking:"}),(0,t.jsxs)("ul",{style:{margin:"8px 0 0 0",paddingLeft:"20px"},children:[(0,t.jsx)("li",{children:(0,t.jsx)(r.default,{variant:"caption",children:"Application logs for error messages"})}),(0,t.jsx)("li",{children:(0,t.jsx)(r.default,{variant:"caption",children:"Resource limits (CPU/memory)"})}),(0,t.jsx)("li",{children:(0,t.jsx)(r.default,{variant:"caption",children:"Health check configurations"})}),(0,t.jsx)("li",{children:(0,t.jsx)(r.default,{variant:"caption",children:"Dependencies and external services"})})]})]})]})}var ef=e.i(767183),ep=e.i(498915),em=e.i(367882),eb=e.i(10612),eg=e.i(113388);function ej(){let e,R,P,F,L=(0,S.useParams)().name,{data:B,isLoading:T,error:A,refetch:E}=(0,w.usePod)(L);(0,eb.useAutoRefresh)(E);let[N,U]=(0,k.useState)(""),[K,H]=(0,k.useState)(100),[q,G]=(0,k.useState)(!1),[Q,J]=(0,k.useState)(!1),[V,Y]=(0,k.useState)(""),[X,Z]=(0,k.useState)("success"),_=(e=(0,I.useQueryClient)(),R=(0,O.useModeStore)(e=>e.mode),P=(0,O.useModeStore)(e=>e.selectedNamespace),F=(0,O.useModeStore)(e=>e.selectedContext),function(e,t){let r=(0,I.useQueryClient)(void 0),[a]=k.useState(()=>new M(r,e));k.useEffect(()=>{a.setOptions(e)},[a,e]);let s=k.useSyncExternalStore(k.useCallback(e=>a.subscribe(W.notifyManager.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=k.useCallback((e,t)=>{a.mutate(e,t).catch(z.noop)},[a]);if(s.error&&(0,z.shouldThrowError)(a.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}({mutationFn:async()=>{if("demo"===R)return await new Promise(e=>setTimeout(e,1500)),{success:!0,message:`Pod ${L} restarted successfully (mock mode)`,podName:L};if(!P)throw Error("Namespace is required");let e=await fetch(`/api/pods/${L}/restart?namespace=${encodeURIComponent(P)}&context=${encodeURIComponent(F?.name||"")}`,{method:"POST"});if(!e.ok)throw await e.json();return e.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["pods"]}),e.invalidateQueries({queryKey:["pod",L]}),e.invalidateQueries({queryKey:["deployment-pods"]}),e.invalidateQueries({queryKey:["node-pods"]}),e.invalidateQueries({queryKey:["pod-events",L]})}}));B&&!N&&B.containers.length>0&&U(B.containers[0].name);let{data:et,isLoading:er,error:ea,refetch:es}=(0,w.usePodLogs)(L,N,K),ei=et?.logs||"",en=et?.parsed,el=()=>{J(!1)};return T?(0,t.jsx)(ef.DetailSkeleton,{}):A||!B?(0,t.jsxs)(a.default,{children:[(0,t.jsx)(em.PageHeader,{title:"Pod Details",breadcrumbs:[{label:"Pods",href:"/pods"},{label:L}]}),(0,t.jsx)(ep.ErrorState,{error:A||Error("Pod not found"),onRetry:()=>E(),title:"Failed to Load Pod"})]}):(0,t.jsxs)(a.default,{children:[(0,t.jsx)(em.PageHeader,{title:(0,t.jsxs)(a.default,{sx:{display:"flex",alignItems:"center",gap:2},children:[B.name,(0,t.jsx)(D.StatusBadge,{status:B.status,size:"medium"})]}),metadata:[`Age: ${B.age}`],breadcrumbs:[{label:"Pods",href:"/pods"},{label:B.name}],onRefresh:E,isRefreshing:T,actions:(0,t.jsx)(C.GlassButton,{startIcon:(0,t.jsx)(j.default,{}),onClick:()=>{G(!0)},sx:{color:e=>e.palette.warning.main,borderColor:e=>e.palette.warning.main},children:"Restart Pod"})}),(0,t.jsxs)(n.default,{container:!0,spacing:3,sx:{mb:3},children:[(0,t.jsxs)(n.default,{size:{xs:12,md:6},sx:{display:"flex",flexDirection:"column"},children:[(0,t.jsx)(r.default,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Details"}),(0,t.jsx)(eg.GlassPanel,{sx:{p:2,flex:1,display:"flex",flexDirection:"column",minHeight:"110px"},children:(0,t.jsxs)(a.default,{sx:{display:"flex",flexDirection:"column",gap:1,flex:1},children:[(0,t.jsxs)(a.default,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,t.jsx)(r.default,{variant:"body2",color:"text.secondary",children:"Container:"}),(0,t.jsx)(r.default,{variant:"body2",fontWeight:"medium",children:B.containers.length>0?B.containers[0].name:"N/A"})]}),(0,t.jsxs)(a.default,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,t.jsx)(r.default,{variant:"body2",color:"text.secondary",children:"Node:"}),(0,t.jsx)(v.default,{href:`/nodes/${encodeURIComponent(B.nodeName)}`,style:{textDecoration:"none"},children:(0,t.jsx)(r.default,{variant:"body2",fontWeight:"medium",sx:{color:"primary.main","&:hover":{textDecoration:"underline"},cursor:"pointer"},children:B.nodeName})})]}),(0,t.jsxs)(a.default,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,t.jsx)(r.default,{variant:"body2",color:"text.secondary",children:"IP Address:"}),(0,t.jsx)(r.default,{variant:"body2",fontWeight:"medium",children:B.ip})]})]})})]}),(0,t.jsxs)(n.default,{size:{xs:12,md:6},sx:{display:"flex",flexDirection:"column"},children:[(0,t.jsx)(r.default,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Containers"}),(0,t.jsx)(eg.GlassPanel,{sx:{p:2,flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"110px"},children:(0,t.jsxs)(l.default,{size:"small",sx:{height:"100%"},children:[(0,t.jsx)(c.default,{children:(0,t.jsxs)(u.default,{children:[(0,t.jsx)(d.default,{children:"Image"}),(0,t.jsx)(d.default,{align:"center",children:"Ready"}),(0,t.jsx)(d.default,{align:"center",children:"Restarts"})]})}),(0,t.jsx)(o.default,{children:B.containers.map(e=>(0,t.jsxs)(u.default,{hover:!0,children:[(0,t.jsx)(d.default,{children:(0,t.jsx)(r.default,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.8rem"},children:e.image})}),(0,t.jsx)(d.default,{align:"center",children:e.ready?(0,t.jsx)(b.default,{color:"success",fontSize:"small"}):(0,t.jsx)(g.default,{color:"error",fontSize:"small"})}),(0,t.jsx)(d.default,{align:"center",children:e.restartCount>0?(0,t.jsx)(D.StatusBadge,{label:e.restartCount.toString(),size:"small",color:e.restartCount>5?"error":"warning"}):(0,t.jsx)(r.default,{variant:"body2",color:"text.secondary",children:"0"})})]},e.name))})]})})]})]}),(0,t.jsxs)(a.default,{sx:{mb:3},children:[(0,t.jsx)(r.default,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Labels"}),(0,t.jsx)(a.default,{sx:{display:"flex",flexWrap:"wrap",gap:1.5},children:Object.entries(B.labels).map(([e,a])=>(0,t.jsxs)(i.default,{elevation:0,sx:{px:2,py:1,backgroundColor:e=>"dark"===e.palette.mode?"rgba(30, 30, 46, 0.6)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.12)":"rgba(209, 213, 219, 0.4)",borderRadius:3,display:"flex",alignItems:"center",gap:1},children:[(0,t.jsxs)(r.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:[e,":"]}),(0,t.jsx)(r.default,{variant:"body2",fontWeight:500,children:a})]},e))})]}),(B.configMaps.length>0||B.secrets.length>0)&&(0,t.jsxs)(a.default,{sx:{mb:3},children:[(0,t.jsx)(r.default,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Resources"}),(0,t.jsxs)(a.default,{sx:{display:"flex",flexWrap:"wrap",gap:2},children:[B.configMaps.map(e=>(0,t.jsx)(v.default,{href:`/configmaps/${encodeURIComponent(e)}`,style:{textDecoration:"none"},children:(0,t.jsxs)(i.default,{elevation:0,sx:{p:2.5,minWidth:200,backgroundColor:e=>"dark"===e.palette.mode?"rgba(30, 30, 46, 0.6)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.12)":"rgba(209, 213, 219, 0.4)",borderRadius:3,transition:"all 0.2s",cursor:"pointer","&:hover":{transform:"translateY(-2px)",borderColor:e=>"dark"===e.palette.mode?"rgba(59, 130, 246, 0.5)":"rgba(59, 130, 246, 0.4)"}},children:[(0,t.jsxs)(a.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[(0,t.jsx)(r.default,{variant:"caption",color:"info.main",fontWeight:600,children:"ConfigMap"}),(0,t.jsx)(y.default,{fontSize:"small",sx:{color:"info.main",opacity:.6}})]}),(0,t.jsx)(r.default,{variant:"body1",fontWeight:500,children:e})]})},e)),B.secrets.map(e=>(0,t.jsx)(v.default,{href:`/secrets/${encodeURIComponent(e)}`,style:{textDecoration:"none"},children:(0,t.jsxs)(i.default,{elevation:0,sx:{p:2.5,minWidth:200,backgroundColor:e=>"dark"===e.palette.mode?"rgba(30, 30, 46, 0.6)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.12)":"rgba(209, 213, 219, 0.4)",borderRadius:3,transition:"all 0.2s",cursor:"pointer","&:hover":{transform:"translateY(-2px)",borderColor:e=>"dark"===e.palette.mode?"rgba(234, 179, 8, 0.5)":"rgba(234, 179, 8, 0.4)"}},children:[(0,t.jsxs)(a.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[(0,t.jsx)(r.default,{variant:"caption",color:"warning.main",fontWeight:600,children:"Secret"}),(0,t.jsx)(y.default,{fontSize:"small",sx:{color:"warning.main",opacity:.6}})]}),(0,t.jsx)(r.default,{variant:"body1",fontWeight:500,children:e})]})},e))]})]}),(0,t.jsx)(a.default,{sx:{mb:3},children:(0,t.jsx)(ed,{containers:B.containers})}),(0,t.jsx)(a.default,{sx:{mb:3},children:(0,t.jsx)(ex,{containerStatuses:B.containerStatuses})}),B.containers.length>0&&(0,t.jsxs)(a.default,{sx:{mb:3},children:[(0,t.jsxs)(a.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,t.jsx)(r.default,{variant:"h6",fontWeight:600,children:"Container Logs"}),B.containers.length>1&&(0,t.jsxs)(h.default,{size:"small",sx:{minWidth:200,"& .MuiOutlinedInput-root":{backgroundColor:e=>"dark"===e.palette.mode?"rgba(30, 30, 46, 0.6)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.12)":"rgba(209, 213, 219, 0.4)",borderRadius:3,"& fieldset":{border:"none"}}},children:[(0,t.jsx)(x.default,{children:"Select Container"}),(0,t.jsx)(f.default,{value:N,label:"Select Container",onChange:e=>U(e.target.value),children:B.containers.map(e=>(0,t.jsx)(p.default,{value:e.name,children:e.name},e.name))})]})]}),(0,t.jsx)($,{logs:ei,parsed:en,isLoading:er,error:ea,containerName:N,onRefresh:()=>es(),logLines:K,onLogLinesChange:H})]}),(0,t.jsx)(ee,{open:q,podName:L,isLoading:_.isPending,onConfirm:()=>{_.mutate(void 0,{onSuccess:e=>{G(!1),Y(e.message),Z("success"),J(!0)},onError:e=>{G(!1),Y(e.error||"Failed to restart pod"),Z("error"),J(!0)}})},onCancel:()=>{G(!1)}}),(0,t.jsx)(m.default,{open:Q,autoHideDuration:6e3,onClose:el,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,t.jsx)(s.default,{onClose:el,severity:X,sx:{width:"100%"},children:V})})]})}e.s(["default",()=>ej],54215)}]);