module.exports=[810831,a=>{"use strict";var b=a.i(187924),c=a.i(856068),d=a.i(588463),e=a.i(648577),f=a.i(744365),g=a.i(135464),h=a.i(627049),i=a.i(436970),j=a.i(881923),k=a.i(844968),l=a.i(36982),m=a.i(241484),n=a.i(875168),o=a.i(416941),p=a.i(626233),q=a.i(885989),r=a.i(234539),s=a.i(437446),t=a.i(956824),u=a.i(182879),v=a.i(238246);a.i(358405);var w=a.i(918319),x=a.i(572131),y=a.i(50944),z=a.i(759098),A=a.i(612794),B=a.i(118544),C=a.i(533791),D=a.i(442871),E=class extends C.Subscribable{#a;#b=void 0;#c;#d;constructor(a,b){super(),this.#a=a,this.setOptions(b),this.bindMethods(),this.#e()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){let b=this.options;this.options=this.#a.defaultMutationOptions(a),(0,D.shallowEqualObjects)(this.options,b)||this.#a.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#c,observer:this}),b?.mutationKey&&this.options.mutationKey&&(0,D.hashKey)(b.mutationKey)!==(0,D.hashKey)(this.options.mutationKey)?this.reset():this.#c?.state.status==="pending"&&this.#c.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#c?.removeObserver(this)}onMutationUpdate(a){this.#e(),this.#f(a)}getCurrentResult(){return this.#b}reset(){this.#c?.removeObserver(this),this.#c=void 0,this.#e(),this.#f()}mutate(a,b){return this.#d=b,this.#c?.removeObserver(this),this.#c=this.#a.getMutationCache().build(this.#a,this.options),this.#c.addObserver(this),this.#c.execute(a)}#e(){let a=this.#c?.state??(0,A.getDefaultState)();this.#b={...a,isPending:"pending"===a.status,isSuccess:"success"===a.status,isError:"error"===a.status,isIdle:"idle"===a.status,mutate:this.mutate,reset:this.reset}}#f(a){B.notifyManager.batch(()=>{if(this.#d&&this.hasListeners()){let b=this.#b.variables,c=this.#b.context,d={client:this.#a,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#d.onSuccess?.(a.data,b,c,d),this.#d.onSettled?.(a.data,null,b,c,d)):a?.type==="error"&&(this.#d.onError?.(a.error,b,c,d),this.#d.onSettled?.(void 0,a.error,b,c,d))}this.listeners.forEach(a=>{a(this.#b)})})}},F=a.i(937927),G=a.i(105528),H=a.i(778081),I=a.i(907329),J=a.i(728443),K=a.i(213469),L=a.i(836697),M=a.i(269464);let N=(0,M.default)((0,b.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download");var O=a.i(926152),P=a.i(178769);function Q({logs:a,parsed:g,isLoading:h,error:i,containerName:j,onRefresh:k,logLines:l=100,onLogLinesChange:m}){let[n,q]=(0,x.useState)(""),[r,s]=(0,x.useState)(!0),[t,u]=(0,x.useState)("formatted"),v=(0,x.useRef)(null),w=(0,x.useRef)(null),y=(0,x.useMemo)(()=>g&&g.length>0?g:a.split("\n").filter(a=>a.trim()).map((a,b)=>({line:b+1,message:a,raw:a,isJson:!1,timestamp:void 0,level:void 0})),[a,g]),z=(0,x.useMemo)(()=>n?y.filter(a=>{let b=n.toLowerCase();return a.message.toLowerCase().includes(b)||a.raw.toLowerCase().includes(b)||a.level?.toLowerCase().includes(b)}):y,[y,n]);return((0,x.useEffect)(()=>{r&&v.current&&v.current.scrollIntoView({behavior:"smooth"})},[z,r]),(0,x.useEffect)(()=>{let a=w.current;if(!a)return;let b=()=>{let{scrollTop:b,scrollHeight:c,clientHeight:d}=a;s(c-b-d<50)};return a.addEventListener("scroll",b),()=>a.removeEventListener("scroll",b)},[]),h)?(0,b.jsx)(f.default,{sx:{p:2},children:(0,b.jsx)(d.default,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:300},children:(0,b.jsx)(P.default,{})})}):i?(0,b.jsx)(f.default,{sx:{p:2},children:(0,b.jsxs)(e.default,{severity:"error",children:["Failed to load logs: ",i.message]})}):(0,b.jsxs)(f.default,{elevation:0,sx:{backgroundColor:a=>"dark"===a.palette.mode?"rgba(30, 30, 46, 0.6)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:"1px solid",borderColor:a=>"dark"===a.palette.mode?"rgba(255, 255, 255, 0.12)":"rgba(209, 213, 219, 0.4)",borderRadius:3},children:[(0,b.jsx)(d.default,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:(0,b.jsxs)(d.default,{sx:{display:"flex",gap:1.5,alignItems:"center",flexWrap:"wrap"},children:[(0,b.jsx)(I.default,{size:"small",placeholder:"Search logs...",value:n,onChange:a=>q(a.target.value),InputProps:{startAdornment:(0,b.jsx)(J.default,{position:"start",children:(0,b.jsx)(L.default,{})})},sx:{flex:1,minWidth:200,"& .MuiOutlinedInput-root":{backgroundColor:a=>"dark"===a.palette.mode?"rgba(30, 30, 46, 0.6)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:"1px solid",borderColor:a=>"dark"===a.palette.mode?"rgba(255, 255, 255, 0.12)":"rgba(209, 213, 219, 0.4)",borderRadius:3,"& fieldset":{border:"none"}}}}),(0,b.jsx)(H.StatusBadge,{label:"Formatted",size:"small",color:"formatted"===t?"info":"default",onClick:()=>u("formatted"),sx:{cursor:"pointer",fontWeight:"formatted"===t?600:400,opacity:"formatted"===t?1:.7}}),(0,b.jsx)(H.StatusBadge,{label:"Raw",size:"small",color:"raw"===t?"info":"default",onClick:()=>u("raw"),sx:{cursor:"pointer",fontWeight:"raw"===t?600:400,opacity:"raw"===t?1:.7}}),m&&(0,b.jsxs)(o.default,{size:"small",value:l,onChange:a=>m(Number(a.target.value)),sx:{minWidth:100,height:32,backgroundColor:a=>"dark"===a.palette.mode?"rgba(30, 30, 46, 0.6)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:"1px solid",borderColor:a=>"dark"===a.palette.mode?"rgba(255, 255, 255, 0.12)":"rgba(209, 213, 219, 0.4)",borderRadius:3,"& .MuiOutlinedInput-notchedOutline":{border:"none"}},children:[(0,b.jsx)(p.default,{value:100,children:"100 lines"}),(0,b.jsx)(p.default,{value:250,children:"250 lines"}),(0,b.jsx)(p.default,{value:500,children:"500 lines"}),(0,b.jsx)(p.default,{value:1e3,children:"1000 lines"}),(0,b.jsx)(p.default,{value:2500,children:"2500 lines"}),(0,b.jsx)(p.default,{value:5e3,children:"5000 lines"})]}),k&&(0,b.jsx)(K.default,{onClick:k,size:"small",title:"Refresh logs",sx:{color:"text.primary","&:hover":{bgcolor:"action.hover"}},children:(0,b.jsx)(O.default,{fontSize:"small"})}),(0,b.jsx)(K.default,{onClick:()=>{let a=new Blob([JSON.stringify({container:j,timestamp:new Date().toISOString(),totalLines:y.length,logs:y},null,2)],{type:"application/json"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`${j}-logs.json`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(b)},size:"small",title:"Download logs",sx:{color:"text.primary","&:hover":{bgcolor:"action.hover"}},children:(0,b.jsx)(N,{fontSize:"small"})})]})}),(0,b.jsx)(d.default,{ref:w,sx:{p:2,bgcolor:a=>"dark"===a.palette.mode?"rgba(0, 0, 0, 0.4)":"rgba(0, 0, 0, 0.05)",color:a=>"dark"===a.palette.mode?"rgba(255, 255, 255, 0.9)":"rgba(0, 0, 0, 0.87)",fontFamily:"monospace",fontSize:"0.875rem",maxHeight:600,overflow:"auto",borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomLeftRadius:"24px",borderBottomRightRadius:"24px","& .log-line":{py:.25,whiteSpace:"pre-wrap",wordBreak:"break-all"},"& .log-line:hover":{bgcolor:a=>"dark"===a.palette.mode?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.08)"}},children:0===z.length?(0,b.jsx)(c.default,{variant:"body2",color:"text.secondary",children:n?"No logs match your search":"No logs available"}):"raw"===t?(0,b.jsxs)(b.Fragment,{children:[z.map((a,c)=>(0,b.jsx)(d.default,{className:"log-line",children:a.raw},c)),(0,b.jsx)("div",{ref:v})]}):(0,b.jsxs)(b.Fragment,{children:[z.map((a,e)=>(0,b.jsxs)(d.default,{className:"log-line",sx:{display:"flex",gap:1,alignItems:"flex-start",borderBottom:a=>"dark"===a.palette.mode?"1px solid rgba(255, 255, 255, 0.05)":"1px solid rgba(0, 0, 0, 0.08)"},children:[(0,b.jsx)(c.default,{component:"span",sx:{color:a=>"dark"===a.palette.mode?"rgba(255, 255, 255, 0.4)":"rgba(0, 0, 0, 0.4)",fontSize:"0.75rem",minWidth:"40px",flexShrink:0},children:a.line}),a.timestamp&&(0,b.jsx)(c.default,{component:"span",sx:{color:a=>"dark"===a.palette.mode?"rgba(255, 255, 255, 0.5)":"rgba(0, 0, 0, 0.5)",fontSize:"0.75rem",minWidth:"180px",flexShrink:0},children:a.timestamp}),a.level&&(0,b.jsx)(c.default,{component:"span",sx:{color:(a=>{if(!a)return"grey.400";let b=a.toUpperCase();return b.includes("ERROR")||b.includes("FATAL")?"error.main":b.includes("WARN")?"warning.main":b.includes("INFO")?"info.main":b.includes("DEBUG")?"grey.500":"success.main"})(a.level),fontSize:"0.75rem",fontWeight:"bold",minWidth:"60px",flexShrink:0},children:a.level}),(0,b.jsx)(c.default,{component:"span",sx:{color:a=>"dark"===a.palette.mode?"rgba(255, 255, 255, 0.9)":"rgba(0, 0, 0, 0.87)",flex:1,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:a.message}),a.isJson&&(0,b.jsx)(H.StatusBadge,{label:"JSON",size:"small",color:"info",sx:{height:"16px",fontSize:"0.65rem"}})]},e)),(0,b.jsx)("div",{ref:v})]})}),!r&&(0,b.jsx)(d.default,{sx:{position:"sticky",bottom:0,p:1,bgcolor:"info.main",color:"info.contrastText",textAlign:"center",cursor:"pointer"},onClick:()=>{s(!0),v.current?.scrollIntoView({behavior:"smooth"})},children:(0,b.jsx)(c.default,{variant:"caption",children:"Auto-scroll disabled. Click here to scroll to bottom."})})]})}var R=a.i(848385),S=a.i(468386),T=a.i(943672),U=a.i(176493),V=a.i(631796),W=a.i(177940),X=a.i(466824),Y=a.i(314449),Z=a.i(124089),$=a.i(474288),_=a.i(784338);function aa({open:a,podName:c,isLoading:d,onConfirm:e,onCancel:f}){return(0,b.jsxs)(R.Dialog,{open:a,onClose:d?void 0:f,maxWidth:"sm",fullWidth:!0,children:[(0,b.jsxs)(S.DialogTitle,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,b.jsx)(_.default,{color:"warning"}),"Restart Pod"]}),(0,b.jsxs)(T.DialogContent,{children:[(0,b.jsxs)(U.DialogContentText,{sx:{mb:2},children:["Are you sure you want to restart pod ",(0,b.jsx)("strong",{children:c}),"?"]}),(0,b.jsxs)(X.Alert,{severity:"warning",sx:{mb:2},children:[(0,b.jsx)(Y.AlertTitle,{children:"Important"}),(0,b.jsxs)(Z.Box,{component:"ul",sx:{mt:1,mb:0,pl:2},children:[(0,b.jsx)("li",{children:"The pod will be deleted and recreated by its controller (Deployment/StatefulSet)"}),(0,b.jsx)("li",{children:"Active connections will be terminated"}),(0,b.jsx)("li",{children:"There may be brief downtime"}),(0,b.jsx)("li",{children:"Standalone pods (not managed by controllers) will be permanently deleted"})]})]}),(0,b.jsx)(U.DialogContentText,{variant:"body2",color:"text.secondary",children:"This action cannot be undone. The pod will go through initialization again."})]}),(0,b.jsxs)(V.DialogActions,{children:[(0,b.jsx)(W.Button,{onClick:f,disabled:d,children:"Cancel"}),(0,b.jsx)(W.Button,{onClick:e,variant:"contained",color:"warning",disabled:d,startIcon:d?(0,b.jsx)($.CircularProgress,{size:16}):(0,b.jsx)(t.default,{}),children:d?"Restarting...":"Restart Pod"})]})]})}var ab=a.i(703750),ac=a.i(813682),ad=a.i(864020),ae=a.i(989612),af=a.i(400782),ag=a.i(194162);function ah({children:a,sx:c={},closeable:e=!1,open:g=!0,onClose:h,animationType:i="fade"}){let j=(0,b.jsxs)(f.default,{elevation:0,sx:{p:2.5,backgroundColor:a=>"dark"===a.palette.mode?"rgba(30, 30, 46, 0.6)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:"1px solid",borderColor:a=>"dark"===a.palette.mode?"rgba(255, 255, 255, 0.12)":"rgba(209, 213, 219, 0.4)",borderRadius:"12px",boxShadow:a=>"dark"===a.palette.mode?"0 4px 16px 0 rgba(0, 0, 0, 0.3)":"0 4px 16px 0 rgba(31, 38, 135, 0.08)",position:"relative",...c},children:[e&&(0,b.jsx)(K.default,{size:"small",onClick:h,sx:{position:"absolute",top:8,right:8,color:"text.secondary",zIndex:1,"&:hover":{bgcolor:"action.hover"}},children:(0,b.jsx)(ae.default,{fontSize:"small"})}),(0,b.jsx)(d.default,{sx:e?{pr:4}:void 0,children:a})]});return"collapse"===i?(0,b.jsx)(af.default,{in:g,timeout:300,children:j}):"fade"===i?(0,b.jsx)(ag.default,{in:g,timeout:400,children:(0,b.jsx)(d.default,{children:j})}):g?j:null}function ai({probe:a,type:e}){return(0,b.jsxs)(d.default,{sx:{mb:2},children:[(0,b.jsxs)(d.default,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,b.jsx)(ab.default,{label:e,size:"small",color:"Liveness"===e?"error":"Readiness"===e?"success":"info",sx:{fontWeight:600}}),(0,b.jsx)(c.default,{variant:"body2",fontWeight:500,children:(()=>{switch(a.type){case"httpGet":return`HTTP GET ${a.httpGet?.path} :${a.httpGet?.port}`;case"tcpSocket":return`TCP :${a.tcpSocket?.port}`;case"exec":return`Exec: ${a.exec?.command.join(" ")}`;case"grpc":return"gRPC";default:return a.type}})()}),(0,b.jsx)(ac.default,{title:(()=>{switch(e){case"Liveness":return"Determines if the container is running. If the probe fails, Kubernetes will restart the container.";case"Readiness":return"Determines if the container is ready to accept traffic. If the probe fails, the container will be removed from service endpoints.";case"Startup":return"Checks if the application has started. Delays liveness and readiness probes until this succeeds, useful for slow-starting containers.";default:return""}})(),arrow:!0,placement:"top",children:(0,b.jsx)(ad.default,{sx:{fontSize:16,color:"text.secondary",cursor:"help",opacity:.7,"&:hover":{opacity:1}}})})]}),(0,b.jsxs)(d.default,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:1,pl:2},children:[(0,b.jsxs)(d.default,{children:[(0,b.jsx)(c.default,{variant:"caption",color:"text.secondary",children:"Initial Delay:"}),(0,b.jsxs)(c.default,{variant:"body2",fontWeight:500,children:[a.initialDelaySeconds||0,"s"]})]}),(0,b.jsxs)(d.default,{children:[(0,b.jsx)(c.default,{variant:"caption",color:"text.secondary",children:"Period:"}),(0,b.jsxs)(c.default,{variant:"body2",fontWeight:500,children:[a.periodSeconds||10,"s"]})]}),(0,b.jsxs)(d.default,{children:[(0,b.jsx)(c.default,{variant:"caption",color:"text.secondary",children:"Timeout:"}),(0,b.jsxs)(c.default,{variant:"body2",fontWeight:500,children:[a.timeoutSeconds||1,"s"]})]}),(0,b.jsxs)(d.default,{children:[(0,b.jsx)(c.default,{variant:"caption",color:"text.secondary",children:"Failure Threshold:"}),(0,b.jsx)(c.default,{variant:"body2",fontWeight:500,children:a.failureThreshold||3})]})]})]})}function aj({containers:a}){return a.some(a=>a.livenessProbe||a.readinessProbe||a.startupProbe)?(0,b.jsxs)(d.default,{children:[(0,b.jsx)(c.default,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Health Checks"}),(0,b.jsx)(ah,{children:a.map(a=>(0,b.jsxs)(d.default,{sx:{mb:3,"&:last-child":{mb:0}},children:[(0,b.jsxs)(c.default,{variant:"subtitle2",fontWeight:700,sx:{mb:2},children:["Container: ",a.name]}),a.livenessProbe||a.readinessProbe||a.startupProbe?(0,b.jsxs)(b.Fragment,{children:[a.livenessProbe&&(0,b.jsx)(ai,{probe:a.livenessProbe,type:"Liveness"}),a.readinessProbe&&(0,b.jsx)(ai,{probe:a.readinessProbe,type:"Readiness"}),a.startupProbe&&(0,b.jsx)(ai,{probe:a.startupProbe,type:"Startup"})]}):(0,b.jsx)(c.default,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:"No probes configured"})]},a.name))})]}):(0,b.jsxs)(d.default,{children:[(0,b.jsx)(c.default,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Health Checks"}),(0,b.jsx)(e.default,{severity:"info",children:"No health checks configured for this pod. Consider adding liveness and readiness probes for better reliability."})]})}var ak=a.i(160616);let al=(0,M.default)((0,b.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline");function am(a){if(!a)return"Unknown";let b=new Date(a),c=new Date().getTime()-b.getTime(),d=Math.floor(c/6e4),e=Math.floor(c/36e5),f=Math.floor(c/864e5);return d<60?`${d}m ago`:e<24?`${e}h ago`:`${f}d ago`}function an({containerStatuses:a}){if(!a||0===a.length)return null;let f=a.filter(a=>a.restartCount>0||a.lastState?.terminated);return 0===f.length?(0,b.jsxs)(d.default,{children:[(0,b.jsx)(c.default,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Container Status"}),(0,b.jsx)(ah,{children:(0,b.jsxs)(d.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,b.jsx)(al,{sx:{color:"success.main"}}),(0,b.jsx)(c.default,{variant:"body2",color:"text.secondary",children:"All containers are healthy with no restarts"})]})})]}):(0,b.jsxs)(d.default,{children:[(0,b.jsx)(c.default,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Container Status"}),(0,b.jsx)(ah,{children:f.map(a=>(0,b.jsxs)(d.default,{sx:{mb:2,pb:2,borderBottom:"1px solid",borderColor:"divider","&:last-child":{mb:0,pb:0,borderBottom:"none"}},children:[(0,b.jsxs)(d.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[(0,b.jsx)(c.default,{variant:"subtitle2",fontWeight:700,children:a.name}),(0,b.jsx)(ab.default,{icon:(0,b.jsx)(t.default,{}),label:`${a.restartCount} restart${1!==a.restartCount?"s":""}`,size:"small",color:a.restartCount>5?"error":a.restartCount>2?"warning":"default"})]}),a.state.waiting&&(0,b.jsxs)(e.default,{severity:"warning",sx:{mb:1},children:[(0,b.jsxs)(c.default,{variant:"body2",fontWeight:600,children:["Waiting: ",a.state.waiting.reason]}),a.state.waiting.message&&(0,b.jsx)(c.default,{variant:"caption",sx:{display:"block",mt:.5},children:a.state.waiting.message})]}),a.state.running&&(0,b.jsxs)(d.default,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,b.jsx)(al,{sx:{fontSize:18,color:"success.main"}}),(0,b.jsxs)(c.default,{variant:"body2",color:"text.secondary",children:["Running since ",am(a.state.running.startedAt)]})]}),a.state.terminated&&(0,b.jsxs)(e.default,{severity:"error",sx:{mb:1},children:[(0,b.jsxs)(c.default,{variant:"body2",fontWeight:600,children:["Terminated: ",a.state.terminated.reason," (exit code: ",a.state.terminated.exitCode,")"]}),a.state.terminated.message&&(0,b.jsx)(c.default,{variant:"caption",sx:{display:"block",mt:.5},children:a.state.terminated.message}),(0,b.jsxs)(c.default,{variant:"caption",sx:{display:"block",mt:.5},children:["Finished ",am(a.state.terminated.finishedAt)]})]}),a.lastState?.terminated&&(0,b.jsxs)(d.default,{sx:{mt:1,p:1,bgcolor:"action.hover",borderRadius:1},children:[(0,b.jsxs)(d.default,{sx:{display:"flex",alignItems:"center",gap:.5,mb:.5},children:[(0,b.jsx)(ak.default,{sx:{fontSize:16,color:"error.main"}}),(0,b.jsx)(c.default,{variant:"caption",fontWeight:600,color:"error",children:"Last Failure"})]}),(0,b.jsxs)(c.default,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:["Reason: ",a.lastState.terminated.reason]}),(0,b.jsxs)(c.default,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:["Exit Code: ",a.lastState.terminated.exitCode]}),a.lastState.terminated.message&&(0,b.jsx)(c.default,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5},children:a.lastState.terminated.message}),(0,b.jsxs)(c.default,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5},children:["Failed ",am(a.lastState.terminated.finishedAt)]})]})]},a.name))}),f.some(a=>a.restartCount>5)&&(0,b.jsxs)(e.default,{severity:"warning",sx:{mt:2},children:[(0,b.jsx)(c.default,{variant:"body2",fontWeight:600,gutterBottom:!0,children:"High Restart Count Detected"}),(0,b.jsx)(c.default,{variant:"caption",children:"Containers with frequent restarts may indicate configuration issues, resource constraints, or application bugs. Consider checking:"}),(0,b.jsxs)("ul",{style:{margin:"8px 0 0 0",paddingLeft:"20px"},children:[(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{variant:"caption",children:"Application logs for error messages"})}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{variant:"caption",children:"Resource limits (CPU/memory)"})}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{variant:"caption",children:"Health check configurations"})}),(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{variant:"caption",children:"Dependencies and external services"})})]})]})]})}var ao=a.i(54301),ap=a.i(849793),aq=a.i(710598),ar=a.i(59168),as=a.i(57265);function at(){let a,A,C,I,J=(0,y.useParams)().name,{data:K,isLoading:L,error:M,refetch:N}=(0,z.usePod)(J);(0,ar.useAutoRefresh)(N);let[O,P]=(0,x.useState)(""),[R,S]=(0,x.useState)(100),[T,U]=(0,x.useState)(!1),[V,W]=(0,x.useState)(!1),[X,Y]=(0,x.useState)(""),[Z,$]=(0,x.useState)("success"),_=(a=(0,F.useQueryClient)(),A=(0,G.useModeStore)(a=>a.mode),C=(0,G.useModeStore)(a=>a.selectedNamespace),I=(0,G.useModeStore)(a=>a.selectedContext),function(a,b){let c=(0,F.useQueryClient)(void 0),[d]=x.useState(()=>new E(c,a));x.useEffect(()=>{d.setOptions(a)},[d,a]);let e=x.useSyncExternalStore(x.useCallback(a=>d.subscribe(B.notifyManager.batchCalls(a)),[d]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),f=x.useCallback((a,b)=>{d.mutate(a,b).catch(D.noop)},[d]);if(e.error&&(0,D.shouldThrowError)(d.options.throwOnError,[e.error]))throw e.error;return{...e,mutate:f,mutateAsync:e.mutate}}({mutationFn:async()=>{if("demo"===A)return await new Promise(a=>setTimeout(a,1500)),{success:!0,message:`Pod ${J} restarted successfully (mock mode)`,podName:J};if(!C)throw Error("Namespace is required");let a=await fetch(`/api/pods/${J}/restart?namespace=${encodeURIComponent(C)}&context=${encodeURIComponent(I?.name||"")}`,{method:"POST"});if(!a.ok)throw await a.json();return a.json()},onSuccess:()=>{a.invalidateQueries({queryKey:["pods"]}),a.invalidateQueries({queryKey:["pod",J]}),a.invalidateQueries({queryKey:["deployment-pods"]}),a.invalidateQueries({queryKey:["node-pods"]}),a.invalidateQueries({queryKey:["pod-events",J]})}}));K&&!O&&K.containers.length>0&&P(K.containers[0].name);let{data:ab,isLoading:ac,error:ad,refetch:ae}=(0,z.usePodLogs)(J,O,R),af=ab?.logs||"",ag=ab?.parsed,ah=()=>{W(!1)};return L?(0,b.jsx)(ao.DetailSkeleton,{}):M||!K?(0,b.jsxs)(d.default,{children:[(0,b.jsx)(aq.PageHeader,{title:"Pod Details",breadcrumbs:[{label:"Pods",href:"/pods"},{label:J}]}),(0,b.jsx)(ap.ErrorState,{error:M||Error("Pod not found"),onRetry:()=>N(),title:"Failed to Load Pod"})]}):(0,b.jsxs)(d.default,{children:[(0,b.jsx)(aq.PageHeader,{title:(0,b.jsxs)(d.default,{sx:{display:"flex",alignItems:"center",gap:2},children:[K.name,(0,b.jsx)(H.StatusBadge,{status:K.status,size:"medium"})]}),metadata:[`Age: ${K.age}`],breadcrumbs:[{label:"Pods",href:"/pods"},{label:K.name}],onRefresh:N,isRefreshing:L,actions:(0,b.jsx)(w.GlassButton,{startIcon:(0,b.jsx)(t.default,{}),onClick:()=>{U(!0)},sx:{color:a=>a.palette.warning.main,borderColor:a=>a.palette.warning.main},children:"Restart Pod"})}),(0,b.jsxs)(g.default,{container:!0,spacing:3,sx:{mb:3},children:[(0,b.jsxs)(g.default,{size:{xs:12,md:6},sx:{display:"flex",flexDirection:"column"},children:[(0,b.jsx)(c.default,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Details"}),(0,b.jsx)(as.GlassPanel,{sx:{p:2,flex:1,display:"flex",flexDirection:"column",minHeight:"110px"},children:(0,b.jsxs)(d.default,{sx:{display:"flex",flexDirection:"column",gap:1,flex:1},children:[(0,b.jsxs)(d.default,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,b.jsx)(c.default,{variant:"body2",color:"text.secondary",children:"Container:"}),(0,b.jsx)(c.default,{variant:"body2",fontWeight:"medium",children:K.containers.length>0?K.containers[0].name:"N/A"})]}),(0,b.jsxs)(d.default,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,b.jsx)(c.default,{variant:"body2",color:"text.secondary",children:"Node:"}),(0,b.jsx)(v.default,{href:`/nodes/${encodeURIComponent(K.nodeName)}`,style:{textDecoration:"none"},children:(0,b.jsx)(c.default,{variant:"body2",fontWeight:"medium",sx:{color:"primary.main","&:hover":{textDecoration:"underline"},cursor:"pointer"},children:K.nodeName})})]}),(0,b.jsxs)(d.default,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,b.jsx)(c.default,{variant:"body2",color:"text.secondary",children:"IP Address:"}),(0,b.jsx)(c.default,{variant:"body2",fontWeight:"medium",children:K.ip})]})]})})]}),(0,b.jsxs)(g.default,{size:{xs:12,md:6},sx:{display:"flex",flexDirection:"column"},children:[(0,b.jsx)(c.default,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Containers"}),(0,b.jsx)(as.GlassPanel,{sx:{p:2,flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"110px"},children:(0,b.jsxs)(h.default,{size:"small",sx:{height:"100%"},children:[(0,b.jsx)(k.default,{children:(0,b.jsxs)(l.default,{children:[(0,b.jsx)(j.default,{children:"Image"}),(0,b.jsx)(j.default,{align:"center",children:"Ready"}),(0,b.jsx)(j.default,{align:"center",children:"Restarts"})]})}),(0,b.jsx)(i.default,{children:K.containers.map(a=>(0,b.jsxs)(l.default,{hover:!0,children:[(0,b.jsx)(j.default,{children:(0,b.jsx)(c.default,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.8rem"},children:a.image})}),(0,b.jsx)(j.default,{align:"center",children:a.ready?(0,b.jsx)(r.default,{color:"success",fontSize:"small"}):(0,b.jsx)(s.default,{color:"error",fontSize:"small"})}),(0,b.jsx)(j.default,{align:"center",children:a.restartCount>0?(0,b.jsx)(H.StatusBadge,{label:a.restartCount.toString(),size:"small",color:a.restartCount>5?"error":"warning"}):(0,b.jsx)(c.default,{variant:"body2",color:"text.secondary",children:"0"})})]},a.name))})]})})]})]}),(0,b.jsxs)(d.default,{sx:{mb:3},children:[(0,b.jsx)(c.default,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Labels"}),(0,b.jsx)(d.default,{sx:{display:"flex",flexWrap:"wrap",gap:1.5},children:Object.entries(K.labels).map(([a,d])=>(0,b.jsxs)(f.default,{elevation:0,sx:{px:2,py:1,backgroundColor:a=>"dark"===a.palette.mode?"rgba(30, 30, 46, 0.6)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:"1px solid",borderColor:a=>"dark"===a.palette.mode?"rgba(255, 255, 255, 0.12)":"rgba(209, 213, 219, 0.4)",borderRadius:3,display:"flex",alignItems:"center",gap:1},children:[(0,b.jsxs)(c.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:[a,":"]}),(0,b.jsx)(c.default,{variant:"body2",fontWeight:500,children:d})]},a))})]}),(K.configMaps.length>0||K.secrets.length>0)&&(0,b.jsxs)(d.default,{sx:{mb:3},children:[(0,b.jsx)(c.default,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Resources"}),(0,b.jsxs)(d.default,{sx:{display:"flex",flexWrap:"wrap",gap:2},children:[K.configMaps.map(a=>(0,b.jsx)(v.default,{href:`/configmaps/${encodeURIComponent(a)}`,style:{textDecoration:"none"},children:(0,b.jsxs)(f.default,{elevation:0,sx:{p:2.5,minWidth:200,backgroundColor:a=>"dark"===a.palette.mode?"rgba(30, 30, 46, 0.6)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:"1px solid",borderColor:a=>"dark"===a.palette.mode?"rgba(255, 255, 255, 0.12)":"rgba(209, 213, 219, 0.4)",borderRadius:3,transition:"all 0.2s",cursor:"pointer","&:hover":{transform:"translateY(-2px)",borderColor:a=>"dark"===a.palette.mode?"rgba(59, 130, 246, 0.5)":"rgba(59, 130, 246, 0.4)"}},children:[(0,b.jsxs)(d.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[(0,b.jsx)(c.default,{variant:"caption",color:"info.main",fontWeight:600,children:"ConfigMap"}),(0,b.jsx)(u.default,{fontSize:"small",sx:{color:"info.main",opacity:.6}})]}),(0,b.jsx)(c.default,{variant:"body1",fontWeight:500,children:a})]})},a)),K.secrets.map(a=>(0,b.jsx)(v.default,{href:`/secrets/${encodeURIComponent(a)}`,style:{textDecoration:"none"},children:(0,b.jsxs)(f.default,{elevation:0,sx:{p:2.5,minWidth:200,backgroundColor:a=>"dark"===a.palette.mode?"rgba(30, 30, 46, 0.6)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:"1px solid",borderColor:a=>"dark"===a.palette.mode?"rgba(255, 255, 255, 0.12)":"rgba(209, 213, 219, 0.4)",borderRadius:3,transition:"all 0.2s",cursor:"pointer","&:hover":{transform:"translateY(-2px)",borderColor:a=>"dark"===a.palette.mode?"rgba(234, 179, 8, 0.5)":"rgba(234, 179, 8, 0.4)"}},children:[(0,b.jsxs)(d.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[(0,b.jsx)(c.default,{variant:"caption",color:"warning.main",fontWeight:600,children:"Secret"}),(0,b.jsx)(u.default,{fontSize:"small",sx:{color:"warning.main",opacity:.6}})]}),(0,b.jsx)(c.default,{variant:"body1",fontWeight:500,children:a})]})},a))]})]}),(0,b.jsx)(d.default,{sx:{mb:3},children:(0,b.jsx)(aj,{containers:K.containers})}),(0,b.jsx)(d.default,{sx:{mb:3},children:(0,b.jsx)(an,{containerStatuses:K.containerStatuses})}),K.containers.length>0&&(0,b.jsxs)(d.default,{sx:{mb:3},children:[(0,b.jsxs)(d.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,b.jsx)(c.default,{variant:"h6",fontWeight:600,children:"Container Logs"}),K.containers.length>1&&(0,b.jsxs)(m.default,{size:"small",sx:{minWidth:200,"& .MuiOutlinedInput-root":{backgroundColor:a=>"dark"===a.palette.mode?"rgba(30, 30, 46, 0.6)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:"1px solid",borderColor:a=>"dark"===a.palette.mode?"rgba(255, 255, 255, 0.12)":"rgba(209, 213, 219, 0.4)",borderRadius:3,"& fieldset":{border:"none"}}},children:[(0,b.jsx)(n.default,{children:"Select Container"}),(0,b.jsx)(o.default,{value:O,label:"Select Container",onChange:a=>P(a.target.value),children:K.containers.map(a=>(0,b.jsx)(p.default,{value:a.name,children:a.name},a.name))})]})]}),(0,b.jsx)(Q,{logs:af,parsed:ag,isLoading:ac,error:ad,containerName:O,onRefresh:()=>ae(),logLines:R,onLogLinesChange:S})]}),(0,b.jsx)(aa,{open:T,podName:J,isLoading:_.isPending,onConfirm:()=>{_.mutate(void 0,{onSuccess:a=>{U(!1),Y(a.message),$("success"),W(!0)},onError:a=>{U(!1),Y(a.error||"Failed to restart pod"),$("error"),W(!0)}})},onCancel:()=>{U(!1)}}),(0,b.jsx)(q.default,{open:V,autoHideDuration:6e3,onClose:ah,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,b.jsx)(e.default,{onClose:ah,severity:Z,sx:{width:"100%"},children:X})})]})}a.s(["default",()=>at],810831)}];

//# sourceMappingURL=app_app_pods_%5Bname%5D_page_tsx_6639da52._.js.map