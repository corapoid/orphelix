module.exports=[283967,a=>{"use strict";var b=a.i(572131);let c="kubevista-view-mode";function d(){let[a,d]=(0,b.useState)(()=>"list");return(0,b.useEffect)(()=>{let a=a=>{a.key===c&&a.newValue&&d(a.newValue)};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]),(0,b.useEffect)(()=>{let a=a=>{d(a.detail)};return window.addEventListener("viewModeChange",a),()=>window.removeEventListener("viewModeChange",a)},[]),{viewMode:a,setViewMode:a=>{d(a),localStorage.setItem(c,a),window.dispatchEvent(new CustomEvent("viewModeChange",{detail:a}))}}}a.s(["useViewMode",()=>d])},353316,751006,a=>{"use strict";var b=a.i(269464),c=a.i(187924);let d=(0,b.default)((0,c.jsx)("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"}),"ViewList");a.s(["default",0,d],353316);let e=(0,b.default)((0,c.jsx)("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"}),"ViewModule");a.s(["default",0,e],751006)},295525,a=>{"use strict";var b=a.i(50944),c=a.i(105528);function d(){let a=(0,b.useRouter)(),d=(0,b.usePathname)(),e=(0,c.useModeStore)(a=>a.mode);return b=>{let c=(d.startsWith("/demo")||"demo"===e)&&!b.startsWith("/demo")?`/demo${b}`:b;a.push(c)}}function e(){let a=(0,b.usePathname)(),d=(0,c.useModeStore)(a=>a.mode);return b=>(a.startsWith("/demo")||"demo"===d)&&!b.startsWith("/demo")?`/demo${b}`:b}a.s(["useBuildPath",()=>e,"useNavigateTo",()=>d])},336688,a=>{"use strict";var b=a.i(572131);function c(a,d=null,e="asc"){let[f,g]=(0,b.useState)(d),[h,i]=(0,b.useState)(e),[j,k]=(0,b.useState)(new Map);return{sortedData:(0,b.useMemo)(()=>f?[...a].sort((a,b)=>{let c=j.get(String(f));if(c)return c(a,b,h);let d=a[f],e=b[f];if(null==d&&null==e)return 0;if(null==d)return"asc"===h?1:-1;if(null==e)return"asc"===h?-1:1;if("string"==typeof d&&"string"==typeof e){let a=d.localeCompare(e);return"asc"===h?a:-a}if("number"==typeof d&&"number"==typeof e)return"asc"===h?d-e:e-d;let g=String(d),i=String(e),k=g.localeCompare(i);return"asc"===h?k:-k}):a,[a,f,h,j]),sortField:f,sortOrder:h,handleSort:(a,b)=>{f===a?i("asc"===h?"desc":"asc"):(g(a),i("asc"),b&&k(c=>{let d=new Map(c);return d.set(String(a),b),d}))}}}a.s(["useSortableTable",()=>c])},318824,a=>{"use strict";var b=a.i(187924),c=a.i(588463),d=a.i(856068),e=a.i(744365);function f({name:a,resourceType:f,resourceColor:g,icon:h,onClick:i,statusBadge:j,metrics:k,footer:l}){return(0,b.jsxs)(e.default,{onClick:i,elevation:0,sx:{p:2,cursor:i?"pointer":"default",transition:"all 0.35s cubic-bezier(0.4, 0, 0.2, 1)",height:"100%",display:"flex",flexDirection:"column",position:"relative",borderRadius:3,overflow:"hidden",backgroundColor:a=>"dark"===a.palette.mode?"rgba(30, 30, 46, 0.6)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:"1px solid",borderColor:a=>"dark"===a.palette.mode?"rgba(255, 255, 255, 0.12)":"rgba(209, 213, 219, 0.4)",boxShadow:a=>"dark"===a.palette.mode?"0 4px 16px 0 rgba(0, 0, 0, 0.3), inset 0 1px 1px 0 rgba(255, 255, 255, 0.08), inset 0 -1px 1px 0 rgba(0, 0, 0, 0.2)":"0 4px 16px 0 rgba(31, 38, 135, 0.08), inset 0 1px 1px 0 rgba(255, 255, 255, 0.9), inset 0 -1px 1px 0 rgba(0, 0, 0, 0.05)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"100%",background:a=>"dark"===a.palette.mode?"linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.02) 40%, transparent 60%, rgba(0, 0, 0, 0.1) 100%)":"linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.4) 40%, transparent 60%, rgba(0, 0, 0, 0.02) 100%)",pointerEvents:"none",borderRadius:3},"&:hover":{transform:"translateY(-2px) scale(1.01)",borderColor:a=>"dark"===a.palette.mode?"rgba(255, 255, 255, 0.18)":"rgba(209, 213, 219, 0.6)",backgroundColor:a=>"dark"===a.palette.mode?"rgba(50, 50, 70, 0.7)":"rgba(255, 255, 255, 0.4)",backdropFilter:"blur(28px) saturate(200%)",WebkitBackdropFilter:"blur(28px) saturate(200%)",boxShadow:a=>"dark"===a.palette.mode?"0 8px 32px 0 rgba(0, 0, 0, 0.4), inset 0 2px 2px 0 rgba(255, 255, 255, 0.12), inset 0 -2px 2px 0 rgba(0, 0, 0, 0.3)":"0 8px 32px 0 rgba(31, 38, 135, 0.12), inset 0 2px 2px 0 rgba(255, 255, 255, 1), inset 0 -2px 2px 0 rgba(0, 0, 0, 0.08)"},"&:active":{transform:"translateY(0px) scale(0.98)"}},children:[(0,b.jsxs)(c.default,{sx:{display:"flex",alignItems:"flex-start",gap:1.5,mb:1.5,position:"relative",zIndex:1},children:[(0,b.jsx)(c.default,{sx:{width:44,height:44,borderRadius:2.5,display:"flex",alignItems:"center",justifyContent:"center",background:a=>"dark"===a.palette.mode?`linear-gradient(135deg, ${g}25 0%, ${g}15 100%)`:`linear-gradient(135deg, ${g}30 0%, ${g}15 100%)`,backdropFilter:"blur(10px)",border:"1px solid",borderColor:a=>"dark"===a.palette.mode?`${g}40`:`${g}30`,flexShrink:0,boxShadow:a=>"dark"===a.palette.mode?`0 2px 8px 0 ${g}20`:`0 2px 8px 0 ${g}15`},children:(0,b.jsx)(h,{sx:{fontSize:22,color:g,opacity:.95}})}),(0,b.jsxs)(c.default,{sx:{flexGrow:1,minWidth:0},children:[(0,b.jsx)(d.default,{variant:"body1",fontWeight:700,sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:1.3,mb:.5},children:a}),(0,b.jsx)(d.default,{variant:"caption",color:"text.secondary",sx:{opacity:.8},children:f})]})]}),j&&(0,b.jsx)(c.default,{sx:{mb:1.5,position:"relative",zIndex:1},children:j}),k&&(0,b.jsx)(c.default,{sx:{flexGrow:1,position:"relative",zIndex:1},children:k}),l&&(0,b.jsx)(c.default,{sx:{mt:"auto",pt:1.5,borderTop:"1px solid",borderColor:"divider",position:"relative",zIndex:1},children:l})]})}a.s(["ResourceCard",()=>f])},566124,a=>{"use strict";var b=a.i(187924),c=a.i(881923),d=a.i(836472),e=a.i(298621),f=a.i(572131),g=a.i(326893);let h=(0,a.i(269464).default)((0,b.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");var i=a.i(74443),j=a.i(25054),k=a.i(833115),l=a.i(643267),m=a.i(668604),n=a.i(429297);function o(a){return(0,n.default)("MuiTableSortLabel",a)}let p=(0,m.default)("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc","directionDesc","directionAsc"]);var q=a.i(49126);let r=(0,i.styled)(g.default,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,c.active&&b.active]}})((0,j.default)(({theme:a})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(a.vars||a).palette.text.secondary},"&:hover":{color:(a.vars||a).palette.text.secondary,[`& .${p.icon}`]:{opacity:.5}},[`&.${p.active}`]:{color:(a.vars||a).palette.text.primary,[`& .${p.icon}`]:{opacity:1,color:(a.vars||a).palette.text.secondary}}}))),s=(0,i.styled)("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.icon,b[`iconDirection${(0,l.default)(c.direction)}`]]}})((0,j.default)(({theme:a})=>({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:a.transitions.create(["opacity","transform"],{duration:a.transitions.duration.shorter}),userSelect:"none",variants:[{props:{direction:"desc"},style:{transform:"rotate(0deg)"}},{props:{direction:"asc"},style:{transform:"rotate(180deg)"}}]}))),t=f.forwardRef(function(a,c){let f=(0,k.useDefaultProps)({props:a,name:"MuiTableSortLabel"}),{active:g=!1,children:i,className:j,direction:m="asc",hideSortIcon:n=!1,IconComponent:p=h,slots:t={},slotProps:u={},...v}=f,w={...f,active:g,direction:m,hideSortIcon:n,IconComponent:p},x=(a=>{let{classes:b,direction:c,active:e}=a,f={root:["root",e&&"active",`direction${(0,l.default)(c)}`],icon:["icon",`iconDirection${(0,l.default)(c)}`]};return(0,d.default)(f,o,b)})(w),y={slots:t,slotProps:u},[z,A]=(0,q.default)("root",{elementType:r,externalForwardedProps:y,ownerState:w,className:(0,e.default)(x.root,j),ref:c}),[B,C]=(0,q.default)("icon",{elementType:s,externalForwardedProps:y,ownerState:w,className:x.icon});return(0,b.jsxs)(z,{disableRipple:!0,component:"span",...A,...v,children:[i,n&&!g?null:(0,b.jsx)(B,{as:p,...C})]})});function u({field:a,label:d,sortField:e,sortOrder:f,onSort:g,customSortFn:h,align:i="left",width:j}){let k=e===a;return(0,b.jsx)(c.default,{align:i,width:j,children:(0,b.jsx)(t,{active:k,direction:k?f:"asc",onClick:()=>g(a,h),children:d})})}a.s(["SortableTableCell",()=>u],566124)},184252,a=>{"use strict";var b=a.i(433217),c=a.i(105528),d=a.i(281623);function e(){let a=(0,c.useModeStore)(a=>a.mode),e=(0,c.useModeStore)(a=>a.selectedNamespace),f=(0,c.useModeStore)(a=>a.selectedContext);return(0,b.useQuery)({queryKey:["secrets",a,e,f?.name||""],queryFn:async()=>{if("demo"===a)return await new Promise(a=>setTimeout(a,300)),(0,d.generateMockSecrets)();if(!e)throw Error("Namespace is required");let b=await fetch(`/api/secrets?namespace=${encodeURIComponent(e)}&context=${encodeURIComponent(f?.name||"")}`);if(!b.ok)throw Error("Failed to fetch Secrets");return b.json()},enabled:"demo"===a||!!e})}function f(a){let e=(0,c.useModeStore)(a=>a.mode),f=(0,c.useModeStore)(a=>a.selectedNamespace),g=(0,c.useModeStore)(a=>a.selectedContext);return(0,b.useQuery)({queryKey:["secret",a,e,f,g?.name||""],queryFn:async()=>{if("demo"===e){await new Promise(a=>setTimeout(a,200));let b=(0,d.generateMockSecrets)().find(b=>b.name===a);if(!b)throw Error("Secret not found");return b}if(!f)throw Error("Namespace is required");let b=await fetch(`/api/secrets/${a}?namespace=${encodeURIComponent(f)}&context=${encodeURIComponent(g?.name||"")}`);if(!b.ok)throw Error("Failed to fetch Secret");return b.json()},enabled:!!a&&("demo"===e||!!f)})}a.s(["useSecret",()=>f,"useSecrets",()=>e])},563739,840554,a=>{"use strict";var b=a.i(187924),c=a.i(588463),d=a.i(213469),e=a.i(813682),f=a.i(353316),g=a.i(751006);function h({viewMode:a,onChange:h}){return(0,b.jsxs)(c.default,{sx:{display:"flex",gap:.5,border:"1px solid",borderColor:"divider",borderRadius:1,p:.5},children:[(0,b.jsx)(e.default,{title:"List view",children:(0,b.jsx)(d.default,{size:"small",onClick:()=>h("list"),sx:{bgcolor:"list"===a?"primary.main":"transparent",color:"list"===a?"white":"text.secondary","&:hover":{bgcolor:"list"===a?"primary.dark":"action.hover"}},children:(0,b.jsx)(f.default,{fontSize:"small"})})}),(0,b.jsx)(e.default,{title:"Grid view",children:(0,b.jsx)(d.default,{size:"small",onClick:()=>h("grid"),sx:{bgcolor:"grid"===a?"primary.main":"transparent",color:"grid"===a?"white":"text.secondary","&:hover":{bgcolor:"grid"===a?"primary.dark":"action.hover"}},children:(0,b.jsx)(g.default,{fontSize:"small"})})})]})}a.s(["ViewModeToggle",()=>h],563739);var i=a.i(599646);function j({cards:a=8}){return(0,b.jsx)(c.default,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:2},children:Array.from({length:a}).map((a,d)=>(0,b.jsxs)(c.default,{sx:{p:2,borderRadius:3,border:"1px solid",borderColor:"divider",backgroundColor:a=>"dark"===a.palette.mode?"rgba(255, 255, 255, 0.02)":"rgba(0, 0, 0, 0.01)"},children:[(0,b.jsxs)(c.default,{sx:{display:"flex",gap:1.5,mb:1.5},children:[(0,b.jsx)(i.default,{variant:"rounded",width:44,height:44}),(0,b.jsxs)(c.default,{sx:{flexGrow:1},children:[(0,b.jsx)(i.default,{variant:"text",width:"70%",height:24}),(0,b.jsx)(i.default,{variant:"text",width:"50%",height:20})]})]}),(0,b.jsxs)(c.default,{sx:{display:"flex",gap:.5,mb:1.5},children:[(0,b.jsx)(i.default,{variant:"rounded",width:80,height:22}),(0,b.jsx)(i.default,{variant:"rounded",width:60,height:22})]}),(0,b.jsxs)(c.default,{children:[(0,b.jsx)(i.default,{variant:"text",width:"40%",height:16,sx:{mb:.5}}),(0,b.jsx)(i.default,{variant:"text",width:"90%",height:14}),(0,b.jsx)(i.default,{variant:"text",width:"85%",height:14}),(0,b.jsx)(i.default,{variant:"text",width:"80%",height:14}),(0,b.jsx)(i.default,{variant:"text",width:"30%",height:16,sx:{mt:1}})]})]},d))})}a.s(["GridSkeleton",()=>j],840554)},121654,a=>{"use strict";var b=a.i(187924),c=a.i(588463),d=a.i(627049),e=a.i(436970),f=a.i(881923),g=a.i(732008),h=a.i(844968),i=a.i(36982),j=a.i(744365);let k=(0,a.i(269464).default)((0,b.jsx)("path",{d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"VpnKey");var l=a.i(295525),m=a.i(184252),n=a.i(59168),o=a.i(209139),p=a.i(849793),q=a.i(566124),r=a.i(710598),s=a.i(223794),t=a.i(336688),u=a.i(46866),v=a.i(283967),w=a.i(563739),x=a.i(856068),y=a.i(703750),z=a.i(940824),A=a.i(318824);function B({secrets:a}){let d=(0,l.useNavigateTo)();return(0,b.jsx)(c.default,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:2},children:a.map(a=>{let e=a.keys.length;return(0,b.jsx)(A.ResourceCard,{name:a.name,resourceType:a.namespace,resourceColor:"#F43F5E",icon:z.default,onClick:()=>d(`/secrets/${encodeURIComponent(a.name)}`),statusBadge:(0,b.jsxs)(c.default,{sx:{display:"flex",gap:.5,flexWrap:"wrap"},children:[(0,b.jsx)(y.default,{label:a.type,size:"small",sx:{height:22,fontSize:"0.7rem",backgroundColor:a=>"dark"===a.palette.mode?"rgba(244, 63, 94, 0.15)":"rgba(244, 63, 94, 0.1)",color:"#F43F5E",border:"1px solid",borderColor:"rgba(244, 63, 94, 0.3)"}}),(0,b.jsx)(y.default,{label:`${e} key${1!==e?"s":""}`,size:"small",sx:{height:22,fontSize:"0.75rem",backgroundColor:a=>"dark"===a.palette.mode?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.05)",color:"text.secondary",border:"1px solid",borderColor:a=>"dark"===a.palette.mode?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"}})]}),metrics:(0,b.jsx)(c.default,{children:(0,b.jsx)(x.default,{variant:"caption",color:"text.secondary",children:a.age})})},a.name)})})}var C=a.i(840554);function D(){let a=(0,l.useNavigateTo)(),x=(0,u.usePageSearch)("Search secrets..."),{data:y,isLoading:z,error:A,refetch:D}=(0,m.useSecrets)(),{viewMode:E,setViewMode:F}=(0,v.useViewMode)();(0,n.useAutoRefresh)(D);let G=y?.filter(a=>a.name.toLowerCase().includes(x.toLowerCase()))||[],{sortedData:H,sortField:I,sortOrder:J,handleSort:K}=(0,t.useSortableTable)(G,"name","asc");return z?(0,b.jsxs)(c.default,{children:[(0,b.jsx)(r.PageHeader,{title:"Secrets",onRefresh:D,actions:(0,b.jsx)(w.ViewModeToggle,{viewMode:E,onChange:F})}),"list"===E?(0,b.jsx)(o.TableSkeleton,{rows:8,columns:5}):(0,b.jsx)(C.GridSkeleton,{cards:8})]}):A?(0,b.jsxs)(c.default,{children:[(0,b.jsx)(r.PageHeader,{title:"Secrets",onRefresh:D,actions:(0,b.jsx)(w.ViewModeToggle,{viewMode:E,onChange:F})}),(0,b.jsx)(p.ErrorState,{error:A,onRetry:()=>D(),title:"Failed to Load Secrets"})]}):(0,b.jsxs)(c.default,{children:[(0,b.jsx)(r.PageHeader,{title:"Secrets",subtitle:`${y?.length||0} secret${y?.length===1?"":"s"} in this namespace`,onRefresh:D,isRefreshing:z,actions:(0,b.jsx)(w.ViewModeToggle,{viewMode:E,onChange:F})}),y&&0!==y.length?0===G.length?(0,b.jsx)(s.EmptyState,{icon:k,title:"No matching secrets",description:`No secrets match "${x}". Try adjusting your search.`}):"grid"===E?(0,b.jsx)(B,{secrets:H}):(0,b.jsx)(g.default,{component:j.default,children:(0,b.jsxs)(d.default,{children:[(0,b.jsx)(h.default,{children:(0,b.jsxs)(i.default,{children:[(0,b.jsx)(q.SortableTableCell,{field:"name",label:"Name",sortField:I,sortOrder:J,onSort:K}),(0,b.jsx)(q.SortableTableCell,{field:"namespace",label:"Namespace",sortField:I,sortOrder:J,onSort:K}),(0,b.jsx)(q.SortableTableCell,{field:"type",label:"Type",sortField:I,sortOrder:J,onSort:K}),(0,b.jsx)(q.SortableTableCell,{field:"keys",label:"Keys",sortField:I,sortOrder:J,onSort:K,customSortFn:(a,b,c)=>{let d=a.keys.length,e=b.keys.length;return"asc"===c?d-e:e-d}}),(0,b.jsx)(q.SortableTableCell,{field:"age",label:"Age",sortField:I,sortOrder:J,onSort:K})]})}),(0,b.jsx)(e.default,{children:H.map(c=>(0,b.jsxs)(i.default,{hover:!0,sx:{cursor:"pointer"},onClick:()=>a(`/secrets/${encodeURIComponent(c.name)}`),children:[(0,b.jsx)(f.default,{children:c.name}),(0,b.jsx)(f.default,{children:c.namespace}),(0,b.jsx)(f.default,{children:c.type}),(0,b.jsx)(f.default,{children:c.keys.length}),(0,b.jsx)(f.default,{children:c.age})]},c.name))})]})}):(0,b.jsx)(s.EmptyState,{icon:k,title:"No secrets found",description:"There are no secrets in this namespace."})]})}a.s(["default",()=>D],121654)}];

//# sourceMappingURL=_8a96acde._.js.map