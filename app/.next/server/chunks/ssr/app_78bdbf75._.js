module.exports=[209139,a=>{"use strict";var b=a.i(187924),c=a.i(666148),d=a.i(627049),d=d,e=a.i(436970),e=e,f=a.i(881923),f=f,g=a.i(732008),g=g,h=a.i(844968),h=h,i=a.i(36982),i=i,j=a.i(407946);function k({rows:a=5,columns:k=6,showHeader:l=!0}){return(0,b.jsx)(g.default,{component:j.Paper,children:(0,b.jsxs)(d.default,{children:[l&&(0,b.jsx)(h.default,{children:(0,b.jsx)(i.default,{children:Array.from({length:k}).map((a,d)=>(0,b.jsx)(f.default,{children:(0,b.jsx)(c.Skeleton,{variant:"text",width:"80%",height:24})},`header-${d}`))})}),(0,b.jsx)(e.default,{children:Array.from({length:a}).map((a,d)=>(0,b.jsx)(i.default,{children:Array.from({length:k}).map((a,e)=>(0,b.jsx)(f.default,{children:(0,b.jsx)(c.Skeleton,{variant:"text",width:0===e?"60%":"80%",height:20})},`cell-${d}-${e}`))},`row-${d}`))})]})})}a.s(["TableSkeleton",()=>k],209139)},223794,a=>{"use strict";var b=a.i(187924),c=a.i(588463),d=a.i(856068),e=a.i(875139),f=a.i(744365);let g=(0,a.i(269464).default)((0,b.jsx)("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2m0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19z"}),"Inbox");function h({icon:a=g,title:h,description:i,action:j}){return(0,b.jsxs)(f.default,{sx:{p:6,textAlign:"center",bgcolor:"background.default",border:"2px dashed",borderColor:"divider"},children:[(0,b.jsx)(c.default,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:80,height:80,borderRadius:"50%",bgcolor:"action.hover",mb:3},children:(0,b.jsx)(a,{sx:{fontSize:40,color:"text.secondary"}})}),(0,b.jsx)(d.default,{variant:"h6",sx:{fontWeight:600,mb:1},children:h}),i&&(0,b.jsx)(d.default,{variant:"body2",color:"text.secondary",sx:{mb:3,maxWidth:400,mx:"auto"},children:i}),j&&(0,b.jsx)(e.default,{variant:"contained",onClick:j.onClick,children:j.label})]})}a.s(["EmptyState",()=>h],223794)},336688,a=>{"use strict";var b=a.i(572131);function c(a,d=null,e="asc"){let[f,g]=(0,b.useState)(d),[h,i]=(0,b.useState)(e),[j,k]=(0,b.useState)(new Map);return{sortedData:(0,b.useMemo)(()=>f?[...a].sort((a,b)=>{let c=j.get(String(f));if(c)return c(a,b,h);let d=a[f],e=b[f];if(null==d&&null==e)return 0;if(null==d)return"asc"===h?1:-1;if(null==e)return"asc"===h?-1:1;if("string"==typeof d&&"string"==typeof e){let a=d.localeCompare(e);return"asc"===h?a:-a}if("number"==typeof d&&"number"==typeof e)return"asc"===h?d-e:e-d;let g=String(d),i=String(e),k=g.localeCompare(i);return"asc"===h?k:-k}):a,[a,f,h,j]),sortField:f,sortOrder:h,handleSort:(a,b)=>{f===a?i("asc"===h?"desc":"asc"):(g(a),i("asc"),b&&k(c=>{let d=new Map(c);return d.set(String(a),b),d}))}}}a.s(["useSortableTable",()=>c])},566124,a=>{"use strict";var b=a.i(187924),c=a.i(881923),d=a.i(836472),e=a.i(298621),f=a.i(572131),g=a.i(326893);let h=(0,a.i(269464).default)((0,b.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");var i=a.i(74443),j=a.i(25054),k=a.i(833115),l=a.i(643267),m=a.i(668604),n=a.i(429297);function o(a){return(0,n.default)("MuiTableSortLabel",a)}let p=(0,m.default)("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc","directionDesc","directionAsc"]);var q=a.i(49126);let r=(0,i.styled)(g.default,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,c.active&&b.active]}})((0,j.default)(({theme:a})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(a.vars||a).palette.text.secondary},"&:hover":{color:(a.vars||a).palette.text.secondary,[`& .${p.icon}`]:{opacity:.5}},[`&.${p.active}`]:{color:(a.vars||a).palette.text.primary,[`& .${p.icon}`]:{opacity:1,color:(a.vars||a).palette.text.secondary}}}))),s=(0,i.styled)("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.icon,b[`iconDirection${(0,l.default)(c.direction)}`]]}})((0,j.default)(({theme:a})=>({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:a.transitions.create(["opacity","transform"],{duration:a.transitions.duration.shorter}),userSelect:"none",variants:[{props:{direction:"desc"},style:{transform:"rotate(0deg)"}},{props:{direction:"asc"},style:{transform:"rotate(180deg)"}}]}))),t=f.forwardRef(function(a,c){let f=(0,k.useDefaultProps)({props:a,name:"MuiTableSortLabel"}),{active:g=!1,children:i,className:j,direction:m="asc",hideSortIcon:n=!1,IconComponent:p=h,slots:t={},slotProps:u={},...v}=f,w={...f,active:g,direction:m,hideSortIcon:n,IconComponent:p},x=(a=>{let{classes:b,direction:c,active:e}=a,f={root:["root",e&&"active",`direction${(0,l.default)(c)}`],icon:["icon",`iconDirection${(0,l.default)(c)}`]};return(0,d.default)(f,o,b)})(w),y={slots:t,slotProps:u},[z,A]=(0,q.default)("root",{elementType:r,externalForwardedProps:y,ownerState:w,className:(0,e.default)(x.root,j),ref:c}),[B,C]=(0,q.default)("icon",{elementType:s,externalForwardedProps:y,ownerState:w,className:x.icon});return(0,b.jsxs)(z,{disableRipple:!0,component:"span",...A,...v,children:[i,n&&!g?null:(0,b.jsx)(B,{as:p,...C})]})});function u({field:a,label:d,sortField:e,sortOrder:f,onSort:g,customSortFn:h,align:i="left",width:j}){let k=e===a;return(0,b.jsx)(c.default,{align:i,width:j,children:(0,b.jsx)(t,{active:k,direction:k?f:"asc",onClick:()=>g(a,h),children:d})})}a.s(["SortableTableCell",()=>u],566124)},716592,a=>{"use strict";var b=a.i(433217),c=a.i(105528),d=a.i(281623);function e(){let a=(0,c.useModeStore)(a=>a.mode),e=(0,c.useModeStore)(a=>a.selectedNamespace),f=(0,c.useModeStore)(a=>a.selectedContext),g=(0,c.useModeStore)(a=>a.hasCompletedWelcome);return(0,b.useQuery)({queryKey:["dashboard-summary",a,e,f?.name||""],queryFn:async()=>{if("demo"===a)return await new Promise(a=>setTimeout(a,300)),(0,d.generateMockDashboardSummary)();if(!e)throw Error("Namespace is required");let b=await fetch(`/api/dashboard/summary?namespace=${encodeURIComponent(e)}&context=${encodeURIComponent(f?.name||"")}`);if(!b.ok)throw Error("Failed to fetch dashboard summary");return b.json()},enabled:g&&("demo"===a||!!e)})}function f(a=24){let e=(0,c.useModeStore)(a=>a.mode),g=(0,c.useModeStore)(a=>a.selectedNamespace),h=(0,c.useModeStore)(a=>a.selectedContext),i=(0,c.useModeStore)(a=>a.hasCompletedWelcome);return(0,b.useQuery)({queryKey:["recent-events",e,g,a],queryFn:async()=>{if("demo"===e){await new Promise(a=>setTimeout(a,200));let b=(0,d.generateMockEvents)(),c=new Date;return c.setHours(c.getHours()-a),b.filter(a=>new Date(a.lastTimestamp)>=c).sort((a,b)=>{let c=new Date(a.lastTimestamp).getTime();return new Date(b.lastTimestamp).getTime()-c})}if(!g)throw Error("Namespace is required");let b=await fetch(`/api/events?namespace=${encodeURIComponent(g)}&context=${encodeURIComponent(h?.name||"")}&timeRange=${a}`);if(!b.ok)throw Error("Failed to fetch events");return b.json()},enabled:i&&("demo"===e||!!g)})}a.s(["useDashboardSummary",()=>e,"useRecentEvents",()=>f])},152248,a=>{"use strict";function b(a){if(!a)return"N/A";let b=new Date,c="string"==typeof a?new Date(a):a;if(isNaN(c.getTime()))return"N/A";let d=b.getTime()-c.getTime();if(d<=0)return"0s";let e=Math.floor(d/1e3),f=Math.floor(e/60),g=Math.floor(f/60),h=Math.floor(g/24);return h>0?`${h}d`:g>0?`${g}h`:f>0?`${f}m`:`${e}s`}a.s(["formatAge",()=>b])},738430,a=>{"use strict";var b=a.i(187924),c=a.i(588463),d=a.i(627049),e=a.i(436970),f=a.i(881923),g=a.i(732008),h=a.i(844968),i=a.i(36982),j=a.i(744365),k=a.i(241484),l=a.i(875168),m=a.i(416941),n=a.i(626233),o=a.i(464230),p=a.i(572131),q=a.i(716592),r=a.i(59168),s=a.i(209139),t=a.i(849793),u=a.i(566124),v=a.i(710598),w=a.i(223794),x=a.i(336688),y=a.i(46866),z=a.i(152248),A=a.i(778081);function B(){let a=(0,y.usePageSearch)("Search events..."),[B,C]=(0,p.useState)(""),[D,E]=(0,p.useState)(24),{data:F,isLoading:G,error:H,refetch:I}=(0,q.useRecentEvents)(D);(0,r.useAutoRefresh)(I);let J=F?.filter(b=>{if(B&&b.type!==B)return!1;if(a){let c=a.toLowerCase();return b.name.toLowerCase().includes(c)||b.reason.toLowerCase().includes(c)||b.message.toLowerCase().includes(c)||b.kind.toLowerCase().includes(c)}return!0})||[],{sortedData:K,sortField:L,sortOrder:M,handleSort:N}=(0,x.useSortableTable)(J,"lastTimestamp","desc");return G?(0,b.jsxs)(c.default,{children:[(0,b.jsx)(v.PageHeader,{title:"Events",onRefresh:I}),(0,b.jsx)(s.TableSkeleton,{rows:10,columns:6})]}):H?(0,b.jsxs)(c.default,{children:[(0,b.jsx)(v.PageHeader,{title:"Events",onRefresh:I}),(0,b.jsx)(t.ErrorState,{error:H,onRetry:()=>I(),title:"Failed to Load Events"})]}):(0,b.jsxs)(c.default,{children:[(0,b.jsx)(v.PageHeader,{title:"Events",subtitle:`${F?.length||0} event${F?.length===1?"":"s"} in the last ${D} hour${1===D?"":"s"}`,onRefresh:I,isRefreshing:G,filters:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(k.default,{size:"small",sx:{minWidth:150},children:[(0,b.jsx)(l.default,{children:"Type"}),(0,b.jsxs)(m.default,{value:B,label:"Type",onChange:a=>C(a.target.value),children:[(0,b.jsx)(n.default,{value:"",children:"All Types"}),(0,b.jsx)(n.default,{value:"Normal",children:"Normal"}),(0,b.jsx)(n.default,{value:"Warning",children:"Warning"})]})]}),(0,b.jsxs)(k.default,{size:"small",sx:{minWidth:150},children:[(0,b.jsx)(l.default,{children:"Time Range"}),(0,b.jsxs)(m.default,{value:D,label:"Time Range",onChange:a=>E(a.target.value),children:[(0,b.jsx)(n.default,{value:1,children:"Last 1 Hour"}),(0,b.jsx)(n.default,{value:6,children:"Last 6 Hours"}),(0,b.jsx)(n.default,{value:12,children:"Last 12 Hours"}),(0,b.jsx)(n.default,{value:24,children:"Last 24 Hours"})]})]})]})}),F&&0!==F.length?0===J.length?(0,b.jsx)(w.EmptyState,{icon:o.default,title:"No matching events",description:a?`No events match "${a}". Try adjusting your search or filters.`:"No events match your filters. Try adjusting them.",action:{label:"Clear filters",onClick:()=>{C("")}}}):(0,b.jsx)(g.default,{component:j.default,children:(0,b.jsxs)(d.default,{children:[(0,b.jsx)(h.default,{children:(0,b.jsxs)(i.default,{children:[(0,b.jsx)(u.SortableTableCell,{field:"type",label:"Type",sortField:L,sortOrder:M,onSort:N}),(0,b.jsx)(u.SortableTableCell,{field:"reason",label:"Reason",sortField:L,sortOrder:M,onSort:N}),(0,b.jsx)(u.SortableTableCell,{field:"kind",label:"Kind",sortField:L,sortOrder:M,onSort:N}),(0,b.jsx)(u.SortableTableCell,{field:"name",label:"Name",sortField:L,sortOrder:M,onSort:N}),(0,b.jsx)(f.default,{children:"Message"}),(0,b.jsx)(u.SortableTableCell,{field:"count",label:"Count",sortField:L,sortOrder:M,onSort:N}),(0,b.jsx)(u.SortableTableCell,{field:"lastTimestamp",label:"Age",sortField:L,sortOrder:M,onSort:N})]})}),(0,b.jsx)(e.default,{children:K.map((a,c)=>(0,b.jsxs)(i.default,{hover:!0,children:[(0,b.jsx)(f.default,{children:(0,b.jsx)(A.StatusBadge,{status:a.type})}),(0,b.jsx)(f.default,{children:a.reason}),(0,b.jsx)(f.default,{children:a.kind}),(0,b.jsx)(f.default,{children:a.name}),(0,b.jsx)(f.default,{sx:{maxWidth:400},children:a.message}),(0,b.jsx)(f.default,{children:a.count}),(0,b.jsx)(f.default,{children:(0,z.formatAge)(a.lastTimestamp)})]},c))})]})}):(0,b.jsx)(w.EmptyState,{icon:o.default,title:"No events found",description:`No events found in the last ${D} hour${1===D?"":"s"}.`})]})}a.s(["default",()=>B])}];

//# sourceMappingURL=app_78bdbf75._.js.map