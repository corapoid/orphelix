module.exports=[849293,a=>{"use strict";var b=a.i(433217),c=a.i(105528),d=a.i(281623);function e(){let a=(0,c.useModeStore)(a=>a.mode),e=(0,c.useModeStore)(a=>a.selectedNamespace),f=(0,c.useModeStore)(a=>a.selectedContext);return(0,b.useQuery)({queryKey:["cronjobs",a,e,f?.name||""],queryFn:async()=>{if("demo"===a)return await new Promise(a=>setTimeout(a,300)),(0,d.generateMockCronJobs)();let b=await fetch(`/api/cronjobs?namespace=${encodeURIComponent(e)}&context=${encodeURIComponent(f?.name||"")}`);if(!b.ok)throw Error((await b.json()).error||"Failed to fetch cronjobs");return b.json()},enabled:"demo"===a||!!e})}function f(a){let e=(0,c.useModeStore)(a=>a.mode),f=(0,c.useModeStore)(a=>a.selectedNamespace),g=(0,c.useModeStore)(a=>a.selectedContext);return(0,b.useQuery)({queryKey:["cronjobs",a,e,f,g?.name||""],queryFn:async()=>{if("demo"===e){await new Promise(a=>setTimeout(a,200));let b=(0,d.generateMockCronJobs)().find(b=>b.name===a);if(!b)throw Error("CronJob not found");return b}let b=await fetch(`/api/cronjobs/${a}?namespace=${encodeURIComponent(f)}&context=${encodeURIComponent(g?.name||"")}`);if(!b.ok)throw Error((await b.json()).error||"Failed to fetch cronjob");return b.json()},enabled:("demo"===e||!!f)&&!!a})}a.s(["useCronJob",()=>f,"useCronJobs",()=>e])},717330,a=>{"use strict";var b=a.i(187924),c=a.i(856068),d=a.i(213469),e=a.i(423851),f=a.i(656465),g=a.i(778081),h=a.i(295525),i=a.i(849293),j=a.i(588463),k=a.i(703750),l=a.i(318824);function m({cronJob:a,onClick:d}){return(0,b.jsx)(l.ResourceCard,{name:a.name,resourceType:"CronJob",resourceColor:"#4CAF50",icon:e.default,onClick:d,statusBadge:(0,b.jsx)(k.default,{label:a.suspend?"Suspended":"Active",size:"small",sx:{fontWeight:600,fontSize:"0.75rem",height:24,borderRadius:"6px",backgroundColor:b=>a.suspend?"dark"===b.palette.mode?"rgba(255, 152, 0, 0.2)":"rgba(255, 152, 0, 0.15)":"dark"===b.palette.mode?"rgba(76, 175, 80, 0.2)":"rgba(76, 175, 80, 0.15)",color:b=>a.suspend?"dark"===b.palette.mode?"#FF9F0A":"#FF9500":"dark"===b.palette.mode?"#4CAF50":"#2E7D32"}}),metrics:(0,b.jsxs)(j.default,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,b.jsxs)(j.default,{children:[(0,b.jsx)(c.default,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:"Schedule"}),(0,b.jsx)(c.default,{variant:"body2",fontWeight:600,sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontFamily:"monospace"},children:a.schedule})]}),(0,b.jsxs)(j.default,{children:[(0,b.jsx)(c.default,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:"Active Jobs"}),(0,b.jsx)(c.default,{variant:"h6",fontWeight:700,children:a.active})]})]}),footer:(0,b.jsxs)(c.default,{variant:"caption",color:"text.secondary",children:["Age: ",a.age]})})}var n=a.i(969387);function o(){let a=(0,h.useNavigateTo)(),{data:j,isLoading:k,error:l,refetch:o}=(0,i.useCronJobs)(),p=[{field:"name",label:"Name",render:a=>(0,b.jsx)(c.default,{variant:"body2",fontWeight:"medium",children:a.name})},{field:"schedule",label:"Schedule",render:a=>(0,b.jsx)(c.default,{variant:"body2",sx:{fontFamily:"monospace"},children:a.schedule})},{field:"suspend",label:"Status",render:a=>(0,b.jsx)(g.StatusBadge,{label:a.suspend?"Suspended":"Active",size:"small",color:a.suspend?"warning":"success"})},{field:"active",label:"Active",align:"center"},{field:"lastSchedule",label:"Last Schedule",render:a=>a.lastSchedule||"Never"},{field:"age",label:"Age"},{field:"actions",label:"Actions",align:"right",sortable:!1,render:c=>(0,b.jsx)(d.default,{size:"small",onClick:b=>{b.stopPropagation(),a(`/cronjobs/${c.name}`)},children:(0,b.jsx)(f.default,{fontSize:"small"})})}];return(0,b.jsx)(n.ResourceListView,{title:"CronJobs",resourceName:"cronjob",resourceNamePlural:"cronjobs",icon:e.default,data:j,isLoading:k,error:l,refetch:o,searchPlaceholder:"Search cronjobs...",searchFilter:(a,b)=>a.name.toLowerCase().includes(b.toLowerCase()),columns:p,defaultSortField:"name",defaultSortOrder:"asc",getRowKey:a=>a.name,onRowClick:b=>a(`/cronjobs/${b.name}`),renderCard:(a,c)=>(0,b.jsx)(m,{cronJob:a,onClick:c}),emptyStateDescription:"There are no cronjobs in this namespace. Create a cronjob to schedule recurring tasks."})}a.s(["default",()=>o],717330)}];

//# sourceMappingURL=app_1f8082e2._.js.map