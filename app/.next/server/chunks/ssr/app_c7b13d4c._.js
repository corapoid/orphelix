module.exports=[474412,a=>{"use strict";var b=a.i(433217),c=a.i(105528),d=a.i(281623);function e(){let a=(0,c.useModeStore)(a=>a.mode),e=(0,c.useModeStore)(a=>a.selectedNamespace),f=(0,c.useModeStore)(a=>a.selectedContext);return(0,b.useQuery)({queryKey:["jobs",a,e,f?.name||""],queryFn:async()=>{if("demo"===a)return await new Promise(a=>setTimeout(a,300)),(0,d.generateMockJobs)();let b=await fetch(`/api/jobs?namespace=${encodeURIComponent(e)}&context=${encodeURIComponent(f?.name||"")}`);if(!b.ok)throw Error((await b.json()).error||"Failed to fetch jobs");return b.json()},enabled:"demo"===a||!!e})}function f(a){let e=(0,c.useModeStore)(a=>a.mode),f=(0,c.useModeStore)(a=>a.selectedNamespace),g=(0,c.useModeStore)(a=>a.selectedContext);return(0,b.useQuery)({queryKey:["jobs",a,e,f,g?.name||""],queryFn:async()=>{if("demo"===e){await new Promise(a=>setTimeout(a,200));let b=(0,d.generateMockJobs)().find(b=>b.name===a);if(!b)throw Error("Job not found");return b}let b=await fetch(`/api/jobs/${a}?namespace=${encodeURIComponent(f)}&context=${encodeURIComponent(g?.name||"")}`);if(!b.ok)throw Error((await b.json()).error||"Failed to fetch job");return b.json()},enabled:("demo"===e||!!f)&&!!a})}a.s(["useJob",()=>f,"useJobs",()=>e])},780590,a=>{"use strict";var b=a.i(187924),c=a.i(856068),d=a.i(213469),e=a.i(686470),f=a.i(656465),g=a.i(572131),h=a.i(295525),i=a.i(474412),j=a.i(778081),k=a.i(588463),l=a.i(318824);function m({job:a,onClick:d}){return(0,b.jsx)(l.ResourceCard,{name:a.name,resourceType:"Job",resourceColor:"#FF9800",icon:e.default,onClick:d,statusBadge:(0,b.jsx)(j.StatusBadge,{status:a.status}),metrics:(0,b.jsxs)(k.default,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:1.5},children:[(0,b.jsxs)(k.default,{children:[(0,b.jsx)(c.default,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:"Succeeded"}),(0,b.jsxs)(c.default,{variant:"h6",fontWeight:700,children:[a.succeeded,"/",a.completions]})]}),(0,b.jsxs)(k.default,{children:[(0,b.jsx)(c.default,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:"Failed"}),(0,b.jsx)(c.default,{variant:"h6",fontWeight:700,children:a.failed})]})]}),footer:(0,b.jsxs)(c.default,{variant:"caption",color:"text.secondary",children:["Age: ",a.age]})})}var n=a.i(969387);function o(){let a=(0,h.useNavigateTo)(),[k,l]=(0,g.useState)(""),{data:o,isLoading:p,error:q,refetch:r}=(0,i.useJobs)(),s=[{field:"name",label:"Name",render:a=>(0,b.jsx)(c.default,{variant:"body2",fontWeight:"medium",children:a.name})},{field:"status",label:"Status",render:a=>(0,b.jsx)(j.StatusBadge,{status:a.status})},{field:"completions",label:"Completions",align:"center",render:a=>`${a.succeeded}/${a.completions}`},{field:"duration",label:"Duration",render:a=>a.duration||"N/A"},{field:"active",label:"Active",align:"center"},{field:"failed",label:"Failed",align:"center"},{field:"age",label:"Age"},{field:"actions",label:"Actions",align:"right",sortable:!1,render:c=>(0,b.jsx)(d.default,{size:"small",onClick:b=>{b.stopPropagation(),a(`/jobs/${c.name}`)},children:(0,b.jsx)(f.default,{fontSize:"small"})})}];return(0,b.jsx)(n.ResourceListView,{title:"Jobs",resourceName:"job",resourceNamePlural:"jobs",icon:e.default,data:o,isLoading:p,error:q,refetch:r,searchPlaceholder:"Search jobs...",searchFilter:(a,b)=>a.name.toLowerCase().includes(b.toLowerCase()),customFilter:k?a=>a.status===k:void 0,filters:[{label:"Status",value:k,options:[{label:"All Statuses",value:""},{label:"Running",value:"Running"},{label:"Succeeded",value:"Succeeded"},{label:"Failed",value:"Failed"}],onChange:a=>l(a)}],columns:s,defaultSortField:"name",defaultSortOrder:"asc",getRowKey:a=>a.name,onRowClick:b=>a(`/jobs/${b.name}`),renderCard:(a,c)=>(0,b.jsx)(m,{job:a,onClick:c}),emptyStateDescription:"There are no jobs in this namespace. Create a job to run batch tasks."})}a.s(["default",()=>o],780590)}];

//# sourceMappingURL=app_c7b13d4c._.js.map