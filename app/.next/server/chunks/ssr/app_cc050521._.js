module.exports=[284497,214614,a=>{"use strict";var b=a.i(187924),c=a.i(466824),d=a.i(124089),e=a.i(177940),f=a.i(561829),f=f,g=a.i(19470);let h=(0,a.i(269464).default)((0,b.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96M3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4z"}),"CloudOff");var i=a.i(926152),j=a.i(433217),k=a.i(105528);async function l(a){if("demo"===a)return{status:"connected",message:"Demo mode - simulated cluster connection"};let b=await fetch("/api/cluster/health");if(!b.ok)throw Error("Failed to check cluster health");return b.json()}function m(){let a=(0,k.useModeStore)(a=>a.mode),b=(0,k.useModeStore)(a=>a.hasCompletedWelcome);return(0,j.useQuery)({queryKey:["cluster-health",a],queryFn:()=>l(a),staleTime:3e4,refetchInterval:6e4,retry:1,enabled:b})}function n({minimal:a=!1}){let{data:j,isLoading:k,refetch:l}=m();return k||j?.status==="connected"?null:a?(0,b.jsx)(c.Alert,{severity:"warning",sx:{mb:2},children:(0,b.jsxs)(d.Box,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,b.jsxs)(g.Typography,{variant:"body2",children:["No cluster connection. ",j?.message||"Unable to reach Kubernetes cluster."]}),(0,b.jsx)(e.Button,{size:"small",startIcon:(0,b.jsx)(i.default,{}),onClick:()=>l(),children:"Retry"})]})}):(0,b.jsx)(d.Box,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"calc(100vh - 120px)",p:3},children:(0,b.jsx)(d.Box,{sx:{maxWidth:700,width:"100%",backgroundColor:a=>"dark"===a.palette.mode?"rgba(30, 30, 46, 0.8)":"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:"1px solid",borderColor:a=>"dark"===a.palette.mode?"rgba(255, 100, 100, 0.3)":"rgba(211, 47, 47, 0.3)",borderRadius:"12px",boxShadow:a=>"dark"===a.palette.mode?"0 4px 16px 0 rgba(0, 0, 0, 0.3), inset 0 1px 1px 0 rgba(255, 255, 255, 0.08)":"0 4px 16px 0 rgba(211, 47, 47, 0.1), inset 0 1px 1px 0 rgba(255, 255, 255, 0.9)",p:3},children:(0,b.jsxs)(d.Box,{sx:{display:"flex",alignItems:"flex-start",gap:2,mb:2},children:[(0,b.jsx)(h,{sx:{fontSize:32,color:"error.main",mt:.5}}),(0,b.jsxs)(d.Box,{sx:{flex:1},children:[(0,b.jsx)(g.Typography,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Cluster Connection Failed"}),(0,b.jsx)(g.Typography,{variant:"body2",color:"text.secondary",sx:{mb:2},children:j?.message||"Unable to connect to Kubernetes cluster."}),(0,b.jsx)(g.Typography,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,sx:{mt:2},children:"Troubleshooting Steps:"}),(0,b.jsxs)(d.Box,{component:"ul",sx:{mt:1,pl:2.5,mb:0,"& li":{mb:.5}},children:[(0,b.jsx)("li",{children:(0,b.jsxs)(g.Typography,{variant:"body2",children:["Check your ",(0,b.jsx)("code",{style:{backgroundColor:"rgba(0, 0, 0, 0.1)",padding:"2px 6px",borderRadius:"4px"},children:"kubeconfig"})," file is properly configured"]})}),(0,b.jsx)("li",{children:(0,b.jsx)(g.Typography,{variant:"body2",children:"Verify your cluster credentials are valid and not expired"})}),(0,b.jsx)("li",{children:(0,b.jsx)(g.Typography,{variant:"body2",children:"Ensure you have network access to your cluster"})}),(0,b.jsx)("li",{children:(0,b.jsxs)(g.Typography,{variant:"body2",children:["Run ",(0,b.jsx)("code",{style:{backgroundColor:"rgba(0, 0, 0, 0.1)",padding:"2px 6px",borderRadius:"4px"},children:"kubectl version"})," to verify connectivity"]})}),(0,b.jsx)("li",{children:(0,b.jsxs)(g.Typography,{variant:"body2",children:["Check the"," ",(0,b.jsx)(f.default,{href:"https://kubernetes.io/docs/tasks/access-application-cluster/configure-access-multiple-clusters/",target:"_blank",rel:"noopener",sx:{fontWeight:500},children:"Kubernetes documentation"})," ","for help"]})})]}),j?.code&&(0,b.jsxs)(g.Typography,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:2},children:["Error Code: ",j.code]})]}),(0,b.jsx)(e.Button,{variant:"contained",size:"small",startIcon:(0,b.jsx)(i.default,{}),onClick:()=>l(),sx:{px:2,py:.75,borderRadius:"8px",textTransform:"none",fontWeight:600,flexShrink:0},children:"Retry"})]})})})}a.s(["useClusterHealth",()=>m],214614),a.s(["ClusterConnectionAlert",()=>n],284497)},295525,a=>{"use strict";var b=a.i(50944),c=a.i(105528);function d(){let a=(0,b.useRouter)(),d=(0,b.usePathname)(),e=(0,c.useModeStore)(a=>a.mode);return b=>{let c=(d.startsWith("/demo")||"demo"===e)&&!b.startsWith("/demo")?`/demo${b}`:b;a.push(c)}}function e(){let a=(0,b.usePathname)(),d=(0,c.useModeStore)(a=>a.mode);return b=>(a.startsWith("/demo")||"demo"===d)&&!b.startsWith("/demo")?`/demo${b}`:b}a.s(["useBuildPath",()=>e,"useNavigateTo",()=>d])},223794,a=>{"use strict";var b=a.i(187924),c=a.i(588463),d=a.i(856068),e=a.i(875139),f=a.i(744365);let g=(0,a.i(269464).default)((0,b.jsx)("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2m0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19z"}),"Inbox");function h({icon:a=g,title:h,description:i,action:j}){return(0,b.jsxs)(f.default,{sx:{p:6,textAlign:"center",bgcolor:"background.default",border:"2px dashed",borderColor:"divider"},children:[(0,b.jsx)(c.default,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:80,height:80,borderRadius:"50%",bgcolor:"action.hover",mb:3},children:(0,b.jsx)(a,{sx:{fontSize:40,color:"text.secondary"}})}),(0,b.jsx)(d.default,{variant:"h6",sx:{fontWeight:600,mb:1},children:h}),i&&(0,b.jsx)(d.default,{variant:"body2",color:"text.secondary",sx:{mb:3,maxWidth:400,mx:"auto"},children:i}),j&&(0,b.jsx)(e.default,{variant:"contained",onClick:j.onClick,children:j.label})]})}a.s(["EmptyState",()=>h],223794)},209139,a=>{"use strict";var b=a.i(187924),c=a.i(666148),d=a.i(627049),d=d,e=a.i(436970),e=e,f=a.i(881923),f=f,g=a.i(732008),g=g,h=a.i(844968),h=h,i=a.i(36982),i=i,j=a.i(407946);function k({rows:a=5,columns:k=6,showHeader:l=!0}){return(0,b.jsx)(g.default,{component:j.Paper,children:(0,b.jsxs)(d.default,{children:[l&&(0,b.jsx)(h.default,{children:(0,b.jsx)(i.default,{children:Array.from({length:k}).map((a,d)=>(0,b.jsx)(f.default,{children:(0,b.jsx)(c.Skeleton,{variant:"text",width:"80%",height:24})},`header-${d}`))})}),(0,b.jsx)(e.default,{children:Array.from({length:a}).map((a,d)=>(0,b.jsx)(i.default,{children:Array.from({length:k}).map((a,e)=>(0,b.jsx)(f.default,{children:(0,b.jsx)(c.Skeleton,{variant:"text",width:0===e?"60%":"80%",height:20})},`cell-${d}-${e}`))},`row-${d}`))})]})})}a.s(["TableSkeleton",()=>k],209139)},336688,a=>{"use strict";var b=a.i(572131);function c(a,d=null,e="asc"){let[f,g]=(0,b.useState)(d),[h,i]=(0,b.useState)(e),[j,k]=(0,b.useState)(new Map);return{sortedData:(0,b.useMemo)(()=>f?[...a].sort((a,b)=>{let c=j.get(String(f));if(c)return c(a,b,h);let d=a[f],e=b[f];if(null==d&&null==e)return 0;if(null==d)return"asc"===h?1:-1;if(null==e)return"asc"===h?-1:1;if("string"==typeof d&&"string"==typeof e){let a=d.localeCompare(e);return"asc"===h?a:-a}if("number"==typeof d&&"number"==typeof e)return"asc"===h?d-e:e-d;let g=String(d),i=String(e),k=g.localeCompare(i);return"asc"===h?k:-k}):a,[a,f,h,j]),sortField:f,sortOrder:h,handleSort:(a,b)=>{f===a?i("asc"===h?"desc":"asc"):(g(a),i("asc"),b&&k(c=>{let d=new Map(c);return d.set(String(a),b),d}))}}}a.s(["useSortableTable",()=>c])},759098,a=>{"use strict";var b=a.i(433217),c=a.i(105528),d=a.i(281623);function e(a){let e=(0,c.useModeStore)(a=>a.mode),f=(0,c.useModeStore)(a=>a.selectedNamespace),g=(0,c.useModeStore)(a=>a.selectedContext);return(0,b.useQuery)({queryKey:["pods",e,f,a],queryFn:async()=>{if("demo"===e){await new Promise(a=>setTimeout(a,300));let b=(0,d.generateMockPods)();return a?b.filter(b=>b.status===a):b}if(!f)throw Error("Namespace is required");let b=a?`/api/pods?namespace=${encodeURIComponent(f)}&context=${encodeURIComponent(g?.name||"")}&status=${a}`:`/api/pods?namespace=${encodeURIComponent(f)}&context=${encodeURIComponent(g?.name||"")}`,c=await fetch(b);if(!c.ok)throw Error("Failed to fetch pods");return c.json()},enabled:"demo"===e||!!f})}function f(a){let e=(0,c.useModeStore)(a=>a.mode),f=(0,c.useModeStore)(a=>a.selectedNamespace),g=(0,c.useModeStore)(a=>a.selectedContext);return(0,b.useQuery)({queryKey:["pod",a,e,f,g?.name||""],queryFn:async()=>{if("demo"===e){await new Promise(a=>setTimeout(a,200));let b=(0,d.generateMockPods)().find(b=>b.name===a);if(!b)throw Error("Pod not found");return b}if(!f)throw Error("Namespace is required");let b=await fetch(`/api/pods/${a}?namespace=${encodeURIComponent(f)}&context=${encodeURIComponent(g?.name||"")}`);if(!b.ok)throw Error("Failed to fetch pod");return b.json()},enabled:!!a&&("demo"===e||!!f)})}function g(a,d,e=100){let f=(0,c.useModeStore)(a=>a.mode),h=(0,c.useModeStore)(a=>a.selectedNamespace),i=(0,c.useModeStore)(a=>a.selectedContext);return(0,b.useQuery)({queryKey:["pod-logs",a,d,e,f,h],queryFn:async()=>{if("demo"===f){await new Promise(a=>setTimeout(a,400));let a=[],b=["2024-01-15","2024-01-16","2024-01-17"],c=["INFO","WARN","ERROR","DEBUG"],f=["Application started successfully","Connected to database","Processing request from user","Cache miss for key","Request completed in 45ms","Memory usage: 512MB","Health check passed","Scheduled task executed"];for(let g=0;g<e;g++){let e=b[Math.floor(Math.random()*b.length)],g=`${Math.floor(24*Math.random()).toString().padStart(2,"0")}:${Math.floor(60*Math.random()).toString().padStart(2,"0")}:${Math.floor(60*Math.random()).toString().padStart(2,"0")}`,h=c[Math.floor(Math.random()*c.length)],i=f[Math.floor(Math.random()*f.length)];a.push(`${e} ${g} [${h}] ${d} - ${i}`)}return{logs:a.join("\n"),parsed:void 0}}if(!h)throw Error("Namespace is required");let b=await fetch(`/api/pods/${a}/logs?namespace=${encodeURIComponent(h)}&context=${encodeURIComponent(i?.name||"")}&container=${d}&tail=${e}`);if(!b.ok)throw Error("Failed to fetch pod logs");let c=await b.json();return{logs:c.logs,parsed:c.parsed}},enabled:!!a&&!!d&&("demo"===f||!!h),refetchInterval:!1,staleTime:1/0})}a.s(["usePod",()=>f,"usePodLogs",()=>g,"usePods",()=>e])},774819,a=>{"use strict";var b=a.i(433217),c=a.i(105528),d=a.i(281623);function e(a){let e=(0,c.useModeStore)(a=>a.mode);return(0,b.useQuery)({queryKey:["nodes",e,a],queryFn:async()=>{if("demo"===e){await new Promise(a=>setTimeout(a,300));let b=(0,d.generateMockNodes)();return a?b.filter(b=>b.status===a):b}let b=a?`/api/nodes?status=${a}`:"/api/nodes",c=await fetch(b);if(!c.ok)throw Error("Failed to fetch nodes");return c.json()}})}function f(a){let e=(0,c.useModeStore)(a=>a.mode);return(0,b.useQuery)({queryKey:["node",a,e],queryFn:async()=>{if("demo"===e){await new Promise(a=>setTimeout(a,200));let b=(0,d.generateMockNodes)().find(b=>b.name===a);if(!b)throw Error("Node not found");return b}let b=await fetch(`/api/nodes/${a}`);if(!b.ok)throw Error("Failed to fetch node");return b.json()},enabled:!!a})}function g(d){let e=(0,c.useModeStore)(a=>a.mode),f=(0,c.useModeStore)(a=>a.selectedNamespace);return(0,b.useQuery)({queryKey:["node-pods",d,e,f],queryFn:async()=>{if("demo"===e){await new Promise(a=>setTimeout(a,200));let{generateMockPods:b}=await a.A(72809);return b().filter(a=>a.nodeName===d)}let b=f?`/api/nodes/${d}/pods?namespace=${f}`:`/api/nodes/${d}/pods`,c=await fetch(b);if(!c.ok){if(403===c.status)return console.warn("Node pods: insufficient permissions (403)"),[];throw Error("Failed to fetch node pods")}return c.json()},enabled:!!d,retry:!1})}a.s(["useNode",()=>f,"useNodePods",()=>g,"useNodes",()=>e])},940669,a=>{"use strict";var b=a.i(187924),c=a.i(588463),d=a.i(627049),e=a.i(436970),f=a.i(881923),g=a.i(732008),h=a.i(844968),i=a.i(36982),j=a.i(744365),k=a.i(241484),l=a.i(875168),m=a.i(416941),n=a.i(626233),o=a.i(572131),p=a.i(710598),q=a.i(223794),r=a.i(209139),s=a.i(849793),t=a.i(284497),u=a.i(336688),v=a.i(59168),w=a.i(46866);function x({title:a,resourceName:x,resourceNamePlural:y,icon:z,data:A,isLoading:B,error:C,refetch:D,searchPlaceholder:E,searchFilter:F,filters:G=[],customFilter:H,columns:I,defaultSortField:J,defaultSortOrder:K="asc",getRowKey:L,onRowClick:M,showClusterAlert:N=!0,emptyStateDescription:O}){let P=(0,w.usePageSearch)(E);(0,v.useAutoRefresh)(D);let Q=(0,o.useMemo)(()=>{if(!A)return[];let a=A;return H&&(a=a.filter(H)),P&&(a=a.filter(a=>F(a,P))),a},[A,P,F,H]),{sortedData:R,sortField:S,sortOrder:T,handleSort:U}=(0,u.useSortableTable)(Q,J,K);return B?(0,b.jsxs)(c.default,{children:[(0,b.jsx)(p.PageHeader,{title:a,onRefresh:D}),(0,b.jsx)(r.TableSkeleton,{rows:8,columns:I.length})]}):C?(0,b.jsxs)(c.default,{children:[(0,b.jsx)(p.PageHeader,{title:a,onRefresh:D}),(0,b.jsx)(s.ErrorState,{error:C,onRetry:D,title:`Failed to Load ${a}`})]}):(0,b.jsxs)(c.default,{children:[(0,b.jsx)(p.PageHeader,{title:a,subtitle:`${A?.length||0} ${A?.length===1?x:y} in this namespace`,onRefresh:D,isRefreshing:B,filters:G.length>0?(0,b.jsx)(c.default,{sx:{display:"flex",gap:1,alignItems:"center"},children:G.map(a=>(0,b.jsxs)(k.default,{size:"small",sx:{minWidth:150},children:[(0,b.jsx)(l.default,{children:a.label}),(0,b.jsx)(m.default,{value:a.value,label:a.label,onChange:b=>a.onChange(b.target.value),children:a.options.map(a=>(0,b.jsx)(n.default,{value:a.value,children:a.label},a.value))})]},a.label))}):void 0}),N&&(0,b.jsx)(t.ClusterConnectionAlert,{minimal:!0}),A&&0!==A.length?0===Q.length?(0,b.jsx)(q.EmptyState,{icon:z,title:`No matching ${y}`,description:`No ${y} match your search or filters.`}):(0,b.jsx)(g.default,{component:j.default,children:(0,b.jsxs)(d.default,{children:[(0,b.jsx)(h.default,{children:(0,b.jsx)(i.default,{children:I.map(a=>(0,b.jsxs)(f.default,{align:a.align||"left",sx:{cursor:!1!==a.sortable?"pointer":"default"},onClick:!1!==a.sortable?()=>U(a.field,a.customSortFn):void 0,children:[a.label,!1!==a.sortable&&S===a.field&&("asc"===T?" ↑":" ↓")]},String(a.field)))})}),(0,b.jsx)(e.default,{children:R.map(a=>(0,b.jsx)(i.default,{hover:!0,sx:{cursor:M?"pointer":"default"},onClick:M?()=>M(a):void 0,children:I.map(c=>(0,b.jsx)(f.default,{align:c.align||"left",children:c.render?c.render(a):String(a[c.field]??"")},String(c.field)))},L(a)))})]})}):(0,b.jsx)(q.EmptyState,{icon:z,title:`No ${y} found`,description:O||`There are no ${y} in this namespace yet.`})]})}a.s(["TableOnlyResourceList",()=>x])},979215,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(295525);let f=(0,a.i(269464).default)((0,b.jsx)("path",{d:"M20 13H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1M7 19c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2M20 3H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1M7 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"Dns");var g=a.i(774819),h=a.i(759098),i=a.i(105528),j=a.i(778081),k=a.i(940669);function l(a){let b=a.match(/^(\d+(?:\.\d+)?)(.*?)$/);if(!b)return 0;let c=parseFloat(b[1]),d=b[2];return d?c*(({Ki:1024,Mi:1048576,Gi:0x40000000,Ti:0x10000000000,k:1e3,M:1e6,G:1e9,T:1e12,m:.001})[d]||1):c}function m(a,b){let c=l(a),d=l(b);return 0===d?0:Math.round(c/d*100)}function n(){let a=(0,e.useNavigateTo)(),l=(0,d.useSearchParams)(),n=(0,i.useModeStore)(a=>a.selectedNamespace),[o,p]=(0,c.useState)("all"),{data:q,isLoading:r,error:s,refetch:t}=(0,g.useNodes)(),{data:u}=(0,h.usePods)();(0,c.useEffect)(()=>{let a=l.get("status");a&&("Ready"===a||"NotReady"===a)&&p(a)},[l]);let v=(0,c.useMemo)(()=>u&&n?new Set(u.map(a=>a.nodeName).filter(Boolean)):new Set,[u,n]);return(0,b.jsx)(k.TableOnlyResourceList,{title:"Nodes",resourceName:"node",resourceNamePlural:"nodes",icon:f,data:q,isLoading:r,error:s,refetch:t,searchPlaceholder:"Search nodes...",searchFilter:(a,b)=>a.name.toLowerCase().includes(b.toLowerCase()),filters:[{label:"Status",value:o,options:[{label:"All",value:"all"},{label:"Ready",value:"Ready"},{label:"Not Ready",value:"NotReady"}],onChange:p}],customFilter:a=>(!n||!(v.size>0)||!!v.has(a.name))&&("all"===o||a.status===o),columns:[{field:"name",label:"Name",sortable:!0},{field:"status",label:"Status",sortable:!0,render:a=>(0,b.jsx)(j.StatusBadge,{status:a.status})},{field:"version",label:"Version",sortable:!0},{field:"cpu",label:"CPU",render:a=>(0,b.jsxs)(b.Fragment,{children:[a.allocatable.cpu," / ",a.capacity.cpu," (",m(a.allocatable.cpu,a.capacity.cpu),"%)"]})},{field:"memory",label:"Memory",render:a=>(0,b.jsxs)(b.Fragment,{children:[a.allocatable.memory," / ",a.capacity.memory," (",m(a.allocatable.memory,a.capacity.memory),"%)"]})},{field:"pods",label:"Pods",render:a=>(0,b.jsxs)(b.Fragment,{children:[a.allocatable.pods," / ",a.capacity.pods]})},{field:"age",label:"Age",sortable:!0}],defaultSortField:"name",defaultSortOrder:"asc",getRowKey:a=>a.name,onRowClick:b=>a(`/nodes/${b.name}`),emptyStateDescription:n?`No nodes have pods in namespace: ${n}`:"There are no nodes in this cluster yet."})}a.s(["default",()=>n],979215)},72809,a=>{a.v(a=>Promise.resolve().then(()=>a(281623)))}];

//# sourceMappingURL=app_cc050521._.js.map