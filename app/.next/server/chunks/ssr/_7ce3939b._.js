module.exports=[47830,a=>{"use strict";var b=a.i(433217),c=a.i(105528),d=a.i(281623);function e(){let a=(0,c.useModeStore)(a=>a.mode),e=(0,c.useModeStore)(a=>a.selectedNamespace),f=(0,c.useModeStore)(a=>a.selectedContext);return(0,b.useQuery)({queryKey:["deployments",a,e,f?.name||""],queryFn:async()=>{if("demo"===a)return await new Promise(a=>setTimeout(a,300)),(0,d.generateMockDeployments)();let b=await fetch(`/api/deployments?namespace=${encodeURIComponent(e)}&context=${encodeURIComponent(f?.name||"")}`);if(!b.ok)throw Error("Failed to fetch deployments");return b.json()}})}function f(a){let e=(0,c.useModeStore)(a=>a.mode),f=(0,c.useModeStore)(a=>a.selectedNamespace),g=(0,c.useModeStore)(a=>a.selectedContext);return(0,b.useQuery)({queryKey:["deployment",a,e,f,g?.name||""],queryFn:async()=>{if("demo"===e){await new Promise(a=>setTimeout(a,200));let b=(0,d.generateMockDeployments)().find(b=>b.name===a);if(!b)throw Error("Deployment not found");return b}let b=await fetch(`/api/deployments/${a}?namespace=${encodeURIComponent(f)}&context=${encodeURIComponent(g?.name||"")}`);if(!b.ok)throw Error("Failed to fetch deployment");return b.json()},enabled:!!a&&("demo"===e||!!f)})}function g(a){let e=(0,c.useModeStore)(a=>a.mode),f=(0,c.useModeStore)(a=>a.selectedNamespace),g=(0,c.useModeStore)(a=>a.selectedContext);return(0,b.useQuery)({queryKey:["deployment-pods",a,e,f,g?.name||""],queryFn:async()=>{if("demo"===e)return await new Promise(a=>setTimeout(a,200)),(0,d.generateMockPods)().filter(b=>{let c=b.ownerReferences?.some(b=>"ReplicaSet"===b.kind&&b.name.startsWith(a)),d=b.labels.app===a;return c||d});let b=await fetch(`/api/deployments/${a}/pods?namespace=${encodeURIComponent(f)}&context=${encodeURIComponent(g?.name||"")}`);if(!b.ok)throw Error("Failed to fetch deployment pods");return b.json()},enabled:!!a&&("demo"===e||!!f)})}a.s(["useDeployment",()=>f,"useDeploymentPods",()=>g,"useDeployments",()=>e])},241570,a=>{"use strict";var b=a.i(269464),c=a.i(187924);let d=(0,b.default)((0,c.jsx)("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27z"}),"Layers");a.s(["default",0,d])},319369,a=>{"use strict";var b=a.i(187924),c=a.i(856068),d=a.i(213469);let e=(0,a.i(269464).default)((0,b.jsx)("path",{d:"M9.19 6.35c-2.04 2.29-3.44 5.58-3.57 5.89L2 10.69l4.05-4.05c.47-.47 1.15-.68 1.81-.55zM11.17 17s3.74-1.55 5.89-3.7c5.4-5.4 4.5-9.62 4.21-10.57-.95-.3-5.17-1.19-10.57 4.21C8.55 9.09 7 12.83 7 12.83zm6.48-2.19c-2.29 2.04-5.58 3.44-5.89 3.57L13.31 22l4.05-4.05c.47-.47.68-1.15.55-1.81zM9 18c0 .83-.34 1.58-.88 2.12C6.94 21.3 2 22 2 22s.7-4.94 1.88-6.12C4.42 15.34 5.17 15 6 15c1.66 0 3 1.34 3 3m4-9c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2"}),"RocketLaunch");var f=a.i(656465),g=a.i(572131),h=a.i(50944),i=a.i(295525),j=a.i(47830),k=a.i(778081),l=a.i(588463),m=a.i(241570),n=a.i(318824);function o({deployment:a,onClick:d}){return(0,b.jsx)(n.ResourceCard,{name:a.name,resourceType:"Deployment",resourceColor:"#3F51B5",icon:m.default,onClick:d,statusBadge:(0,b.jsx)(k.StatusBadge,{status:a.status}),metrics:(0,b.jsxs)(l.default,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:1.5},children:[(0,b.jsxs)(l.default,{children:[(0,b.jsx)(c.default,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:"Replicas"}),(0,b.jsxs)(c.default,{variant:"h6",fontWeight:700,children:[a.replicas.ready,"/",a.replicas.desired]})]}),(0,b.jsxs)(l.default,{children:[(0,b.jsx)(c.default,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:"Available"}),(0,b.jsx)(c.default,{variant:"h6",fontWeight:700,children:a.replicas.available})]})]}),footer:(0,b.jsxs)(c.default,{variant:"caption",color:"text.secondary",children:["Age: ",a.age]})})}var p=a.i(969387);function q(){let a=(0,i.useNavigateTo)(),l=(0,h.useSearchParams)(),[m,n]=(0,g.useState)(""),{data:q,isLoading:r,error:s,refetch:t}=(0,j.useDeployments)();(0,g.useEffect)(()=>{let a=l.get("status");a&&("Available"===a||"Progressing"===a||"Degraded"===a)&&n(a)},[l]);let u=[{field:"name",label:"Name",render:a=>(0,b.jsx)(c.default,{variant:"body2",fontWeight:"medium",children:a.name})},{field:"status",label:"Status",render:a=>(0,b.jsx)(k.StatusBadge,{status:a.status})},{field:"replicas",label:"Replicas",align:"center",render:a=>`${a.replicas.ready}/${a.replicas.desired}`,customSortFn:(a,b,c)=>{let d=a.replicas.ready,e=b.replicas.ready;return"asc"===c?d-e:e-d}},{field:"available",label:"Available",align:"center",render:a=>a.replicas.available,customSortFn:(a,b,c)=>{let d=a.replicas.available,e=b.replicas.available;return"asc"===c?d-e:e-d}},{field:"unavailable",label:"Unavailable",align:"center",sortable:!1,render:a=>a.replicas.unavailable},{field:"age",label:"Age"},{field:"strategy",label:"Strategy"},{field:"actions",label:"Actions",align:"right",sortable:!1,render:c=>(0,b.jsx)(d.default,{size:"small",onClick:b=>{b.stopPropagation(),a(`/deployments/${c.name}`)},children:(0,b.jsx)(f.default,{fontSize:"small"})})}];return(0,b.jsx)(p.ResourceListView,{title:"Deployments",resourceName:"deployment",resourceNamePlural:"deployments",icon:e,data:q,isLoading:r,error:s,refetch:t,searchPlaceholder:"Search deployments...",searchFilter:(a,b)=>a.name.toLowerCase().includes(b.toLowerCase()),customFilter:m?a=>a.status===m:void 0,filters:[{label:"Status",value:m,options:[{label:"All Statuses",value:""},{label:"Available",value:"Available"},{label:"Progressing",value:"Progressing"},{label:"Degraded",value:"Degraded"}],onChange:a=>n(a)}],columns:u,defaultSortField:"name",defaultSortOrder:"asc",getRowKey:a=>a.name,onRowClick:b=>a(`/deployments/${b.name}`),renderCard:(a,c)=>(0,b.jsx)(o,{deployment:a,onClick:c}),emptyStateDescription:"There are no deployments in this namespace. Deploy your first application to get started."})}a.s(["default",()=>q],319369)}];

//# sourceMappingURL=_7ce3939b._.js.map