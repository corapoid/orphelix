module.exports=[446101,a=>{"use strict";var b=a.i(433217),c=a.i(105528),d=a.i(281623);function e(){let a=(0,c.useModeStore)(a=>a.mode),e=(0,c.useModeStore)(a=>a.selectedNamespace),f=(0,c.useModeStore)(a=>a.selectedContext);return(0,b.useQuery)({queryKey:["statefulsets",a,e,f?.name||""],queryFn:async()=>{if("demo"===a)return await new Promise(a=>setTimeout(a,300)),(0,d.generateMockStatefulSets)();let b=await fetch(`/api/statefulsets?namespace=${encodeURIComponent(e)}&context=${encodeURIComponent(f?.name||"")}`);if(!b.ok)throw Error("Failed to fetch statefulsets");return b.json()}})}function f(a){let e=(0,c.useModeStore)(a=>a.mode),f=(0,c.useModeStore)(a=>a.selectedNamespace),g=(0,c.useModeStore)(a=>a.selectedContext);return(0,b.useQuery)({queryKey:["statefulset",a,e,f,g?.name||""],queryFn:async()=>{if("demo"===e){await new Promise(a=>setTimeout(a,200));let b=(0,d.generateMockStatefulSets)().find(b=>b.name===a);if(!b)throw Error("StatefulSet not found");return b}let b=await fetch(`/api/statefulsets/${a}?namespace=${encodeURIComponent(f)}&context=${encodeURIComponent(g?.name||"")}`);if(!b.ok)throw Error("Failed to fetch statefulset");return b.json()},enabled:!!a&&("demo"===e||!!f)})}a.s(["useStatefulSet",()=>f,"useStatefulSets",()=>e])},948687,a=>{"use strict";var b=a.i(187924),c=a.i(856068),d=a.i(213469),e=a.i(456936),f=a.i(656465),g=a.i(572131),h=a.i(50944),i=a.i(295525),j=a.i(446101),k=a.i(778081),l=a.i(969387),m=a.i(588463),n=a.i(318824);function o({statefulSet:a,onClick:d}){return(0,b.jsx)(n.ResourceCard,{name:a.name,resourceType:"StatefulSet",resourceColor:"#7C3AED",icon:e.default,onClick:d,statusBadge:(0,b.jsx)(k.StatusBadge,{status:a.status}),metrics:(0,b.jsxs)(m.default,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:1.5},children:[(0,b.jsxs)(m.default,{children:[(0,b.jsx)(c.default,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:"Replicas"}),(0,b.jsxs)(c.default,{variant:"h6",fontWeight:700,children:[a.replicas.ready,"/",a.replicas.desired]})]}),(0,b.jsxs)(m.default,{children:[(0,b.jsx)(c.default,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:"Updated"}),(0,b.jsx)(c.default,{variant:"h6",fontWeight:700,children:a.replicas.updated})]}),(0,b.jsxs)(m.default,{children:[(0,b.jsx)(c.default,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:"Service"}),(0,b.jsx)(c.default,{variant:"body2",fontWeight:600,sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.serviceName||"-"})]}),(0,b.jsxs)(m.default,{children:[(0,b.jsx)(c.default,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:"PVCs"}),(0,b.jsx)(c.default,{variant:"body2",fontWeight:600,children:a.persistentVolumeClaims.length||0})]})]}),footer:(0,b.jsxs)(c.default,{variant:"caption",color:"text.secondary",children:["Age: ",a.age]})})}function p(){let a=(0,i.useNavigateTo)(),m=(0,h.useSearchParams)(),[n,p]=(0,g.useState)(""),{data:q,isLoading:r,error:s,refetch:t}=(0,j.useStatefulSets)();(0,g.useEffect)(()=>{let a=m.get("status");a&&("Healthy"===a||"Degraded"===a||"Not Ready"===a)&&p(a)},[m]);let u=[{field:"name",label:"Name",render:a=>(0,b.jsx)(c.default,{variant:"body2",fontWeight:"medium",children:a.name})},{field:"status",label:"Status",render:a=>(0,b.jsx)(k.StatusBadge,{status:a.status})},{field:"replicas",label:"Replicas",align:"center",render:a=>`${a.replicas.ready}/${a.replicas.desired}`,customSortFn:(a,b,c)=>{let d=a.replicas.ready,e=b.replicas.ready;return"asc"===c?d-e:e-d}},{field:"current",label:"Current",align:"center",render:a=>a.replicas.current,customSortFn:(a,b,c)=>{let d=a.replicas.current,e=b.replicas.current;return"asc"===c?d-e:e-d}},{field:"updated",label:"Updated",align:"center",render:a=>a.replicas.updated,customSortFn:(a,b,c)=>{let d=a.replicas.updated,e=b.replicas.updated;return"asc"===c?d-e:e-d}},{field:"age",label:"Age"},{field:"serviceName",label:"Service"},{field:"actions",label:"Actions",align:"right",sortable:!1,render:c=>(0,b.jsx)(d.default,{size:"small",onClick:b=>{b.stopPropagation(),a(`/statefulsets/${c.name}`)},children:(0,b.jsx)(f.default,{fontSize:"small"})})}];return(0,b.jsx)(l.ResourceListView,{title:"StatefulSets",resourceName:"statefulset",resourceNamePlural:"statefulsets",icon:e.default,data:q,isLoading:r,error:s,refetch:t,searchPlaceholder:"Search statefulsets...",searchFilter:(a,b)=>a.name.toLowerCase().includes(b.toLowerCase()),customFilter:n?a=>a.status===n:void 0,filters:[{label:"Status",value:n,options:[{label:"All Statuses",value:""},{label:"Healthy",value:"Healthy"},{label:"Degraded",value:"Degraded"},{label:"Not Ready",value:"Not Ready"}],onChange:a=>p(a)}],columns:u,defaultSortField:"name",defaultSortOrder:"asc",getRowKey:a=>a.name,onRowClick:b=>a(`/statefulsets/${b.name}`),renderCard:(a,c)=>(0,b.jsx)(o,{statefulSet:a,onClick:c}),emptyStateDescription:"There are no statefulsets in this namespace."})}a.s(["default",()=>p],948687)}];

//# sourceMappingURL=app_36f67c5d._.js.map