module.exports=[759098,a=>{"use strict";var b=a.i(433217),c=a.i(105528),d=a.i(281623);function e(a){let e=(0,c.useModeStore)(a=>a.mode),f=(0,c.useModeStore)(a=>a.selectedNamespace),g=(0,c.useModeStore)(a=>a.selectedContext);return(0,b.useQuery)({queryKey:["pods",e,f,a],queryFn:async()=>{if("demo"===e){await new Promise(a=>setTimeout(a,300));let b=(0,d.generateMockPods)();return a?b.filter(b=>b.status===a):b}if(!f)throw Error("Namespace is required");let b=a?`/api/pods?namespace=${encodeURIComponent(f)}&context=${encodeURIComponent(g?.name||"")}&status=${a}`:`/api/pods?namespace=${encodeURIComponent(f)}&context=${encodeURIComponent(g?.name||"")}`,c=await fetch(b);if(!c.ok)throw Error("Failed to fetch pods");return c.json()},enabled:"demo"===e||!!f})}function f(a){let e=(0,c.useModeStore)(a=>a.mode),f=(0,c.useModeStore)(a=>a.selectedNamespace),g=(0,c.useModeStore)(a=>a.selectedContext);return(0,b.useQuery)({queryKey:["pod",a,e,f,g?.name||""],queryFn:async()=>{if("demo"===e){await new Promise(a=>setTimeout(a,200));let b=(0,d.generateMockPods)().find(b=>b.name===a);if(!b)throw Error("Pod not found");return b}if(!f)throw Error("Namespace is required");let b=await fetch(`/api/pods/${a}?namespace=${encodeURIComponent(f)}&context=${encodeURIComponent(g?.name||"")}`);if(!b.ok)throw Error("Failed to fetch pod");return b.json()},enabled:!!a&&("demo"===e||!!f)})}function g(a,d,e=100){let f=(0,c.useModeStore)(a=>a.mode),h=(0,c.useModeStore)(a=>a.selectedNamespace),i=(0,c.useModeStore)(a=>a.selectedContext);return(0,b.useQuery)({queryKey:["pod-logs",a,d,e,f,h],queryFn:async()=>{if("demo"===f){await new Promise(a=>setTimeout(a,400));let a=[],b=["2024-01-15","2024-01-16","2024-01-17"],c=["INFO","WARN","ERROR","DEBUG"],f=["Application started successfully","Connected to database","Processing request from user","Cache miss for key","Request completed in 45ms","Memory usage: 512MB","Health check passed","Scheduled task executed"];for(let g=0;g<e;g++){let e=b[Math.floor(Math.random()*b.length)],g=`${Math.floor(24*Math.random()).toString().padStart(2,"0")}:${Math.floor(60*Math.random()).toString().padStart(2,"0")}:${Math.floor(60*Math.random()).toString().padStart(2,"0")}`,h=c[Math.floor(Math.random()*c.length)],i=f[Math.floor(Math.random()*f.length)];a.push(`${e} ${g} [${h}] ${d} - ${i}`)}return{logs:a.join("\n"),parsed:void 0}}if(!h)throw Error("Namespace is required");let b=await fetch(`/api/pods/${a}/logs?namespace=${encodeURIComponent(h)}&context=${encodeURIComponent(i?.name||"")}&container=${d}&tail=${e}`);if(!b.ok)throw Error("Failed to fetch pod logs");let c=await b.json();return{logs:c.logs,parsed:c.parsed}},enabled:!!a&&!!d&&("demo"===f||!!h),refetchInterval:!1,staleTime:1/0})}a.s(["usePod",()=>f,"usePodLogs",()=>g,"usePods",()=>e])},180038,a=>{"use strict";var b=a.i(269464),c=a.i(187924);let d=(0,b.default)((0,c.jsx)("path",{d:"m18.25 7.6-5.5-3.18c-.46-.27-1.04-.27-1.5 0L5.75 7.6c-.46.27-.75.76-.75 1.3v6.35c0 .54.29 1.03.75 1.3l5.5 3.18c.46.27 1.04.27 1.5 0l5.5-3.18c.46-.27.75-.76.75-1.3V8.9c0-.54-.29-1.03-.75-1.3M7 14.96v-4.62l4 2.32v4.61zm5-4.03L8 8.61l4-2.31 4 2.31zm1 6.34v-4.61l4-2.32v4.62zM7 2H3.5C2.67 2 2 2.67 2 3.5V7h2V4h3zm10 0h3.5c.83 0 1.5.67 1.5 1.5V7h-2V4h-3zM7 22H3.5c-.83 0-1.5-.67-1.5-1.5V17h2v3h3zm10 0h3.5c.83 0 1.5-.67 1.5-1.5V17h-2v3h-3z"}),"ViewInAr");a.s(["default",0,d])},685115,a=>{"use strict";var b=a.i(187924),c=a.i(856068),d=a.i(213469),e=a.i(180038),f=a.i(656465),g=a.i(572131),h=a.i(50944),i=a.i(295525),j=a.i(759098),k=a.i(778081),l=a.i(588463),m=a.i(318824);function n({pod:a,onClick:d}){return(0,b.jsx)(m.ResourceCard,{name:a.name,resourceType:"Pod",resourceColor:"#9C27B0",icon:e.default,onClick:d,statusBadge:(0,b.jsx)(k.StatusBadge,{status:a.status}),metrics:(0,b.jsxs)(l.default,{sx:{display:"grid",gridTemplateColumns:"80px 1fr",gap:1.5},children:[(0,b.jsxs)(l.default,{children:[(0,b.jsx)(c.default,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:"Restarts"}),(0,b.jsx)(c.default,{variant:"h6",fontWeight:700,children:a.restartCount})]}),(0,b.jsxs)(l.default,{children:[(0,b.jsx)(c.default,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:"Node"}),(0,b.jsx)(c.default,{variant:"body2",fontWeight:600,sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:1.2,fontSize:"0.7rem",wordBreak:"break-all"},children:a.nodeName||"N/A"})]})]}),footer:(0,b.jsxs)(c.default,{variant:"caption",color:"text.secondary",children:["Age: ",a.age]})})}var o=a.i(969387);function p(){let a=(0,i.useNavigateTo)(),l=(0,h.useSearchParams)(),[m,p]=(0,g.useState)(""),{data:q,isLoading:r,error:s,refetch:t}=(0,j.usePods)(m||void 0);(0,g.useEffect)(()=>{let a=l.get("status");a&&["Running","Pending","Failed","Succeeded","Unknown","CrashLoopBackOff"].includes(a)&&p(a)},[l]);let u=[{field:"name",label:"Name",render:a=>(0,b.jsx)(c.default,{variant:"body2",fontWeight:"medium",children:a.name})},{field:"status",label:"Status",render:a=>(0,b.jsx)(k.StatusBadge,{status:a.status})},{field:"node",label:"Node",render:a=>a.nodeName||"N/A"},{field:"ip",label:"IP"},{field:"containers",label:"Containers",align:"center",render:a=>a.containers.length,customSortFn:(a,b,c)=>{let d=a.containers.length,e=b.containers.length;return"asc"===c?d-e:e-d}},{field:"restarts",label:"Restarts",align:"center",render:a=>a.restartCount},{field:"age",label:"Age"},{field:"actions",label:"Actions",align:"right",sortable:!1,render:c=>(0,b.jsx)(d.default,{size:"small",onClick:b=>{b.stopPropagation(),a(`/pods/${c.name}`)},children:(0,b.jsx)(f.default,{fontSize:"small"})})}];return(0,b.jsx)(o.ResourceListView,{title:"Pods",resourceName:"pod",resourceNamePlural:"pods",icon:e.default,data:q,isLoading:r,error:s,refetch:t,searchPlaceholder:"Search pods...",searchFilter:(a,b)=>a.name.toLowerCase().includes(b.toLowerCase()),filters:[{label:"Status",value:m,options:[{label:"All Statuses",value:""},{label:"Running",value:"Running"},{label:"Pending",value:"Pending"},{label:"Failed",value:"Failed"},{label:"Succeeded",value:"Succeeded"},{label:"CrashLoopBackOff",value:"CrashLoopBackOff"}],onChange:a=>p(a)}],columns:u,defaultSortField:"name",defaultSortOrder:"asc",getRowKey:a=>a.name,onRowClick:b=>a(`/pods/${b.name}`),renderCard:(a,c)=>(0,b.jsx)(n,{pod:a,onClick:c}),emptyStateDescription:"There are no pods in this namespace yet.",showClusterAlert:!1})}a.s(["default",()=>p],685115)}];

//# sourceMappingURL=_7d789e06._.js.map