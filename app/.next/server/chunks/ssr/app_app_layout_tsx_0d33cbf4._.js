module.exports=[866803,a=>{"use strict";var b=a.i(187924),c=a.i(572131);class d extends Error{constructor(a,b){a instanceof Error?super(void 0,{cause:{err:a,...a.cause,...b}}):"string"==typeof a?(b instanceof Error&&(b={err:b,...b.cause}),super(a,b)):super(void 0,a),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);const c=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${c}`}}class e extends d{}class f extends d{}async function g(a,b,c,d={}){let f=`${h(b)}/${a}`;try{let a={headers:{"Content-Type":"application/json",...d?.headers?.cookie?{cookie:d.headers.cookie}:{}}};d?.body&&(a.body=JSON.stringify(d.body),a.method="POST");let b=await fetch(f,a),c=await b.json();if(!b.ok)throw c;return c}catch(a){return c.error(new e(a.message,a)),null}}function h(a){return`${a.baseUrlServer}${a.basePathServer}`}function i(){return Math.floor(Date.now()/1e3)}function j(a){let b=new URL("http://localhost:3000/api/auth");a&&!a.startsWith("http")&&(a=`https://${a}`);let c=new URL(a||b),d=("/"===c.pathname?b.pathname:c.pathname).replace(/\/$/,""),e=`${c.origin}${d}`;return{origin:c.origin,host:c.host,path:d,base:e,toString:()=>e}}let k={baseUrl:j(process.env.NEXTAUTH_URL??process.env.VERCEL_URL).origin,basePath:j(process.env.NEXTAUTH_URL).path,baseUrlServer:j(process.env.NEXTAUTH_URL_INTERNAL??process.env.NEXTAUTH_URL??process.env.VERCEL_URL).origin,basePathServer:j(process.env.NEXTAUTH_URL_INTERNAL??process.env.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:()=>{}},l=null;function m(){return"undefined"==typeof BroadcastChannel?{postMessage:()=>{},addEventListener:()=>{},removeEventListener:()=>{},name:"next-auth",onmessage:null,onmessageerror:null,close:()=>{},dispatchEvent:()=>!1}:new BroadcastChannel("next-auth")}function n(){return null===l&&(l=m()),l}let o={debug:console.debug,error:console.error,warn:console.warn},p=c.createContext?.(void 0);function q(a){if(!p)throw Error("React Context is unavailable in Server Components");let b=c.useContext(p),{required:d,onUnauthenticated:e}=a??{},f=d&&"unauthenticated"===b.status;return(c.useEffect(()=>{if(f){let a=`${k.basePath}/signin?${new URLSearchParams({error:"SessionRequired",callbackUrl:window.location.href})}`;e?e():window.location.href=a}},[f,e]),f)?{data:b.data,update:b.update,status:"loading"}:b}async function r(a){let b=await g("session",k,o,a);return(a?.broadcast??!0)&&m().postMessage({event:"session",data:{trigger:"getSession"}}),b}async function s(){let a=await g("csrf",k,o);return a?.csrfToken??""}async function t(){return g("providers",k,o)}async function u(a,b,c){let{callbackUrl:d,...e}=b??{},{redirect:f=!0,redirectTo:g=d??window.location.href,...i}=e,j=h(k),l=await t();if(!l){let a=`${j}/error`;window.location.href=a;return}if(!a||!l[a]){let a=`${j}/signin?${new URLSearchParams({callbackUrl:g})}`;window.location.href=a;return}let m=l[a].type;if("webauthn"===m)throw TypeError(`Provider id "${a}" refers to a WebAuthn provider.
Please use \`import { signIn } from "next-auth/webauthn"\` instead.`);let n=`${j}/${"credentials"===m?"callback":"signin"}/${a}`,o=await s(),p=await fetch(`${n}?${new URLSearchParams(c)}`,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...i,csrfToken:o,callbackUrl:g})}),q=await p.json();if(f){let a=q.url??g;window.location.href=a,a.includes("#")&&window.location.reload();return}let r=new URL(q.url).searchParams.get("error")??void 0,u=new URL(q.url).searchParams.get("code")??void 0;return p.ok&&await k._getSession({event:"storage"}),{error:r,code:u,status:p.status,ok:p.ok,url:r?null:q.url}}async function v(a){let{redirect:b=!0,redirectTo:c=a?.callbackUrl??window.location.href}=a??{},d=h(k),e=await s(),f=await fetch(`${d}/signout`,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({csrfToken:e,callbackUrl:c})}),g=await f.json();if(n().postMessage({event:"session",data:{trigger:"signout"}}),b){let a=g.url??c;window.location.href=a,a.includes("#")&&window.location.reload();return}return await k._getSession({event:"storage"}),g}function w(a){if(!p)throw Error("React Context is unavailable in Server Components");let{children:d,basePath:e,refetchInterval:h,refetchWhenOffline:j}=a;e&&(k.basePath=e);let l=void 0!==a.session;k._lastSync=l?i():0;let[m,q]=c.useState(()=>(l&&(k._session=a.session),a.session)),[t,u]=c.useState(!l);c.useEffect(()=>(k._getSession=async({event:a}={})=>{try{let b="storage"===a;if(b||void 0===k._session){k._lastSync=i(),k._session=await r({broadcast:!b}),q(k._session);return}if(!a||null===k._session||i()<k._lastSync)return;k._lastSync=i(),k._session=await r(),q(k._session)}catch(a){o.error(new f(a.message,a))}finally{u(!1)}},k._getSession(),()=>{k._lastSync=0,k._session=void 0,k._getSession=()=>{}}),[]),c.useEffect(()=>{let a=()=>k._getSession({event:"storage"});return n().addEventListener("message",a),()=>n().removeEventListener("message",a)},[]),c.useEffect(()=>{let{refetchOnWindowFocus:b=!0}=a,c=()=>{b&&"visible"===document.visibilityState&&k._getSession({event:"visibilitychange"})};return document.addEventListener("visibilitychange",c,!1),()=>document.removeEventListener("visibilitychange",c,!1)},[a.refetchOnWindowFocus]);let v=function(){let[a,b]=c.useState("undefined"!=typeof navigator&&navigator.onLine),d=()=>b(!0),e=()=>b(!1);return c.useEffect(()=>(window.addEventListener("online",d),window.addEventListener("offline",e),()=>{window.removeEventListener("online",d),window.removeEventListener("offline",e)}),[]),a}(),w=!1!==j||v;c.useEffect(()=>{if(h&&w){let a=setInterval(()=>{k._session&&k._getSession({event:"poll"})},1e3*h);return()=>clearInterval(a)}},[h,w]);let x=c.useMemo(()=>({data:m,status:t?"loading":m?"authenticated":"unauthenticated",async update(a){if(t)return;u(!0);let b=await g("session",k,o,void 0===a?void 0:{body:{csrfToken:await s(),data:a}});return u(!1),b&&(q(b),n().postMessage({event:"session",data:{trigger:"getSession"}})),b}}),[m,t]);return(0,b.jsx)(p.Provider,{value:x,children:d})}var x=a.i(442871),y=a.i(376644),z=a.i(118544),A=a.i(533791),B=class extends A.Subscribable{constructor(a={}){super(),this.config=a,this.#a=new Map}#a;build(a,b,c){let d=b.queryKey,e=b.queryHash??(0,x.hashQueryKeyByOptions)(d,b),f=this.get(e);return f||(f=new y.Query({client:a,queryKey:d,queryHash:e,options:a.defaultQueryOptions(b),state:c,defaultOptions:a.getQueryDefaults(d)}),this.add(f)),f}add(a){this.#a.has(a.queryHash)||(this.#a.set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){let b=this.#a.get(a.queryHash);b&&(a.destroy(),b===a&&this.#a.delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){z.notifyManager.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return this.#a.get(a)}getAll(){return[...this.#a.values()]}find(a){let b={exact:!0,...a};return this.getAll().find(a=>(0,x.matchQuery)(b,a))}findAll(a={}){let b=this.getAll();return Object.keys(a).length>0?b.filter(b=>(0,x.matchQuery)(a,b)):b}notify(a){z.notifyManager.batch(()=>{this.listeners.forEach(b=>{b(a)})})}onFocus(){z.notifyManager.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){z.notifyManager.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},C=a.i(612794),D=A,E=class extends D.Subscribable{constructor(a={}){super(),this.config=a,this.#b=new Set,this.#c=new Map,this.#d=0}#b;#c;#d;build(a,b,c){let d=new C.Mutation({client:a,mutationCache:this,mutationId:++this.#d,options:a.defaultMutationOptions(b),state:c});return this.add(d),d}add(a){this.#b.add(a);let b=F(a);if("string"==typeof b){let c=this.#c.get(b);c?c.push(a):this.#c.set(b,[a])}this.notify({type:"added",mutation:a})}remove(a){if(this.#b.delete(a)){let b=F(a);if("string"==typeof b){let c=this.#c.get(b);if(c)if(c.length>1){let b=c.indexOf(a);-1!==b&&c.splice(b,1)}else c[0]===a&&this.#c.delete(b)}}this.notify({type:"removed",mutation:a})}canRun(a){let b=F(a);if("string"!=typeof b)return!0;{let c=this.#c.get(b),d=c?.find(a=>"pending"===a.state.status);return!d||d===a}}runNext(a){let b=F(a);if("string"!=typeof b)return Promise.resolve();{let c=this.#c.get(b)?.find(b=>b!==a&&b.state.isPaused);return c?.continue()??Promise.resolve()}}clear(){z.notifyManager.batch(()=>{this.#b.forEach(a=>{this.notify({type:"removed",mutation:a})}),this.#b.clear(),this.#c.clear()})}getAll(){return Array.from(this.#b)}find(a){let b={exact:!0,...a};return this.getAll().find(a=>(0,x.matchMutation)(b,a))}findAll(a={}){return this.getAll().filter(b=>(0,x.matchMutation)(a,b))}notify(a){z.notifyManager.batch(()=>{this.listeners.forEach(b=>{b(a)})})}resumePausedMutations(){let a=this.getAll().filter(a=>a.state.isPaused);return z.notifyManager.batch(()=>Promise.all(a.map(a=>a.continue().catch(x.noop))))}};function F(a){return a.options.scope?.id}var G=a.i(999745),H=a.i(312552);function I(a){return{onFetch:(b,c)=>{let d=b.options,e=b.fetchOptions?.meta?.fetchMore?.direction,f=b.state.data?.pages||[],g=b.state.data?.pageParams||[],h={pages:[],pageParams:[]},i=0,j=async()=>{let c=!1,j=(0,x.ensureQueryFn)(b.options,b.fetchOptions),k=async(a,d,e)=>{let f;if(c)return Promise.reject();if(null==d&&a.pages.length)return Promise.resolve(a);let g=(Object.defineProperty(f={client:b.client,queryKey:b.queryKey,pageParam:d,direction:e?"backward":"forward",meta:b.options.meta},"signal",{enumerable:!0,get:()=>(b.signal.aborted?c=!0:b.signal.addEventListener("abort",()=>{c=!0}),b.signal)}),f),h=await j(g),{maxPages:i}=b.options,k=e?x.addToStart:x.addToEnd;return{pages:k(a.pages,h,i),pageParams:k(a.pageParams,d,i)}};if(e&&f.length){let a="backward"===e,b={pages:f,pageParams:g},c=(a?function(a,{pages:b,pageParams:c}){return b.length>0?a.getPreviousPageParam?.(b[0],b,c[0],c):void 0}:J)(d,b);h=await k(b,c,a)}else{let b=a??f.length;do{let a=0===i?g[0]??d.initialPageParam:J(d,h);if(i>0&&null==a)break;h=await k(h,a),i++}while(i<b)}return h};b.options.persister?b.fetchFn=()=>b.options.persister?.(j,{client:b.client,queryKey:b.queryKey,meta:b.options.meta,signal:b.signal},c):b.fetchFn=j}}}function J(a,{pages:b,pageParams:c}){let d=b.length-1;return b.length>0?a.getNextPageParam(b[d],b,c[d],c):void 0}var K=class{#e;#f;#g;#h;#i;#j;#k;#l;constructor(a={}){this.#e=a.queryCache||new B,this.#f=a.mutationCache||new E,this.#g=a.defaultOptions||{},this.#h=new Map,this.#i=new Map,this.#j=0}mount(){this.#j++,1===this.#j&&(this.#k=G.focusManager.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#l=H.onlineManager.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#j--,0===this.#j&&(this.#k?.(),this.#k=void 0,this.#l?.(),this.#l=void 0)}isFetching(a){return this.#e.findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return this.#f.findAll({...a,status:"pending"}).length}getQueryData(a){let b=this.defaultQueryOptions({queryKey:a});return this.#e.get(b.queryHash)?.state.data}ensureQueryData(a){let b=this.defaultQueryOptions(a),c=this.#e.build(this,b),d=c.state.data;return void 0===d?this.fetchQuery(a):(a.revalidateIfStale&&c.isStaleByTime((0,x.resolveStaleTime)(b.staleTime,c))&&this.prefetchQuery(b),Promise.resolve(d))}getQueriesData(a){return this.#e.findAll(a).map(({queryKey:a,state:b})=>[a,b.data])}setQueryData(a,b,c){let d=this.defaultQueryOptions({queryKey:a}),e=this.#e.get(d.queryHash),f=e?.state.data,g=(0,x.functionalUpdate)(b,f);if(void 0!==g)return this.#e.build(this,d).setData(g,{...c,manual:!0})}setQueriesData(a,b,c){return z.notifyManager.batch(()=>this.#e.findAll(a).map(({queryKey:a})=>[a,this.setQueryData(a,b,c)]))}getQueryState(a){let b=this.defaultQueryOptions({queryKey:a});return this.#e.get(b.queryHash)?.state}removeQueries(a){let b=this.#e;z.notifyManager.batch(()=>{b.findAll(a).forEach(a=>{b.remove(a)})})}resetQueries(a,b){let c=this.#e;return z.notifyManager.batch(()=>(c.findAll(a).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...a},b)))}cancelQueries(a,b={}){let c={revert:!0,...b};return Promise.all(z.notifyManager.batch(()=>this.#e.findAll(a).map(a=>a.cancel(c)))).then(x.noop).catch(x.noop)}invalidateQueries(a,b={}){return z.notifyManager.batch(()=>(this.#e.findAll(a).forEach(a=>{a.invalidate()}),a?.refetchType==="none")?Promise.resolve():this.refetchQueries({...a,type:a?.refetchType??a?.type??"active"},b))}refetchQueries(a,b={}){let c={...b,cancelRefetch:b.cancelRefetch??!0};return Promise.all(z.notifyManager.batch(()=>this.#e.findAll(a).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let b=a.fetch(void 0,c);return c.throwOnError||(b=b.catch(x.noop)),"paused"===a.state.fetchStatus?Promise.resolve():b}))).then(x.noop)}fetchQuery(a){let b=this.defaultQueryOptions(a);void 0===b.retry&&(b.retry=!1);let c=this.#e.build(this,b);return c.isStaleByTime((0,x.resolveStaleTime)(b.staleTime,c))?c.fetch(b):Promise.resolve(c.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(x.noop).catch(x.noop)}fetchInfiniteQuery(a){return a.behavior=I(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(x.noop).catch(x.noop)}ensureInfiniteQueryData(a){return a.behavior=I(a.pages),this.ensureQueryData(a)}resumePausedMutations(){return H.onlineManager.isOnline()?this.#f.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#f}getDefaultOptions(){return this.#g}setDefaultOptions(a){this.#g=a}setQueryDefaults(a,b){this.#h.set((0,x.hashKey)(a),{queryKey:a,defaultOptions:b})}getQueryDefaults(a){let b=[...this.#h.values()],c={};return b.forEach(b=>{(0,x.partialMatchKey)(a,b.queryKey)&&Object.assign(c,b.defaultOptions)}),c}setMutationDefaults(a,b){this.#i.set((0,x.hashKey)(a),{mutationKey:a,defaultOptions:b})}getMutationDefaults(a){let b=[...this.#i.values()],c={};return b.forEach(b=>{(0,x.partialMatchKey)(a,b.mutationKey)&&Object.assign(c,b.defaultOptions)}),c}defaultQueryOptions(a){if(a._defaulted)return a;let b={...this.#g.queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return b.queryHash||(b.queryHash=(0,x.hashQueryKeyByOptions)(b.queryKey,b)),void 0===b.refetchOnReconnect&&(b.refetchOnReconnect="always"!==b.networkMode),void 0===b.throwOnError&&(b.throwOnError=!!b.suspense),!b.networkMode&&b.persister&&(b.networkMode="offlineFirst"),b.queryFn===x.skipToken&&(b.enabled=!1),b}defaultMutationOptions(a){return a?._defaulted?a:{...this.#g.mutations,...a?.mutationKey&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){this.#e.clear(),this.#f.clear()}},L=a.i(937927),M=a.i(50944),N=a.i(652662),O=a.i(46866),P=a.i(105528);function Q(){let a=(0,M.usePathname)(),b=(0,P.useModeStore)(a=>a.setMode);return(0,c.useEffect)(()=>{a.startsWith("/demo")?b("demo"):b("real")},[a,b]),null}function R({children:a}){let[d]=(0,c.useState)(()=>new K({defaultOptions:{queries:{staleTime:3e4,refetchInterval:3e4}}}));return(0,b.jsx)(w,{children:(0,b.jsx)(L.QueryClientProvider,{client:d,children:(0,b.jsx)(N.ThemeProvider,{children:(0,b.jsxs)(O.SearchProvider,{children:[(0,b.jsx)(Q,{}),a]})})})})}var S=a.i(588463),T=a.i(298621),U=a.i(836472),V=a.i(964719),W=a.i(757847),X=a.i(156949),Y=a.i(959956),Z=a.i(73946),$=a.i(407049),_=a.i(835926),aa=a.i(551233),ab=a.i(669807);function ac(a,b,c){let d=function(a,b,c){let d,e=b.getBoundingClientRect(),f=c&&c.getBoundingClientRect(),g=(0,ab.ownerWindow)(b);if(b.fakeTransform)d=b.fakeTransform;else{let a=g.getComputedStyle(b);d=a.getPropertyValue("-webkit-transform")||a.getPropertyValue("transform")}let h=0,i=0;if(d&&"none"!==d&&"string"==typeof d){let a=d.split("(")[1].split(")")[0].split(",");h=parseInt(a[4],10),i=parseInt(a[5],10)}return"left"===a?f?`translateX(${f.right+h-e.left}px)`:`translateX(${g.innerWidth+h-e.left}px)`:"right"===a?f?`translateX(-${e.right-f.left-h}px)`:`translateX(-${e.left+e.width-h}px)`:"up"===a?f?`translateY(${f.bottom+i-e.top}px)`:`translateY(${g.innerHeight+i-e.top}px)`:f?`translateY(-${e.top-f.top+e.height-i}px)`:`translateY(-${e.top+e.height-i}px)`}(a,b,"function"==typeof c?c():c);b.style.webkitTransform=d,b.style.transform=d}let ad=c.forwardRef(function(a,d){let e=(0,_.useTheme)(),f={enter:e.transitions.easing.easeOut,exit:e.transitions.easing.sharp},g={enter:e.transitions.duration.enteringScreen,exit:e.transitions.duration.leavingScreen},{addEndListener:h,appear:i=!0,children:j,container:k,direction:l="down",easing:m=f,in:n,onEnter:o,onEntered:p,onEntering:q,onExit:r,onExited:s,onExiting:t,style:u,timeout:v=g,TransitionComponent:w=X.Transition,...x}=a,y=c.useRef(null),z=(0,$.default)((0,Y.default)(j),y,d),A=a=>b=>{a&&(void 0===b?a(y.current):a(y.current,b))},B=A((a,b)=>{ac(l,a,k),(0,aa.reflow)(a),o&&o(a,b)}),C=A((a,b)=>{let c=(0,aa.getTransitionProps)({timeout:v,style:u,easing:m},{mode:"enter"});a.style.webkitTransition=e.transitions.create("-webkit-transform",{...c}),a.style.transition=e.transitions.create("transform",{...c}),a.style.webkitTransform="none",a.style.transform="none",q&&q(a,b)}),D=A(p),E=A(t),F=A(a=>{let b=(0,aa.getTransitionProps)({timeout:v,style:u,easing:m},{mode:"exit"});a.style.webkitTransition=e.transitions.create("-webkit-transform",b),a.style.transition=e.transitions.create("transform",b),ac(l,a,k),r&&r(a)}),G=A(a=>{a.style.webkitTransition="",a.style.transition="",s&&s(a)}),H=c.useCallback(()=>{y.current&&ac(l,y.current,k)},[l,k]);return c.useEffect(()=>{if(n||"down"===l||"right"===l)return;let a=(0,Z.default)(()=>{y.current&&ac(l,y.current,k)}),b=(0,ab.ownerWindow)(y.current);return b.addEventListener("resize",a),()=>{a.clear(),b.removeEventListener("resize",a)}},[l,n,k]),c.useEffect(()=>{n||H()},[n,H]),(0,b.jsx)(w,{nodeRef:y,onEnter:B,onEntered:D,onEntering:C,onExit:F,onExited:G,onExiting:E,addEndListener:a=>{h&&h(y.current,a)},appear:i,in:n,timeout:v,...x,children:(a,{ownerState:b,...d})=>c.cloneElement(j,{ref:z,style:{visibility:"exited"!==a||n?void 0:"hidden",...u,...j.props.style},...d})})});var ae=a.i(744365),af=a.i(643267),ag=a.i(552506),ah=a.i(74443),ai=a.i(25054),aj=a.i(833115),ak=a.i(668604),al=a.i(429297);function am(a){return(0,al.default)("MuiDrawer",a)}(0,ak.default)("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);var an=a.i(49126),ao=a.i(698685);let ap=(a,b)=>{let{ownerState:c}=a;return[b.root,("permanent"===c.variant||"persistent"===c.variant)&&b.docked,b.modal]},aq=(0,ah.styled)(W.default,{name:"MuiDrawer",slot:"Root",overridesResolver:ap})((0,ai.default)(({theme:a})=>({zIndex:(a.vars||a).zIndex.drawer}))),ar=(0,ah.styled)("div",{shouldForwardProp:ag.default,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:ap})({flex:"0 0 auto"}),as=(0,ah.styled)(ae.default,{name:"MuiDrawer",slot:"Paper",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.paper,b[`paperAnchor${(0,af.default)(c.anchor)}`],"temporary"!==c.variant&&b[`paperAnchorDocked${(0,af.default)(c.anchor)}`]]}})((0,ai.default)(({theme:a})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(a.vars||a).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:a})=>"left"===a.anchor&&"temporary"!==a.variant,style:{borderRight:`1px solid ${(a.vars||a).palette.divider}`}},{props:({ownerState:a})=>"top"===a.anchor&&"temporary"!==a.variant,style:{borderBottom:`1px solid ${(a.vars||a).palette.divider}`}},{props:({ownerState:a})=>"right"===a.anchor&&"temporary"!==a.variant,style:{borderLeft:`1px solid ${(a.vars||a).palette.divider}`}},{props:({ownerState:a})=>"bottom"===a.anchor&&"temporary"!==a.variant,style:{borderTop:`1px solid ${(a.vars||a).palette.divider}`}}]}))),at={left:"right",right:"left",top:"down",bottom:"up"},au=c.forwardRef(function(a,d){let e=(0,aj.useDefaultProps)({props:a,name:"MuiDrawer"}),f=(0,_.useTheme)(),g=(0,V.useRtl)(),h={enter:f.transitions.duration.enteringScreen,exit:f.transitions.duration.leavingScreen},{anchor:i="left",BackdropProps:j,children:k,className:l,elevation:m=16,hideBackdrop:n=!1,ModalProps:{BackdropProps:o,...p}={},onClose:q,open:r=!1,PaperProps:s={},SlideProps:t,TransitionComponent:u,transitionDuration:v=h,variant:w="temporary",slots:x={},slotProps:y={},...z}=e,A=c.useRef(!1);c.useEffect(()=>{A.current=!0},[]);let B=function({direction:a},b){return"rtl"===a&&["left","right"].includes(b)?at[b]:b}({direction:g?"rtl":"ltr"},i),C={...e,anchor:i,elevation:m,open:r,variant:w,...z},D=(a=>{let{classes:b,anchor:c,variant:d}=a,e={root:["root",`anchor${(0,af.default)(c)}`],docked:[("permanent"===d||"persistent"===d)&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${(0,af.default)(c)}`,"temporary"!==d&&`paperAnchorDocked${(0,af.default)(c)}`]};return(0,U.default)(e,am,b)})(C),E={slots:{transition:u,...x},slotProps:{paper:s,transition:t,...y,backdrop:(0,ao.mergeSlotProps)(y.backdrop||{...j,...o},{transitionDuration:v})}},[F,G]=(0,an.default)("root",{ref:d,elementType:aq,className:(0,T.default)(D.root,D.modal,l),shouldForwardComponentProp:!0,ownerState:C,externalForwardedProps:{...E,...z,...p},additionalProps:{open:r,onClose:q,hideBackdrop:n,slots:{backdrop:E.slots.backdrop},slotProps:{backdrop:E.slotProps.backdrop}}}),[H,I]=(0,an.default)("paper",{elementType:as,shouldForwardComponentProp:!0,className:(0,T.default)(D.paper,s.className),ownerState:C,externalForwardedProps:E,additionalProps:{elevation:"temporary"===w?m:0,square:!0,..."temporary"===w&&{role:"dialog","aria-modal":"true"}}}),[J,K]=(0,an.default)("docked",{elementType:ar,ref:d,className:(0,T.default)(D.root,D.docked,l),ownerState:C,externalForwardedProps:E,additionalProps:z}),[L,M]=(0,an.default)("transition",{elementType:ad,ownerState:C,externalForwardedProps:E,additionalProps:{in:r,direction:at[B],timeout:v,appear:A.current}}),N=(0,b.jsx)(H,{...I,children:k});if("permanent"===w)return(0,b.jsx)(J,{...K,children:N});let O=(0,b.jsx)(L,{...M,children:N});return"persistent"===w?(0,b.jsx)(J,{...K,children:O}):(0,b.jsx)(F,{...G,children:O})});var av=a.i(994377),aw=a.i(624358),ax=a.i(419127),ay=a.i(103180),az=a.i(635429),aA=a.i(813682),aB=a.i(856068),aC=a.i(213469),aD=a.i(400782),aE=a.i(269464);let aF=(0,aE.default)((0,b.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),aG=(0,aE.default)((0,b.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");var aH=a.i(259518),aI=a.i(92090);let aJ=(0,aE.default)((0,b.jsx)("path",{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3"}),"PushPin"),aK=(0,aE.default)((0,b.jsx)("path",{d:"M14 4v5c0 1.12.37 2.16 1 3H9c.65-.86 1-1.9 1-3V4zm3-2H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3V4h1c.55 0 1-.45 1-1s-.45-1-1-1"}),"PushPinOutlined");var aL=a.i(935377);let aM=(0,aE.default)((0,b.jsx)("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"}),"Done"),aN=(0,aE.default)((0,b.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard");var aO=a.i(699898),aP=a.i(394404),aQ=a.i(456936),aR=a.i(407318),aS=a.i(940824),aT=a.i(258494),aU=a.i(896949),aV=a.i(464230),aW=a.i(887512),aX=a.i(244322),aY=a.i(686470),aZ=a.i(423851),a$=a.i(991276),a_=a.i(649450),a0=a.i(816673),a1=a.i(652155),a2=a.i(325326);let a3={Workloads:!0,Network:!0,"Config & Storage":!0,Cluster:!0,More:!1},a4=[{label:"Dashboard",icon:(0,b.jsx)(aN,{}),path:"/",color:"#6366F1"},{label:"Repository Browser",icon:(0,b.jsx)(a_.default,{}),path:"/repo-browser",color:"#6366F1"},{label:"Workloads",items:[{label:"Deployments",icon:(0,b.jsx)(aO.default,{}),path:"/deployments",color:"#6366F1"},{label:"StatefulSets",icon:(0,b.jsx)(aQ.default,{}),path:"/statefulsets",color:"#7C3AED"},{label:"DaemonSets",icon:(0,b.jsx)(a0.default,{}),path:"/daemonsets",color:"#9333EA"},{label:"Pods",icon:(0,b.jsx)(aP.default,{}),path:"/pods",color:"#8B5CF6"},{label:"Jobs",icon:(0,b.jsx)(aY.default,{}),path:"/jobs",color:"#EC4899"},{label:"CronJobs",icon:(0,b.jsx)(aZ.default,{}),path:"/cronjobs",color:"#A855F7"}]},{label:"Network",items:[{label:"Services",icon:(0,b.jsx)(aW.default,{}),path:"/services",color:"#3B82F6"},{label:"Ingress",icon:(0,b.jsx)(aX.default,{}),path:"/ingress",color:"#0EA5E9"}]},{label:"Config & Storage",items:[{label:"ConfigMaps",icon:(0,b.jsx)(aR.default,{}),path:"/configmaps",color:"#10B981"},{label:"Secrets",icon:(0,b.jsx)(aS.default,{}),path:"/secrets",color:"#F43F5E"},{label:"Persistent Volumes",icon:(0,b.jsx)(aU.default,{}),path:"/pv",color:"#F59E0B"}]},{label:"Cluster",items:[{label:"Namespaces",icon:(0,b.jsx)(a$.default,{}),path:"/namespaces",color:"#8B5CF6"},{label:"Nodes",icon:(0,b.jsx)(aQ.default,{}),path:"/nodes",color:"#06B6D4"},{label:"HPA",icon:(0,b.jsx)(aT.default,{}),path:"/hpa",color:"#64748B"},{label:"Events",icon:(0,b.jsx)(aV.default,{}),path:"/events",color:"#06B6D4"},{label:"Labels",icon:(0,b.jsx)(a1.default,{}),path:"/labels",color:"#10B981"}]}];function a5(a){return"items"in a}function a6(){let a=(0,M.usePathname)(),d=(0,M.useRouter)(),e=(0,P.useModeStore)(a=>a.mode),{isPinned:f,togglePin:g}=(0,P.useSidebarPins)(),[h,i]=(0,c.useState)(()=>!1),[j,k]=(0,c.useState)(()=>({...a3})),[l,m]=(0,c.useState)(!1);(0,c.useEffect)(()=>{},[h]),(0,c.useEffect)(()=>{},[j]);let n=a=>{let b="demo"===e?`/demo${a}`:a;d.push(b)},o=()=>{i(!h)},p=a=>{k(b=>({...b,[a]:!b[a]}))},q=(c,d=!1)=>{let e=(a.startsWith("/demo")?a.replace("/demo",""):a)===c.path;if(h)return(0,b.jsx)(aw.default,{disablePadding:!0,sx:{mb:.4},children:(0,b.jsx)(aA.default,{title:c.label,placement:"right",children:(0,b.jsx)(ax.default,{selected:e,onClick:()=>n(c.path),sx:{borderRadius:1.5,minHeight:40,justifyContent:"center",px:1.5,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",border:"0.5px solid transparent","&.Mui-selected":{background:a=>"light"===a.palette.mode?"linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.6) 100%)":"linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",borderColor:a=>"light"===a.palette.mode?"rgba(0, 0, 0, 0.08)":"rgba(255, 255, 255, 0.2)",boxShadow:a=>"light"===a.palette.mode?"0 4px 12px rgba(0, 0, 0, 0.08), inset 0 1px 0 rgba(255, 255, 255, 0.9)":"0 4px 12px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.15)","&:hover":{background:a=>"light"===a.palette.mode?"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.7) 100%)":"linear-gradient(135deg, rgba(255, 255, 255, 0.18) 0%, rgba(255, 255, 255, 0.1) 100%)"}},"&:hover":{bgcolor:a=>"light"===a.palette.mode?"rgba(255, 255, 255, 0.5)":"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"}},children:(0,b.jsx)(ay.default,{sx:{minWidth:0,color:e?"primary.main":"text.secondary",transition:"color 0.2s ease-in-out",fontSize:"1.25rem","& svg":{fontSize:"1.25rem"}},children:c.icon})})})},c.path);let i=f(c.path);return(0,b.jsx)(aw.default,{disablePadding:!0,sx:{mb:.4,position:"relative"},children:(0,b.jsxs)(ax.default,{selected:e,onClick:()=>n(c.path),sx:{borderRadius:1.5,pl:d?3.5:1.5,pr:1,py:.75,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",border:l?"1px dashed":"0.5px solid transparent",borderColor:l?"primary.main":"transparent",opacity:l?.85:1,"&.Mui-selected":{background:a=>"light"===a.palette.mode?"linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.6) 100%)":"linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",borderColor:a=>"light"===a.palette.mode?"rgba(0, 0, 0, 0.08)":"rgba(255, 255, 255, 0.2)",boxShadow:a=>"light"===a.palette.mode?"0 4px 12px rgba(0, 0, 0, 0.08), inset 0 1px 0 rgba(255, 255, 255, 0.9)":"0 4px 12px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.15)","&:hover":{background:a=>"light"===a.palette.mode?"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.7) 100%)":"linear-gradient(135deg, rgba(255, 255, 255, 0.18) 0%, rgba(255, 255, 255, 0.1) 100%)"},"& .MuiListItemIcon-root":{color:"primary.main"}},"&:hover":{bgcolor:a=>"light"===a.palette.mode?"rgba(255, 255, 255, 0.5)":"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"}},children:[(0,b.jsx)(ay.default,{sx:{minWidth:34,color:e?"primary.main":"text.secondary",transition:"color 0.2s ease-in-out",fontSize:"1.25rem","& svg":{fontSize:"1.25rem"}},children:c.icon}),(0,b.jsx)(az.default,{primary:c.label,primaryTypographyProps:{fontSize:"0.75rem",fontWeight:e?600:500,color:e?"primary.main":"inherit"}}),l&&(0,b.jsx)(aC.default,{size:"small",onClick:a=>{a.stopPropagation(),g(c.path)},sx:{ml:.5,"&:hover":{bgcolor:"transparent"}},children:i?(0,b.jsx)(aJ,{sx:{fontSize:"1rem",color:"primary.main"}}):(0,b.jsx)(aK,{sx:{fontSize:"1rem",opacity:.5}})})]})},c.path)};return(0,b.jsx)(au,{variant:"permanent",hideBackdrop:!0,ModalProps:{keepMounted:!0},sx:{width:h?96:272,flexShrink:0,"& .MuiDrawer-paper":{width:h?96:272,boxSizing:"border-box",border:"none",bgcolor:"transparent",transition:"width 0.3s ease-in-out",overflowX:"hidden",zIndex:a=>a.zIndex.appBar-1,pl:2,pr:2,pt:0},"& .MuiBackdrop-root":{display:"none"}},children:(0,b.jsxs)(S.default,{sx:{bgcolor:"background.paper",borderRadius:3,height:"calc(100vh - 32px)",mt:2,mb:2,display:"flex",flexDirection:"column",backdropFilter:"blur(60px)",WebkitBackdropFilter:"blur(60px)",boxShadow:a=>"dark"===a.palette.mode?"0 4px 16px 0 rgba(0, 0, 0, 0.3)":"0 4px 16px 0 rgba(31, 38, 135, 0.08)",border:a=>"light"===a.palette.mode?"1px solid rgba(209, 213, 219, 0.4)":"1px solid rgba(255, 255, 255, 0.12)",overflow:"hidden"},children:[(0,b.jsxs)(av.default,{sx:{px:1,py:1,flex:1,overflowY:"auto",pt:2},children:[a4.map(a=>{if(a5(a)){let c=j[a.label],d=a.items.filter(a=>f(a.path));return h?d.map(a=>q(a,!1)):0===d.length?null:(0,b.jsxs)(S.default,{children:[(0,b.jsxs)(ax.default,{onClick:()=>p(a.label),sx:{borderRadius:1.5,mb:.4,py:.6,"&:hover":{bgcolor:"action.hover"}},children:[(0,b.jsx)(az.default,{primary:a.label,primaryTypographyProps:{fontSize:"0.65rem",fontWeight:700,textTransform:"uppercase",color:"text.secondary",letterSpacing:.4}}),c?(0,b.jsx)(aH.default,{sx:{fontSize:16,color:"text.secondary"}}):(0,b.jsx)(aI.default,{sx:{fontSize:16,color:"text.secondary"}})]}),(0,b.jsx)(aD.default,{in:c,timeout:"auto",unmountOnExit:!0,children:(0,b.jsx)(av.default,{component:"div",disablePadding:!0,children:d.map(a=>q(a,!0))})})]},a.label)}return f(a.path)?q(a,!1):null}),!h&&(()=>{let a=[];if(a4.forEach(b=>{a5(b)?b.items.forEach(b=>{f(b.path)||a.push(b)}):f(b.path)||a.push(b)}),0===a.length)return null;let c=j.More;return(0,b.jsxs)(S.default,{sx:{mt:1},children:[(0,b.jsxs)(ax.default,{onClick:()=>p("More"),sx:{borderRadius:1.5,mb:.4,py:.6,"&:hover":{bgcolor:"action.hover"}},children:[(0,b.jsx)(az.default,{primary:"More...",primaryTypographyProps:{fontSize:"0.65rem",fontWeight:700,textTransform:"uppercase",color:"text.secondary",letterSpacing:.4}}),c?(0,b.jsx)(aH.default,{sx:{fontSize:16,color:"text.secondary"}}):(0,b.jsx)(aI.default,{sx:{fontSize:16,color:"text.secondary"}})]}),(0,b.jsx)(aD.default,{in:c,timeout:"auto",unmountOnExit:!0,children:(0,b.jsx)(av.default,{component:"div",disablePadding:!0,children:a.map(a=>q(a,!0))})})]})})()]}),(0,b.jsx)(a2.default,{}),(0,b.jsx)(S.default,{sx:{px:1,py:.75},children:h?(0,b.jsxs)(S.default,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[(0,b.jsx)(aA.default,{title:l?"Done editing":"Edit menu",placement:"right",children:(0,b.jsx)(aC.default,{onClick:()=>m(!l),size:"small",sx:{color:l?"primary.main":"text.secondary",bgcolor:l?"action.selected":"transparent","&:hover":{bgcolor:l?"action.selected":"action.hover"}},children:l?(0,b.jsx)(aM,{sx:{fontSize:18}}):(0,b.jsx)(aL.default,{sx:{fontSize:18}})})}),(0,b.jsx)(aA.default,{title:"GitHub",placement:"right",children:(0,b.jsx)(aC.default,{component:"a",href:"https://github.com/dmachard/kubevista",target:"_blank",rel:"noopener noreferrer",size:"small",sx:{color:"text.secondary","&:hover":{color:"primary.main"}},children:(0,b.jsx)(a_.default,{sx:{fontSize:18}})})}),(0,b.jsx)(aA.default,{title:"Expand sidebar",placement:"right",children:(0,b.jsx)(aC.default,{onClick:o,size:"small",sx:{color:"text.secondary","&:hover":{bgcolor:"action.hover"}},children:(0,b.jsx)(aG,{sx:{fontSize:18}})})})]}):(0,b.jsxs)(S.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,b.jsx)(aB.default,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.65rem",fontWeight:500,pl:1},children:"v1.0.0"}),(0,b.jsxs)(S.default,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,b.jsx)(aA.default,{title:l?"Done editing":"Edit menu",children:(0,b.jsx)(aC.default,{onClick:()=>m(!l),size:"small",sx:{color:l?"primary.main":"text.secondary",bgcolor:l?"action.selected":"transparent","&:hover":{bgcolor:l?"action.selected":"action.hover"}},children:l?(0,b.jsx)(aM,{sx:{fontSize:18}}):(0,b.jsx)(aL.default,{sx:{fontSize:18}})})}),(0,b.jsx)(aC.default,{component:"a",href:"https://github.com/dmachard/kubevista",target:"_blank",rel:"noopener noreferrer",size:"small",sx:{color:"text.secondary","&:hover":{color:"primary.main"}},children:(0,b.jsx)(a_.default,{sx:{fontSize:18}})}),(0,b.jsx)(aC.default,{onClick:o,size:"small",sx:{color:"text.secondary","&:hover":{bgcolor:"action.hover"}},children:(0,b.jsx)(aF,{sx:{fontSize:18}})})]})]})})]})})}let a7=(0,aE.default)((0,b.jsx)("path",{d:"M3 10h11v2H3zm0-2h11V6H3zm0 8h7v-2H3zm15.01-3.13.71-.71c.39-.39 1.02-.39 1.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71zm-.71.71-5.3 5.3V21h2.12l5.3-5.3z"}),"EditNote");var a8=a.i(416941),a9=a.i(626233),ba=a.i(178769);function bb({onError:a}){let{mode:d,selectedNamespace:e,setNamespace:f}=(0,P.useModeStore)(),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!1);(0,c.useEffect)(()=>{"real"===d&&k()},[d]);let k=async()=>{j(!0);try{let b=await fetch("/api/namespaces");if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to fetch namespaces")}let c=await b.json();h(c||[]),a&&0===c.length&&a("No namespaces found in the cluster")}catch(c){console.error("Failed to fetch namespaces:",c);let b=c instanceof Error?c.message:"Failed to fetch namespaces";a&&a(b),h([])}finally{j(!1)}};return"demo"===d?(0,b.jsxs)(S.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,b.jsx)(aB.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:"Namespace:"}),(0,b.jsx)(a8.default,{value:"demo",disabled:!0,variant:"standard",disableUnderline:!0,autoWidth:!0,IconComponent:()=>null,renderValue:()=>(0,b.jsx)(aB.default,{variant:"body2",fontWeight:600,children:"demo"}),sx:{fontSize:"0.875rem","& .MuiSelect-select":{py:.5,px:1}},children:(0,b.jsx)(a9.default,{value:"demo",children:"demo"})})]}):i?(0,b.jsxs)(S.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,b.jsx)(aB.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:"Namespace:"}),(0,b.jsx)(S.default,{sx:{py:.5,px:1},children:(0,b.jsx)(ba.default,{size:20})})]}):(0,b.jsxs)(S.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,b.jsx)(aB.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:"Namespace:"}),(0,b.jsx)(a8.default,{value:e||"",onChange:a=>{f(a.target.value)},displayEmpty:!0,variant:"standard",disableUnderline:!0,autoWidth:!0,renderValue:a=>a?(0,b.jsx)(aB.default,{variant:"body2",fontWeight:600,children:a}):(0,b.jsx)(aB.default,{variant:"body2",color:"text.secondary",children:"Select..."}),sx:{fontSize:"0.875rem","&:hover":{bgcolor:"action.hover",borderRadius:1},"& .MuiSelect-select":{py:.5,px:1}},children:g.map((a,c)=>[c>0&&(0,b.jsx)(a2.default,{sx:{my:.5}},`divider-${a.name}`),(0,b.jsx)(a9.default,{value:a.name,sx:{py:1,px:2,"&:hover":{bgcolor:"action.hover"},"&.Mui-selected":{bgcolor:"primary.main",color:"primary.contrastText","&:hover":{bgcolor:"primary.dark"}}},children:(0,b.jsx)(aB.default,{variant:"body2",fontWeight:500,children:a.name})},a.name)])})]})}var bc=a.i(124089),bd=a.i(474288),be=a.i(508325),bf=a.i(515937),bg=a.i(19470),bh=a.i(264605);let bi=(0,aE.default)((0,b.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8m0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4z"}),"Sync");var bj=a.i(437446);function bk(){let a=(0,P.useModeStore)(a=>a.mode),d=(0,P.useModeStore)(a=>a.realtimeEnabled),{status:e,error:f,reconnect:g}=function(){let a=(0,L.useQueryClient)(),b=(0,P.useModeStore)(a=>a.mode),d=(0,P.useModeStore)(a=>a.realtimeEnabled),e=(0,P.useModeStore)(a=>a.selectedNamespace),f=(0,P.useModeStore)(a=>a.selectedContext),[g,h]=(0,c.useState)("disconnected"),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(null),m=(0,c.useRef)(null),n=(0,c.useRef)(null),o=(0,c.useRef)(0),p=(0,c.useCallback)(()=>{m.current&&(m.current.close(),m.current=null),n.current&&(clearTimeout(n.current),n.current=null),h("disconnected")},[]),q=(0,c.useCallback)(()=>{if("real"!==b||!d||!f)return void p();p(),h("connecting"),l(null);try{let b=new EventSource(`/api/stream?namespace=${encodeURIComponent(e)}&context=${encodeURIComponent(f?.name||"")}`);m.current=b,b.addEventListener("connected",a=>{console.warn("[SSE] Connected:",a.data),h("connected"),o.current=0,l(null)}),b.addEventListener("heartbeat",()=>{}),b.addEventListener("deployment",b=>{let c=JSON.parse(b.data);j({type:"deployment",data:c}),a.invalidateQueries({queryKey:["deployments"]}),a.invalidateQueries({queryKey:["deployment"]})}),b.addEventListener("pod",b=>{let c=JSON.parse(b.data);j({type:"pod",data:c}),a.invalidateQueries({queryKey:["pods"]}),a.invalidateQueries({queryKey:["pod"]}),a.invalidateQueries({queryKey:["deployment-pods"]}),a.invalidateQueries({queryKey:["node-pods"]})}),b.addEventListener("event",b=>{let c=JSON.parse(b.data);j({type:"event",data:c}),a.invalidateQueries({queryKey:["events"]}),a.invalidateQueries({queryKey:["recent-events"]}),a.invalidateQueries({queryKey:["deployment-events"]}),a.invalidateQueries({queryKey:["pod-events"]}),a.invalidateQueries({queryKey:["node-events"]})}),b.addEventListener("error",a=>{let b=JSON.parse(a.data||"{}");console.error("[SSE] Server error:",b),l(b.message||"Unknown server error")}),b.onerror=a=>{console.error("[SSE] Connection error:",a),h("error"),b.close(),o.current<5?(o.current++,console.warn(`[SSE] Reconnecting... (attempt ${o.current}/5)`),n.current=setTimeout(()=>{q()},3e3)):(l("Max reconnection attempts reached"),h("disconnected"))}}catch(a){console.error("[SSE] Failed to create EventSource:",a),h("error"),l(a instanceof Error?a.message:"Failed to connect")}},[b,d,f,e,p,a]),r=(0,c.useCallback)(()=>{o.current=0,q()},[q]);return(0,c.useEffect)(()=>("real"===b&&d&&f?q():p(),()=>{p()}),[b,d,f,e,q,p]),{status:g,error:k,lastEvent:i,reconnect:r,disconnect:p,isConnected:"connected"===g}}();if("real"!==a||!d)return null;let h=()=>{switch(e){case"connected":return"#10b981";case"connecting":return"#3b82f6";case"error":return"#ef4444";default:return"#6b7280"}};return(0,b.jsxs)(bc.Box,{sx:{display:"flex",alignItems:"center",gap:.75},children:[(0,b.jsx)(be.Tooltip,{title:(()=>{if(f)return`Real-time connection error: ${f}`;switch(e){case"connected":return"Real-time updates active";case"connecting":return"Connecting to real-time updates...";case"error":return"Real-time connection error. Click to retry.";case"disconnected":return"Real-time updates disconnected. Click to reconnect.";default:return"Real-time status unknown"}})(),arrow:!0,children:(0,b.jsxs)(bc.Box,{sx:{display:"flex",alignItems:"center",gap:.75,px:1.5,py:.5,borderRadius:1.5,bgcolor:"connected"===e?"rgba(16, 185, 129, 0.1)":"background.default",border:"1px solid",borderColor:"connected"===e?"rgba(16, 185, 129, 0.3)":"divider",cursor:"disconnected"===e||"error"===e?"pointer":"default",transition:"all 0.2s ease",animation:"connecting"===e?"pulse 2s infinite":"none","@keyframes pulse":{"0%, 100%":{opacity:1},"50%":{opacity:.6}},"&:hover":"disconnected"===e||"error"===e?{bgcolor:"action.hover"}:{}},onClick:"disconnected"===e||"error"===e?g:void 0,children:[(0,b.jsx)(bc.Box,{sx:{display:"flex",alignItems:"center",color:h()},children:(()=>{switch(e){case"connected":case"disconnected":default:return(0,b.jsx)(bh.default,{sx:{fontSize:10}});case"connecting":return(0,b.jsx)(bd.CircularProgress,{size:10});case"error":return(0,b.jsx)(bj.default,{sx:{fontSize:12}})}})()}),(0,b.jsx)(bg.Typography,{variant:"caption",sx:{fontWeight:500,color:"connected"===e?h():"text.secondary",fontSize:"0.75rem"},children:(()=>{switch(e){case"connected":return"Live";case"connecting":return"Connecting...";case"error":return"Error";case"disconnected":return"Disconnected";default:return"Unknown"}})()})]})}),("disconnected"===e||"error"===e)&&(0,b.jsx)(be.Tooltip,{title:"Retry connection",arrow:!0,children:(0,b.jsx)(bf.IconButton,{size:"small",onClick:g,sx:{color:"text.secondary"},children:(0,b.jsx)(bi,{sx:{fontSize:18}})})})]})}function bl(){let{mode:a,selectedContext:d,setContext:e,setNamespace:f,setClusterConnected:g,setConnectionError:h}=(0,P.useModeStore)(),{getAlias:i}=(0,P.useClusterAliases)(),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(!1),n=async()=>{try{let a=await fetch("/api/test-connection"),b=await a.json();if(!a.ok||!b.success)throw Error(b.error||b.details||"Failed to connect to cluster");return g(!0),h(null),!0}catch(b){let a=b instanceof Error?b.message:"Failed to connect to cluster";return g(!1),h(a),!1}};(0,c.useEffect)(()=>{"real"===a&&o()},[a]),(0,c.useEffect)(()=>{"real"===a&&d&&n()},[d,a]);let o=async()=>{m(!0);try{let a=await fetch("/api/contexts"),b=await a.json();if(a.ok&&b.contexts){k(b.contexts);let a=b.contexts.find(a=>a.current);a&&!d&&(e({name:a.name,cluster:a.cluster,user:a.user}),a.namespace&&f(a.namespace))}}catch(a){console.error("Failed to fetch contexts:",a)}finally{m(!1)}};if("demo"===a){let a=i("demo-cluster")||"demo-cluster";return(0,b.jsxs)(S.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,b.jsx)(aB.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:"Cluster:"}),(0,b.jsx)(aB.default,{variant:"body2",fontWeight:600,children:a})]})}return l?(0,b.jsxs)(S.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,b.jsx)(aB.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:"Cluster:"}),(0,b.jsx)(S.default,{sx:{py:.5,px:1},children:(0,b.jsx)(ba.default,{size:20})})]}):(0,b.jsxs)(S.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,b.jsx)(aB.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:"Cluster:"}),(0,b.jsx)(a8.default,{value:d?.name||"",onChange:a=>{var b;let c;return b=a.target.value,void((c=j.find(a=>a.name===b))&&(e({name:c.name,cluster:c.cluster,user:c.user}),c.namespace&&f(c.namespace)))},displayEmpty:!0,variant:"standard",disableUnderline:!0,autoWidth:!0,renderValue:a=>{var c;if(!a)return(0,b.jsx)(aB.default,{variant:"body2",color:"text.secondary",children:"Select..."});let d=j.find(b=>b.name===a);if(!d)return a;let e=i(c=d.name)||c,f=((a,b=25)=>a.length<=b?a:a.substring(0,b-3)+"...")(e,40);return e!==f?(0,b.jsx)(aA.default,{title:e,placement:"bottom",children:(0,b.jsx)(aB.default,{variant:"body2",fontWeight:600,children:f})}):(0,b.jsx)(aB.default,{variant:"body2",fontWeight:600,children:e})},sx:{fontSize:"0.875rem","&:hover":{bgcolor:"action.hover",borderRadius:1},"& .MuiSelect-select":{py:.5,px:1}},children:j.map((a,c)=>{var d;let e=i(d=a.name)||d,f=i(a.name);return[c>0&&(0,b.jsx)(a2.default,{sx:{my:.5}},`divider-${a.name}`),(0,b.jsx)(a9.default,{value:a.name,sx:{py:1,px:2,"&:hover":{bgcolor:"action.hover"},"&.Mui-selected":{bgcolor:"primary.main",color:"primary.contrastText","&:hover":{bgcolor:"primary.dark"}}},children:(0,b.jsxs)(S.default,{sx:{width:"100%"},children:[(0,b.jsx)(aB.default,{variant:"body2",fontWeight:500,noWrap:!0,children:e}),f&&(0,b.jsx)(aB.default,{variant:"caption",color:"text.secondary",noWrap:!0,sx:{opacity:.7},children:a.cluster})]})},a.name)]})})]})}var bm=a.i(377660);function bn(a){return(0,b.jsx)(bm.default,{...a,viewBox:"0 0 640 640",children:(0,b.jsx)("path",{d:"M176 168C189.3 168 200 157.3 200 144C200 130.7 189.3 120 176 120C162.7 120 152 130.7 152 144C152 157.3 162.7 168 176 168zM256 144C256 176.8 236.3 205 208 217.3L208 288L384 288C410.5 288 432 266.5 432 240L432 217.3C403.7 205 384 176.8 384 144C384 99.8 419.8 64 464 64C508.2 64 544 99.8 544 144C544 176.8 524.3 205 496 217.3L496 240C496 301.9 445.9 352 384 352L208 352L208 422.7C236.3 435 256 463.2 256 496C256 540.2 220.2 576 176 576C131.8 576 96 540.2 96 496C96 463.2 115.7 435 144 422.7L144 217.4C115.7 205 96 176.8 96 144C96 99.8 131.8 64 176 64C220.2 64 256 99.8 256 144zM488 144C488 130.7 477.3 120 464 120C450.7 120 440 130.7 440 144C440 157.3 450.7 168 464 168C477.3 168 488 157.3 488 144zM176 520C189.3 520 200 509.3 200 496C200 482.7 189.3 472 176 472C162.7 472 152 482.7 152 496C152 509.3 162.7 520 176 520z"})})}function bo(){let{selectedRepo:a,selectedBranch:d,setSelectedBranch:e}=(0,P.useGitHubStore)(),[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!1);(0,c.useEffect)(()=>{a&&j()},[a]);let j=async()=>{if(a){i(!0);try{let b=await fetch(`/api/github/branches?owner=${a.owner}&repo=${a.repo}`),c=await b.json();b.ok&&Array.isArray(c)&&g(c)}catch(a){console.error("Failed to fetch branches:",a)}finally{i(!1)}}};return a?h?(0,b.jsxs)(S.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,b.jsx)(bn,{sx:{fontSize:20,color:"text.secondary"}}),(0,b.jsx)(aB.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:"Branch:"}),(0,b.jsx)(S.default,{sx:{py:.5,px:1},children:(0,b.jsx)(ba.default,{size:20})})]}):(0,b.jsxs)(S.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,b.jsx)(bn,{sx:{fontSize:20,color:"text.secondary"}}),(0,b.jsx)(aB.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:"Branch:"}),(0,b.jsx)(a8.default,{value:d,onChange:a=>e(a.target.value),displayEmpty:!0,variant:"standard",disableUnderline:!0,autoWidth:!0,renderValue:a=>{if(!a)return(0,b.jsx)(aB.default,{variant:"body2",color:"text.secondary",children:"Select..."});let c=((a,b=25)=>a.length<=b?a:a.substring(0,b-3)+"...")(a,40);return a!==c?(0,b.jsx)(aA.default,{title:a,placement:"bottom",children:(0,b.jsx)(aB.default,{variant:"body2",fontWeight:600,children:c})}):(0,b.jsx)(aB.default,{variant:"body2",fontWeight:600,children:a})},sx:{fontSize:"0.875rem","&:hover":{bgcolor:"action.hover",borderRadius:1},"& .MuiSelect-select":{py:.5,px:1}},children:f.map((a,c)=>(0,b.jsxs)(S.default,{children:[c>0&&(0,b.jsx)(a2.default,{sx:{my:.5}}),(0,b.jsx)(a9.default,{value:a.name,sx:{py:1,px:2,"&:hover":{bgcolor:"action.hover"},"&.Mui-selected":{bgcolor:"primary.main",color:"primary.contrastText","&:hover":{bgcolor:"primary.dark"}}},children:(0,b.jsx)(S.default,{sx:{width:"100%"},children:(0,b.jsxs)(aB.default,{variant:"body2",fontWeight:500,noWrap:!0,children:[a.name,a.protected&&" ðŸ”’"]})})})]},a.name))})]}):null}var bp=a.i(907329),bq=a.i(728443),br=a.i(836697);let bs=(0,aE.default)((0,b.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function bt({value:a,onChange:c,placeholder:d="Search...",fullWidth:e=!1}){return(0,b.jsx)(bp.default,{size:"small",placeholder:d,value:a,onChange:a=>c(a.target.value),fullWidth:e,slotProps:{input:{startAdornment:(0,b.jsx)(bq.default,{position:"start",children:(0,b.jsx)(br.default,{sx:{color:"text.secondary",fontSize:20}})}),endAdornment:a&&(0,b.jsx)(bq.default,{position:"end",children:(0,b.jsx)(aC.default,{size:"small",onClick:()=>{c("")},edge:"end",children:(0,b.jsx)(bs,{sx:{fontSize:18}})})})}},sx:{minWidth:e?void 0:300,"& .MuiOutlinedInput-root":{backgroundColor:a=>"dark"===a.palette.mode?"rgba(30, 30, 46, 0.6)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:"1px solid",borderColor:a=>"dark"===a.palette.mode?"rgba(255, 255, 255, 0.12)":"rgba(209, 213, 219, 0.4)",borderRadius:"12px","& fieldset":{border:"none"},"&:hover":{borderColor:a=>"dark"===a.palette.mode?"rgba(255, 255, 255, 0.2)":"rgba(209, 213, 219, 0.6)"},"&.Mui-focused":{borderColor:"primary.main",boxShadow:a=>"dark"===a.palette.mode?"0 0 0 2px rgba(59, 130, 246, 0.2)":"0 0 0 2px rgba(59, 130, 246, 0.1)"}}}})}var bu=a.i(796851),bv=a.i(609111),bw=a.i(130558),bx=a.i(18204),by=a.i(972701);let bz=(0,aE.default)((0,b.jsx)("path",{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25z"}),"AutoAwesome"),bA=(0,aE.default)([(0,b.jsx)("path",{d:"M12 22C6.49 22 2 17.51 2 12S6.49 2 12 2s10 4.04 10 9c0 3.31-2.69 6-6 6h-1.77c-.28 0-.5.22-.5.5 0 .12.05.23.13.33.41.47.64 1.06.64 1.67 0 1.38-1.12 2.5-2.5 2.5m0-18c-4.41 0-8 3.59-8 8s3.59 8 8 8c.28 0 .5-.22.5-.5 0-.16-.08-.28-.14-.35-.41-.46-.63-1.05-.63-1.65 0-1.38 1.12-2.5 2.5-2.5H16c2.21 0 4-1.79 4-4 0-3.86-3.59-7-8-7"},"0"),(0,b.jsx)("circle",{cx:"6.5",cy:"11.5",r:"1.5"},"1"),(0,b.jsx)("circle",{cx:"9.5",cy:"7.5",r:"1.5"},"2"),(0,b.jsx)("circle",{cx:"14.5",cy:"7.5",r:"1.5"},"3"),(0,b.jsx)("circle",{cx:"17.5",cy:"11.5",r:"1.5"},"4")],"PaletteOutlined"),bB=(0,aE.default)((0,b.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout");var bC=a.i(75780),bC=bC;function bD(){let{data:a}=q(),d=(0,M.useRouter)(),e=(0,M.usePathname)(),f=(0,P.useModeStore)(a=>a.mode),{mode:g,setThemeMode:h}=(0,bC.useTheme)(),[i,j]=(0,c.useState)(null),k=()=>{j(null)},l=a=>{h(a)},m=a=>{k();let b="demo"===f?`/demo${a}`:a;d.push(b)},n=async()=>{k(),await v({redirect:!1}),P.useModeStore.getState().setHasCompletedWelcome(!1)},o="demo"===f,p=o?"Demo User":a?.user?.name||"User",r=o?"demo@orphelix.com":a?.user?.email||"GitHub User",s=o?void 0:a?.user?.image;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(aA.default,{title:p,children:(0,b.jsx)(aC.default,{onClick:a=>{j(a.currentTarget)},size:"small",sx:{transition:"all 0.2s ease-in-out","&:hover":{transform:"scale(1.1)"}},children:(0,b.jsx)(bu.default,{src:s||void 0,alt:p,sx:{width:32,height:32,border:a=>"/settings"===e||"/demo/settings"===e?`2px solid ${a.palette.primary.main}`:"2px solid transparent"},children:!s&&p.charAt(0).toUpperCase()})})}),(0,b.jsxs)(bv.default,{anchorEl:i,open:!!i,onClose:k,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{mt:1,"& .MuiPaper-root":{minWidth:240,borderRadius:2,backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)"}},children:[(0,b.jsxs)(S.default,{sx:{px:2,py:1.5,display:"flex",alignItems:"center",gap:2},children:[(0,b.jsx)(bu.default,{src:s||void 0,alt:p,sx:{width:40,height:40},children:!s&&p.charAt(0).toUpperCase()}),(0,b.jsxs)(S.default,{sx:{overflow:"hidden"},children:[(0,b.jsx)(aB.default,{variant:"body2",fontWeight:600,noWrap:!0,children:p}),(0,b.jsx)(aB.default,{variant:"caption",color:"text.secondary",noWrap:!0,children:r})]})]}),(0,b.jsx)(a2.default,{}),(0,b.jsxs)(S.default,{sx:{px:2,py:1.5,display:"flex",gap:1,justifyContent:"center"},children:[(0,b.jsx)(aA.default,{title:"Light Mode",children:(0,b.jsx)(aC.default,{size:"small",onClick:()=>l("light"),sx:{color:"light"===g?"primary.main":"text.secondary",bgcolor:"light"===g?"action.selected":"transparent","&:hover":{bgcolor:"action.hover"}},children:(0,b.jsx)(bw.default,{sx:{fontSize:20}})})}),(0,b.jsx)(aA.default,{title:"Dark Mode",children:(0,b.jsx)(aC.default,{size:"small",onClick:()=>l("dark"),sx:{color:"dark"===g?"primary.main":"text.secondary",bgcolor:"dark"===g?"action.selected":"transparent","&:hover":{bgcolor:"action.hover"}},children:(0,b.jsx)(bx.default,{sx:{fontSize:20}})})}),(0,b.jsx)(aA.default,{title:"System",children:(0,b.jsx)(aC.default,{size:"small",onClick:()=>l("system"),sx:{color:"system"===g?"primary.main":"text.secondary",bgcolor:"system"===g?"action.selected":"transparent","&:hover":{bgcolor:"action.hover"}},children:(0,b.jsx)(by.default,{sx:{fontSize:20}})})})]}),(0,b.jsx)(a2.default,{}),(0,b.jsxs)(a9.default,{onClick:()=>m("/settings?tab=0"),children:[(0,b.jsx)(ay.default,{children:(0,b.jsx)(aW.default,{fontSize:"small"})}),(0,b.jsx)(az.default,{children:"Cluster Settings"})]}),(0,b.jsxs)(a9.default,{onClick:()=>m("/settings?tab=1"),children:[(0,b.jsx)(ay.default,{children:(0,b.jsx)(a_.default,{fontSize:"small"})}),(0,b.jsx)(az.default,{children:"GitHub Integration"})]}),(0,b.jsxs)(a9.default,{onClick:()=>m("/settings?tab=2"),children:[(0,b.jsx)(ay.default,{children:(0,b.jsx)(bz,{fontSize:"small"})}),(0,b.jsx)(az.default,{children:"AI Features"})]}),(0,b.jsxs)(a9.default,{onClick:()=>m("/settings?tab=3"),children:[(0,b.jsx)(ay.default,{children:(0,b.jsx)(bA,{fontSize:"small"})}),(0,b.jsx)(az.default,{children:"Design"})]}),!o&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(a2.default,{}),(0,b.jsxs)(a9.default,{onClick:n,children:[(0,b.jsx)(ay.default,{children:(0,b.jsx)(bB,{fontSize:"small"})}),(0,b.jsx)(az.default,{children:"Logout"})]})]})]})]})}var bE=a.i(335387);let bF=(0,c.lazy)(()=>a.A(365867).then(a=>({default:a.ChangesModal})));function bG(){let{selectedRepo:a,editBasket:d}=(0,P.useGitHubStore)(),e=(0,P.useModeStore)(a=>a.mode),f=(0,M.usePathname)(),g="/demo/repo-browser"===f?bE.mockGitHubRepo:a,{searchQuery:h,setSearchQuery:i,searchPlaceholder:j}=(0,O.useSearch)(),[k,l]=(0,c.useState)(!1),m=d.size;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(S.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2,py:1,minHeight:56,borderBottom:"1px solid",borderColor:"divider",bgcolor:"transparent",position:"sticky",top:0,zIndex:10,gap:3},children:[(0,b.jsx)(S.default,{sx:{display:"flex",alignItems:"center",minWidth:0},children:"/repo-browser"===f||"/demo/repo-browser"===f?(0,b.jsx)(bo,{}):"demo"===e?(0,b.jsxs)(S.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,b.jsx)(aB.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:"Cluster:"}),(0,b.jsx)(aB.default,{variant:"body2",fontWeight:600,children:"demo-cluster"})]}):(0,b.jsx)(bl,{})}),"/"!==f&&"/demo"!==f&&(0,b.jsx)(S.default,{sx:{display:"flex",alignItems:"center",gap:2,flex:1,justifyContent:"center",maxWidth:600},children:(0,b.jsx)(S.default,{sx:{flex:1},children:(0,b.jsx)(bt,{value:h,onChange:i,placeholder:j,fullWidth:!0})})}),(0,b.jsxs)(S.default,{sx:{display:"flex",alignItems:"center",gap:2,flexShrink:0},children:[("/repo-browser"===f||"/demo/repo-browser"===f)&&g?(0,b.jsxs)(S.default,{sx:{display:"flex",alignItems:"center",gap:2},children:[m>0&&(0,b.jsx)(aA.default,{title:`${m} file${m>1?"s":""} modified - Click to review`,children:(0,b.jsxs)(S.default,{onClick:()=>l(!0),sx:{display:"flex",alignItems:"center",gap:.5,px:1.5,py:.5,borderRadius:1,bgcolor:"warning.main",color:"warning.contrastText",cursor:"pointer",transition:"all 0.2s","&:hover":{bgcolor:"warning.dark",transform:"scale(1.05)"}},children:[(0,b.jsx)(a7,{sx:{fontSize:18}}),(0,b.jsx)(aB.default,{variant:"body2",fontWeight:600,children:m})]})}),(0,b.jsxs)(S.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,b.jsx)(aB.default,{variant:"caption",color:"text.secondary",fontWeight:600,children:"Repository:"}),(0,b.jsxs)(aB.default,{variant:"body2",fontWeight:600,children:[g.owner,"/",g.repo]})]})]}):(0,b.jsx)(bb,{}),(0,b.jsx)(bk,{}),(0,b.jsx)(bD,{})]})]}),k&&(0,b.jsx)(c.Suspense,{fallback:null,children:(0,b.jsx)(bF,{open:k,onClose:()=>l(!1)})})]})}function bH({children:a}){let{hasCompletedWelcome:d,mode:e,selectedContext:f,selectedNamespace:g,setHasCompletedWelcome:h}=(0,P.useModeStore)();return((0,c.useEffect)(()=>{d&&("real"!==e||f&&g||h(!1),"demo"!==e||g||h(!1))},[d,e,f,g,h]),d)?(0,b.jsxs)(S.default,{sx:{display:"flex",height:"100vh",bgcolor:"background.default",overflow:"hidden"},children:[(0,b.jsx)(a6,{}),(0,b.jsx)(S.default,{component:"main",sx:{flexGrow:1,minWidth:0,display:"flex",flexDirection:"column",height:"100%",pr:2},children:(0,b.jsxs)(S.default,{sx:{flex:1,minWidth:0,minHeight:0,display:"flex",flexDirection:"column",borderTopRightRadius:3,overflow:"hidden"},children:[(0,b.jsx)(bG,{}),(0,b.jsx)(S.default,{sx:{flex:1,minHeight:0,overflow:"auto",p:3},children:a})]})})]}):(0,b.jsx)(S.default,{sx:{height:"100vh",bgcolor:"background.default",overflow:"hidden"}})}var bI=a.i(241484),bJ=a.i(875168),bK=a.i(648577),bL=a.i(561829);let bM=(0,aE.default)((0,b.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"}),"Brightness4"),bN=(0,aE.default)((0,b.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6m0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"}),"Brightness7");a.i(358405);var bO=a.i(57265),bP=a.i(918319),bC=bC;function bQ(){let{status:a}=q(),d=(0,M.useRouter)(),e=(0,M.usePathname)(),{hasCompletedWelcome:f,setMode:g,setContext:h,setNamespace:i,setHasCompletedWelcome:j}=(0,P.useModeStore)(),{actualTheme:k,setThemeMode:l}=(0,bC.useTheme)(),[m,n]=(0,c.useState)(!f),[o,p]=(0,c.useState)("initial"),[r,s]=(0,c.useState)([]),[t,v]=(0,c.useState)(""),[w,x]=(0,c.useState)([]),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(null);(0,c.useEffect)(()=>{n(!f)},[f]),(0,c.useEffect)(()=>{"authenticated"===a&&"initial"===o&&p("github-required")},[a,o]),(0,c.useEffect)(()=>{(async()=>{if(!t||"cluster-selection"!==o)return x([]);B(!0);try{let a=await fetch(`/api/namespaces?context=${encodeURIComponent(t)}`);if(!a.ok){let b=await a.json();console.error("Failed to fetch namespaces:",b),x([]);return}let b=await a.json();console.log("Namespaces loaded:",b),Array.isArray(b)?(x(b),b.find(a=>"default"===a.name)&&z("default")):(console.error("Invalid namespaces response format:",b),x([]))}catch(a){console.error("Failed to load namespaces:",a),x([])}finally{B(!1)}})()},[t,o]);let I=a=>["/","/deployments","/statefulsets","/daemonsets","/pods","/jobs","/cronjobs","/services","/ingress","/configmaps","/secrets","/namespaces","/nodes","/hpa","/pv","/events","/labels","/topology","/settings","/repo-browser"].some(b=>a===b||a.startsWith(b+"/")),J=()=>{g("demo"),h(null),i("default"),j(!0),n(!1),document.cookie="app-mode=demo; path=/; max-age=31536000; SameSite=Lax",I(e)||d.push("/")},K=async()=>{try{await u("github",{callbackUrl:"/",redirect:!0})}catch(a){console.error("GitHub sign in error:",a),H("Failed to sign in with GitHub. Please try again.")}},L=async()=>{D(!0),H(null);try{let a=await fetch("/api/contexts"),b=await a.json();if(a.ok&&b.contexts&&b.contexts.length>0)s(b.contexts),p("cluster-selection"),1===b.contexts.length?v(b.contexts[0].name):v("");else throw Error("No Kubernetes contexts found. Please configure kubectl locally.")}catch(a){H(a instanceof Error?a.message:"Failed to load Kubernetes contexts")}finally{D(!1)}},N=async()=>{if(!t)return;let a=r.find(a=>a.name===t);if(a){F(!0),H(null);try{if(!(await fetch("/api/cluster-health",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contextName:a.name})})).ok)throw Error("Failed to connect to cluster. Please check your kubectl configuration.");g("real"),h({name:a.name,cluster:a.cluster,user:a.user});let b=y||a.namespace||"default";i(b),j(!0),n(!1),document.cookie="app-mode=real; path=/; max-age=31536000; SameSite=Lax",I(e)||d.push("/")}catch(a){H(a instanceof Error?a.message:"Failed to verify cluster connection")}finally{F(!1)}}};return m?(0,b.jsxs)(S.default,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",zIndex:9999,background:a=>"dark"===a.palette.mode?"radial-gradient(ellipse at top, rgba(102, 126, 234, 0.2), transparent 50%), radial-gradient(ellipse at bottom, rgba(118, 75, 162, 0.2), transparent 50%), linear-gradient(180deg, rgb(10, 10, 20) 0%, rgb(15, 15, 25) 100%)":"radial-gradient(ellipse at top, rgba(102, 126, 234, 0.12), transparent 50%), radial-gradient(ellipse at bottom, rgba(118, 75, 162, 0.12), transparent 50%), linear-gradient(180deg, rgb(250, 250, 255) 0%, rgb(240, 242, 250) 100%)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E\")",opacity:a=>"dark"===a.palette.mode?.3:.2,pointerEvents:"none"}},children:[(0,b.jsx)(S.default,{sx:{position:"absolute",top:20,right:20,zIndex:1,display:"flex",gap:1},children:(0,b.jsx)(aA.default,{title:"light"===k?"Dark mode":"Light mode",arrow:!0,children:(0,b.jsx)(aC.default,{onClick:()=>{l("light"===k?"dark":"light")},size:"medium",sx:{color:"text.secondary",bgcolor:"background.paper","&:hover":{bgcolor:"action.hover"}},children:"light"===k?(0,b.jsx)(bM,{}):(0,b.jsx)(bN,{})})})}),(0,b.jsx)(S.default,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flex:1,p:3},children:(0,b.jsxs)(S.default,{sx:{position:"relative",maxWidth:680,width:"100%"},children:[(0,b.jsx)(S.default,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"12px",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='3' numOctaves='4'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23noise)' opacity='1'/%3E%3C/svg%3E\")",backgroundSize:"150px 150px",opacity:a=>"dark"===a.palette.mode?.4:.3,pointerEvents:"none",zIndex:2,mixBlendMode:"overlay"}}),(0,b.jsx)(S.default,{sx:{position:"absolute",top:20,right:20,zIndex:3},children:(0,b.jsx)(aA.default,{title:"GitHub Repository",arrow:!0,children:(0,b.jsx)(aC.default,{component:bL.default,href:"https://github.com/dmakowski-rasp/kubevista",target:"_blank",rel:"noopener noreferrer",size:"small",sx:{color:"text.secondary",bgcolor:a=>"dark"===a.palette.mode?"rgba(0,0,0,0.2)":"rgba(255,255,255,0.3)","&:hover":{bgcolor:a=>"dark"===a.palette.mode?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.5)"}},children:(0,b.jsx)(a_.default,{fontSize:"small"})})})}),(0,b.jsxs)(bO.GlassPanel,{sx:{width:"100%",p:5,position:"relative",zIndex:1},children:[(0,b.jsxs)(S.default,{sx:{textAlign:"center",mb:5,mt:3},children:[(0,b.jsx)(S.default,{sx:{width:96,height:96,borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 28px",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.4)"},children:(0,b.jsx)(aB.default,{variant:"h2",sx:{color:"white",fontWeight:700},children:"O"})}),(0,b.jsx)(aB.default,{variant:"h2",gutterBottom:!0,sx:{fontWeight:700,fontFamily:'"Momo Trust Display", system-ui, sans-serif',letterSpacing:"0.06em",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",mb:1.5},children:"ORPHELIX"}),(0,b.jsx)(aB.default,{variant:"h6",color:"text.secondary",sx:{mb:3},children:"Modern Kubernetes Dashboard"}),"initial"===o&&(0,b.jsx)(aB.default,{variant:"body1",color:"text.secondary",sx:{maxWidth:480,mx:"auto"},children:"Sign in with GitHub to get started or explore the demo mode."}),"github-required"===o&&(0,b.jsx)(aB.default,{variant:"body1",color:"text.secondary",sx:{maxWidth:520,mx:"auto"},children:"ORPHELIX connects to your local Kubernetes cluster using kubectl. Please ensure kubectl is configured and authenticated on your machine."}),"cluster-selection"===o&&(0,b.jsx)(aB.default,{variant:"body1",color:"text.secondary",sx:{maxWidth:520,mx:"auto"},children:"Select a cluster to connect. We'll verify the connection before proceeding."})]}),G&&(0,b.jsx)(bK.default,{severity:"error",sx:{mb:3},children:G}),"initial"===o&&(0,b.jsxs)(S.default,{sx:{display:"flex",flexDirection:"column",gap:2.5,alignItems:"center"},children:[(0,b.jsx)(bP.GlassButton,{onClick:K,size:"large",startIcon:(0,b.jsx)(a_.default,{}),sx:{py:2,fontSize:"1rem",minWidth:320,justifyContent:"center",textAlign:"center",backgroundColor:a=>"dark"===a.palette.mode?"rgba(30, 30, 46, 0.4)":"rgba(255, 255, 255, 0.15)","&:hover":{backgroundColor:a=>"dark"===a.palette.mode?"rgba(50, 50, 70, 0.5)":"rgba(255, 255, 255, 0.25)"}},children:"Sign in with GitHub"}),(0,b.jsx)(aB.default,{variant:"body2",color:"text.secondary",textAlign:"center",children:"or"}),(0,b.jsx)(bP.GlassButton,{onClick:J,variant:"outlined",size:"large",sx:{py:2,fontSize:"1rem",minWidth:320,justifyContent:"center",textAlign:"center",backgroundColor:a=>"dark"===a.palette.mode?"rgba(30, 30, 46, 0.3)":"rgba(255, 255, 255, 0.1)","&:hover":{backgroundColor:a=>"dark"===a.palette.mode?"rgba(50, 50, 70, 0.4)":"rgba(255, 255, 255, 0.2)"}},children:"Demo"})]}),"github-required"===o&&(0,b.jsxs)(S.default,{sx:{display:"flex",flexDirection:"column",gap:2.5,alignItems:"center"},children:[(0,b.jsx)(bP.GlassButton,{onClick:L,disabled:C,size:"large",sx:{py:2,fontSize:"1rem",minWidth:320,justifyContent:"center",textAlign:"center",backgroundColor:a=>"dark"===a.palette.mode?"rgba(30, 30, 46, 0.4)":"rgba(255, 255, 255, 0.15)","&:hover":{backgroundColor:a=>"dark"===a.palette.mode?"rgba(50, 50, 70, 0.5)":"rgba(255, 255, 255, 0.25)"}},children:C?(0,b.jsx)(ba.default,{size:24,color:"inherit"}):"Load Available Clusters"}),(0,b.jsx)(aB.default,{variant:"body2",color:"text.secondary",textAlign:"center",children:"or"}),(0,b.jsx)(bP.GlassButton,{onClick:J,variant:"outlined",size:"large",sx:{py:2,fontSize:"1rem",minWidth:320,justifyContent:"center",textAlign:"center",backgroundColor:a=>"dark"===a.palette.mode?"rgba(30, 30, 46, 0.3)":"rgba(255, 255, 255, 0.1)","&:hover":{backgroundColor:a=>"dark"===a.palette.mode?"rgba(50, 50, 70, 0.4)":"rgba(255, 255, 255, 0.2)"}},children:"Demo"})]}),"cluster-selection"===o&&(0,b.jsxs)(S.default,{sx:{display:"flex",flexDirection:"column",gap:3},children:[(0,b.jsxs)(bI.default,{fullWidth:!0,children:[(0,b.jsx)(bJ.default,{id:"cluster-select-label",children:"Select Kubernetes Cluster"}),(0,b.jsxs)(a8.default,{labelId:"cluster-select-label",id:"cluster-select",value:t,label:"Select Kubernetes Cluster",onChange:a=>v(a.target.value),displayEmpty:!1,MenuProps:{sx:{zIndex:1e4}},children:[""===t&&(0,b.jsx)(a9.default,{value:"",disabled:!0,children:(0,b.jsx)(aB.default,{variant:"body2",color:"text.secondary",children:"Choose a cluster..."})}),r.map(a=>(0,b.jsx)(a9.default,{value:a.name,children:(0,b.jsxs)(S.default,{children:[(0,b.jsx)(aB.default,{variant:"body2",fontWeight:500,children:a.name}),(0,b.jsx)(aB.default,{variant:"caption",color:"text.secondary",children:a.cluster})]})},a.name))]})]}),t&&(0,b.jsxs)(bI.default,{fullWidth:!0,children:[(0,b.jsx)(bJ.default,{id:"namespace-select-label",children:"Namespace (optional)"}),(0,b.jsxs)(a8.default,{labelId:"namespace-select-label",id:"namespace-select",value:y,label:"Namespace (optional)",onChange:a=>z(a.target.value),disabled:A,endAdornment:A?(0,b.jsx)(S.default,{sx:{position:"absolute",right:40,display:"flex",alignItems:"center"},children:(0,b.jsx)(ba.default,{size:20})}):null,MenuProps:{sx:{zIndex:1e4}},children:[(0,b.jsx)(a9.default,{value:"",children:(0,b.jsx)("em",{children:A?"Loading namespaces...":0===w.length?"Unable to load namespaces (using default)":"Use cluster default"})}),w.map(a=>(0,b.jsx)(a9.default,{value:a.name,children:(0,b.jsxs)(S.default,{children:[(0,b.jsx)(aB.default,{variant:"body2",fontWeight:500,children:a.name}),(0,b.jsx)(aB.default,{variant:"caption",color:"text.secondary",children:a.status})]})},a.name))]})]}),(0,b.jsxs)(S.default,{sx:{display:"flex",gap:2},children:[(0,b.jsx)(bP.GlassButton,{onClick:()=>{p("github-required"),s([]),v("")},variant:"outlined",fullWidth:!0,size:"large",sx:{py:2,fontSize:"1rem",justifyContent:"center",textAlign:"center",backgroundColor:a=>"dark"===a.palette.mode?"rgba(30, 30, 46, 0.3)":"rgba(255, 255, 255, 0.1)","&:hover":{backgroundColor:a=>"dark"===a.palette.mode?"rgba(50, 50, 70, 0.4)":"rgba(255, 255, 255, 0.2)"}},children:"Back"}),(0,b.jsx)(bP.GlassButton,{onClick:N,disabled:!t||E,fullWidth:!0,size:"large",sx:{py:2,fontSize:"1rem",justifyContent:"center",textAlign:"center",backgroundColor:a=>"dark"===a.palette.mode?"rgba(30, 30, 46, 0.4)":"rgba(255, 255, 255, 0.15)","&:hover":{backgroundColor:a=>"dark"===a.palette.mode?"rgba(50, 50, 70, 0.5)":"rgba(255, 255, 255, 0.25)"}},children:E?(0,b.jsx)(ba.default,{size:24,color:"inherit"}):"Connect"})]})]})]})]})})]}):null}function bR({children:a}){return(0,b.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[(0,b.jsxs)("head",{children:[(0,b.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,b.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),(0,b.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Momo+Trust+Display:wght@400;500;600;700&display=swap",rel:"stylesheet"}),(0,b.jsx)("script",{dangerouslySetInnerHTML:{__html:`
              (function() {
                try {
                  var theme = localStorage.getItem('theme-mode') || 'system';
                  var actualTheme = theme;
                  if (theme === 'system') {
                    actualTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
                  }
                  document.documentElement.setAttribute('data-theme', actualTheme);
                  document.documentElement.style.colorScheme = actualTheme;
                } catch (e) {}
              })();
            `}})]}),(0,b.jsx)("body",{style:{margin:0},suppressHydrationWarning:!0,children:(0,b.jsxs)(R,{children:[(0,b.jsx)(bQ,{}),(0,b.jsx)(bH,{children:a})]})})]})}a.s(["default",()=>bR],866803)}];

//# sourceMappingURL=app_app_layout_tsx_0d33cbf4._.js.map